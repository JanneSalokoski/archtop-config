kia.prototype.Wda=W(6,function(){throw Gca("setValue not supported").C;});xda.prototype.H=W(1,function(){throw Gca("remove").C;});$da.prototype.H=W(0,function(){this.J.splice(this.F,1);this.F--});function Krh(a,b){a.mS=b.mS;return a}function Lrh(a,b,c){for(a=a.sj();a.C();){var d=a.D();if(wb(b,d))return c&&a.H(),!0}return!1}function Mrh(a,b,c){return a.wX(b)?a.nva(b,c):null}function Nrh(a,b){var c=b.gs();b=b.hs();var d=a.get(c);return!wb(b,d)||null==d&&!a.wX(c)?!1:!0}
function Orh(a){return a?a.hs():null}function Prh(a){if(a.F.C())return!0;if(!Sa(a.F,a.R))return!1;a.F=a.L.C.sj();return a.F.C()}function Qrh(a,b){return(a=a.C.get(b))?a:[]}function Rrh(a,b){for(var c=0;c<b.length;c++){var d=b[c];if(wb(a,d.gs()))return d}return null}function Srh(a,b){var c=a.C.get(b);if(void 0===c)a.D++;else{var d=a.C;d["delete"].call(d,b);a.F--}return c}function Trh(a,b,c){var d=a.C.get(b);a.C.set(b,void 0===c?null:c);void 0===d?a.F++:a.D++;return d}
function Urh(a,b){for(b=b.sj();b.C();){var c=b.D().hs();if(wb(a,c))return!0}return!1}function Vrh(){this.J=this.F=0}u(Vrh,Ra);Vrh.prototype.C=function(){return this.F<this.L.size()};Vrh.prototype.D=function(){this.C();return this.L.joa(this.J=this.F++)};Vrh.prototype.H=function(){this.L.Lga(this.J);this.F=this.J;this.J=-1};function Wrh(){Vrh.call(this)}u(Wrh,Vrh);function Xrh(){this.J=!1}u(Xrh,Ra);Xrh.prototype.C=g("J");
Xrh.prototype.D=function(){this.C();this.O=this.F;var a=this.F.D();this.J=Prh(this);return a};Xrh.prototype.H=function(){this.O.H();this.O=null;this.J=Prh(this)};function Yrh(){}u(Yrh,Ra);Yrh.prototype.C=function(){return this.F.C()};Yrh.prototype.D=function(){return this.F.D().hs()};Yrh.prototype.H=function(){this.F.H()};function Zrh(){}u(Zrh,Ra);Zrh.prototype.C=function(){return this.F.C()};Zrh.prototype.D=function(){return this.F.D().gs()};Zrh.prototype.H=function(){this.F.H()};
function $rh(){this.F=this.J=0}u($rh,Ra);$rh.prototype.C=function(){return this.J<this.L.C.length};$rh.prototype.D=function(){this.C();this.F=this.J++;return this.L.C[this.F]};$rh.prototype.H=function(){this.L.Lga(this.J=this.F);this.F=-1};function ash(a){var b;null==a?b=0:b=Ab(a)|0;return b}function bsh(a,b){for(var c=ash(b),d=Qrh(a,c),e=0;e<d.length;e++){var f=d[e];if(wb(b,f.gs()))return 1==d.length?(d.length=0,b=a.C,b["delete"].call(b,c)):d.splice(e,1),a.D--,f.hs()}return null}
function csh(){this.F=0}u(csh,Ra);csh.prototype.C=function(){if(this.F<this.J.length)return!0;var a=this.R.next();return a.done?!1:(this.J=a.value[1],this.F=0,!0)};csh.prototype.D=function(){return this.L=this.J[this.F++]};csh.prototype.H=function(){bsh(this.O,this.L.gs());0!=this.F&&this.F--};function dsh(){this.D=0}u(dsh,Ra);dsh.prototype.sj=function(){var a=new csh;a.O=this;a.R=a.O.C.entries();a.F=0;a.J=[];a.L=null;return a};
function esh(a){var b=0;for(a=a.sj();a.C();){var c=a.D();b+=Wba(c);b|=0}return b}function fsh(){}u(fsh,Ra);fsh.prototype.equals=function(a){return null!=a&&a.iZ?wb(this.gs(),a.gs())&&wb(this.hs(),a.hs()):!1};fsh.prototype.wk=function(){return Wba(this.gs())^Wba(this.hs())};fsh.prototype.toString=function(){return Ta(this.gs())+"="+Ta(this.hs())};fsh.prototype.iZ=!0;function gsh(){this.F=0}u(gsh,fsh);gsh.prototype.gs=function(){return this.C.value[0]};
gsh.prototype.hs=function(){return this.D.D!=this.F?this.D.C.get(this.C.value[0]):this.C.value[1]};gsh.prototype.Wda=function(a){return Trh(this.D,this.C.value[0],a)};function hsh(){}u(hsh,Ra);hsh.prototype.C=function(){return!this.J.done};hsh.prototype.D=function(){this.O=this.J;this.J=this.L.next();var a=new gsh,b=this.O,c=this.F.D;a.D=this.F;a.C=b;a.F=c;return a};hsh.prototype.H=function(){Srh(this.F,this.O.value[0])};function ish(){this.D=this.F=0}u(ish,Ra);
ish.prototype.sj=function(){var a=new hsh;a.F=this;a.L=a.F.C.entries();a.J=a.L.next();return a};function jsh(a){var b=new dsh;b.C=new Map;b.F=a;a.C=b;b=new ish;b.C=new Map;b.H=a;a.D=b}function ksh(a,b){return Sa(b,a)?"(this Map)":Ta(b)}function lsh(){}u(lsh,Ra);lsh.prototype.toString=function(){return this.C?Vb(this.D)?this.C.toString():Ta(this.C.toString())+Ta(this.D):this.J};function msh(a,b){var c=new lsh;c.H=", ".toString();c.F=a.toString();c.D=b.toString();c.J=Ta(c.F)+Ta(c.D);return c}
function nsh(a,b){a.C?Eb(a.C,a.H):a.C=cca(a.F);a=a.C;a.Ap=Ta(a.Ap)+Ta(b)}function osh(){}u(osh,Ra);p=osh.prototype;p.gs=g("D");p.hs=g("C");p.Wda=function(a){var b=this.C;this.C=a;return b};p.equals=function(a){return null!=a&&a.iZ?wb(this.D,a.gs())&&wb(this.C,a.hs()):!1};p.wk=function(){return Wba(this.D)^Wba(this.C)};p.toString=function(){return Ta(this.D)+"="+Ta(this.C)};p.iZ=!0;function psh(){}u(psh,osh);function qsh(a,b){var c=new psh;c.D=a;c.C=b;return c}
function rsh(a,b,c){var d=ash(b),e=Qrh(a,d);if(0==e.length)a.C.set(d,e);else if(d=Rrh(b,e))return d.Wda(c);e[e.length]=qsh(b,c);a.D++;return null}function ssh(a,b,c){for(a=a.sG().sj();a.C();){var d=a.D();if(wb(b,d.gs()))return c&&(d=qsh(d.gs(),d.hs()),a.H()),d}return null}function tsh(){}u(tsh,Ra);p=tsh.prototype;p.add=function(){throw Gca("Add not supported on this collection").C;};p.clear=function(){for(var a=this.sj();a.C();)a.D(),a.H()};p.contains=function(a){return Lrh(this,a,!1)};
p.isEmpty=function(){return 0==this.size()};p.remove=function(a){return Lrh(this,a,!0)};p.Jc=function(a){for(var b=!1,c=this.sj();c.C();){var d=c.D();a.contains(d)&&(c.H(),b=!0)}return b};p.Mf=function(){return this.KQa(Array(this.size()))};p.KQa=function(a){var b=this.size();a.length<b&&(a=Krh(Array(b),a));for(var c=a,d=this.sj(),e=0;e<b;++e){var f=d.D();c[e]=f}a.length>b&&(a[b]=null);return a};
p.toString=function(){for(var a=msh("[","]"),b=this.sj();b.C();){var c=b.D();nsh(a,Sa(c,this)?"(this Collection)":Ta(c))}return a.toString()};function ush(){}u(ush,tsh);ush.prototype.clear=function(){this.C.clear()};ush.prototype.contains=function(a){return this.C.St(a)};ush.prototype.sj=function(){var a=this.C.sG().sj(),b=new Yrh;b.F=a;return b};ush.prototype.size=function(){return this.C.size()};function vsh(){}u(vsh,tsh);
vsh.prototype.equals=function(a){if(Sa(a,this))return!0;if(null==a||!a.JAa)return!1;if(a.size()!=this.size())a=!1;else a:{for(a=a.sj();a.C();){var b=a.D();if(!this.contains(b)){a=!1;break a}}a=!0}return a};vsh.prototype.wk=function(){return esh(this)};vsh.prototype.Jc=function(a){var b=this.size();if(b<a.size())for(var c=this.sj();c.C();){var d=c.D();a.contains(d)&&c.H()}else for(a=a.sj();a.C();)c=a.D(),this.remove(c);return b!=this.size()};vsh.prototype.JAa=!0;function wsh(){}u(wsh,vsh);p=wsh.prototype;
p.clear=function(){this.C.clear()};p.contains=function(a){return null!=a&&a.iZ?Nrh(this.C,a):!1};p.sj=function(){var a=new Xrh;a.L=this.C;a.R=a.L.D.sj();a.F=a.R;a.J=Prh(a);return a};p.remove=function(a){return this.contains(a)?(this.C.remove(a.gs()),!0):!1};p.size=function(){return this.C.size()};function xsh(){}u(xsh,vsh);p=xsh.prototype;p.clear=function(){this.C.clear()};p.contains=function(a){return this.C.wX(a)};p.sj=function(){var a=this.C.sG().sj(),b=new Zrh;b.F=a;return b};
p.remove=function(a){return this.C.wX(a)?(this.C.remove(a),!0):!1};p.size=function(){return this.C.size()};function ysh(){}u(ysh,Ra);p=ysh.prototype;p.clear=function(){this.sG().clear()};p.wX=function(a){return!!ssh(this,a,!1)};p.St=function(a){for(var b=this.sG().sj();b.C();){var c=b.D().hs();if(wb(a,c))return!0}return!1};p.equals=function(a){if(Sa(a,this))return!0;if(null==a||!a.X0a||this.size()!=a.size())return!1;for(a=a.sG().sj();a.C();){var b=a.D();if(!Nrh(this,b))return!1}return!0};
p.get=function(a){return Orh(ssh(this,a,!1))};p.wk=function(){return esh(this.sG())};p.isEmpty=function(){return 0==this.size()};p.RKb=function(){var a=new xsh;a.C=this;return a};p.nva=function(){throw Gca("Put not supported on this map").C;};p.remove=function(a){return Orh(ssh(this,a,!0))};p.size=function(){return this.sG().size()};p.toString=function(){for(var a=msh("{","}"),b=this.sG().sj();b.C();){var c=b.D();c=Ta(ksh(this,c.gs()))+"="+Ta(ksh(this,c.hs()));nsh(a,c)}return a.toString()};
p.values=function(){var a=new ush;a.C=this;return a};p.replace=function(a,b){return Mrh(this,a,b)};p.X0a=!0;function zsh(){}u(zsh,ysh);p=zsh.prototype;p.clear=function(){jsh(this)};p.wX=function(a){var b;Xb(a)?b=null==a?!!Rrh(null,Qrh(this.C,ash(null))):void 0!==this.D.C.get(a):b=!!Rrh(a,Qrh(this.C,ash(a)));return b};p.St=function(a){return Urh(a,this.D)||Urh(a,this.C)};p.sG=function(){var a=new wsh;a.C=this;return a};
p.get=function(a){var b;Xb(a)?b=null==a?Orh(Rrh(null,Qrh(this.C,ash(null)))):this.D.C.get(a):b=Orh(Rrh(a,Qrh(this.C,ash(a))));return b};p.nva=function(a,b){var c;Xb(a)?c=null==a?rsh(this.C,null,b):Trh(this.D,a,b):c=rsh(this.C,a,b);return c};p.remove=function(a){var b;Xb(a)?b=null==a?bsh(this.C,null):Srh(this.D,a):b=bsh(this.C,a);return b};p.size=function(){return this.C.D+this.D.F};p.replace=function(a,b){return Mrh(this,a,b)};function Ash(){}u(Ash,zsh);
Ash.prototype.replace=function(a,b){return Mrh(this,a,b)};function Bsh(){}u(Bsh,tsh);p=Bsh.prototype;p.add=function(a){this.wCa(this.size(),a);return!0};p.wCa=function(){throw Gca("Add not supported on this list").C;};p.clear=function(){this.JQa(0,this.size())};p.equals=function(a){if(Sa(a,this))return!0;if(null==a||!a.IAa||this.size()!=a.size())return!1;a=a.sj();for(var b=this.sj();b.C();){var c=b.D(),d=a.D();if(!wb(c,d))return!1}return!0};
p.wk=function(){for(var a=1,b=this.sj();b.C();){var c=b.D();a=31*a+Wba(c);a|=0}return a};p.indexOf=function(a){for(var b=0,c=this.size();b<c;++b)if(wb(a,this.joa(b)))return b;return-1};p.sj=function(){var a=new Vrh;a.L=this;a.F=0;a.J=-1;return a};p.lastIndexOf=function(a){for(var b=this.size()-1;-1<b;--b)if(wb(a,this.joa(b)))return b;return-1};p.Lga=function(){throw Gca("Remove not supported on this list").C;};
p.JQa=function(a,b){var c=new Wrh;c.L=this;c.F=0;c.J=-1;this.size();for(c.F=a;a<b;++a)c.D(),c.H()};p.IAa=!0;function Csh(){}u(Csh,Bsh);p=Csh.prototype;p.add=function(a){this.C[this.C.length]=a;return!0};p.wCa=function(a,b){this.C.splice(a,0,b)};p.clear=function(){this.C=[]};p.contains=function(a){return-1!=this.indexOf(a)};p.joa=function(a){return this.C[a]};p.indexOf=function(a){a:{for(var b=0;b<this.C.length;++b)if(wb(a,this.C[b])){a=b;break a}a=-1}return a};
p.sj=function(){var a=new $rh;a.L=this;a.J=0;a.F=-1;return a};p.isEmpty=function(){return 0==this.C.length};p.lastIndexOf=function(a){a:{for(var b=this.size()-1;0<=b;--b)if(wb(a,this.C[b])){a=b;break a}a=-1}return a};p.Lga=function(a){this.C.splice(a,1)};p.remove=function(a){a=this.indexOf(a);if(-1==a)return!1;this.Lga(a);return!0};p.size=function(){return this.C.length};p.Mf=function(){var a=this.C;return Krh(a.slice(0,this.C.length),a)};
p.KQa=function(a){var b=this.C.length;a.length<b&&(a=Krh(Array(b),a));for(var c=0;c<b;++c)a[c]=this.C[c];a.length>b&&(a[b]=null);return a};p.JQa=function(a,b){this.C.splice(a,b-a)};p.IAa=!0;function Dsh(a){var b=new Kpa;return cj(b,6,a)}function Esh(){var a=kw.getInstance(),b=(1E9*Math.random()>>>0).toString(36);a.C=b}function Fsh(a){a.jYa=!1;a.iYa=!1}function Gsh(a,b){return!(!a.C[b]&&!a.J[b])}var Hsh={};function O6(a){J(this,a,0,1,null,null)}y(O6,I);
O6.prototype.ea=function(){var a=new F;Ish(this,a);return Y(a)};function Ish(a,b){Pi(a,b,Hsh,O6.prototype.getExtension)}function Jsh(a,b){var c=K(a,1);null!=c&&b.D(1,c);c=K(a,2);null!=c&&Fi(b,2,c);c=K(a,3);null!=c&&Fi(b,3,c)}function Ksh(a){J(this,a,0,-1,null,null)}y(Ksh,I);p=Ksh.prototype;p.ea=function(){var a=new F;Jsh(this,a);return Y(a)};p.getUrl=function(){return K(this,1)};p.getWidth=function(){return K(this,2)};p.setWidth=function(a){return M(this,2,a)};
p.getHeight=function(){return K(this,3)};p.setHeight=function(a){return M(this,3,a)};function Lsh(a,b){var c=K(a,1);null!=c&&H(b,1,c);c=K(a,2);null!=c&&H(b,2,c);c=K(a,3);null!=c&&H(b,3,c);c=K(a,4);null!=c&&H(b,4,c)}function Msh(a){J(this,a,0,-1,null,null)}y(Msh,I);Msh.prototype.ea=function(){var a=new F;Lsh(this,a);return Y(a)};
function Nsh(a,b){var c=K(a,1);null!=c&&b.D(1,c);c=K(a,2);null!=c&&b.D(2,c);c=N(a,Ksh,3);null!=c&&b.C(3,c,Jsh);c=K(a,4);null!=c&&G(b,4,c);c=K(a,5);null!=c&&b.D(5,c);c=K(a,9);null!=c&&b.D(9,c);c=K(a,6);null!=c&&b.D(6,c);c=N(a,Msh,7);null!=c&&b.C(7,c,Lsh);c=K(a,8);null!=c&&b.D(8,c);c=K(a,11);null!=c&&b.D(11,c);c=K(a,10);null!=c&&b.D(10,c);c=K(a,12);null!=c&&b.D(12,c)}function Osh(a){J(this,a,0,-1,null,null)}y(Osh,I);p=Osh.prototype;p.ea=function(){var a=new F;Nsh(this,a);return Y(a)};
p.getName=function(){return K(this,1)};p.ld=function(a){return M(this,1,a)};p.getUrl=function(){return K(this,2)};p.getId=function(){return K(this,9)};p.Uc=function(a){return M(this,9,a)};var Psh=[8],Qsh=[5];function Rsh(a,b){var c=K(a,1);null!=c&&b.D(1,c);c=K(a,2);null!=c&&b.D(2,c)}function P6(a){J(this,a,0,-1,null,null)}y(P6,I);p=P6.prototype;p.ea=function(){var a=new F;Rsh(this,a);return Y(a)};p.getType=function(){return K(this,1)};p.setType=function(a){return M(this,1,a)};
p.clearType=function(){return M(this,1,void 0)};p.hasType=function(){return null!=K(this,1)};p.getValue=function(){return K(this,2)};p.setValue=function(a){return M(this,2,a)};p.hasValue=function(){return null!=K(this,2)};function Ssh(a,b){var c=K(a,1);null!=c&&b.D(1,c);c=K(a,2);null!=c&&b.D(2,c);c=N(a,O6,3);null!=c&&b.C(3,c,Ish);c=K(a,4);null!=c&&b.D(4,c)}function Tsh(a){J(this,a,0,-1,null,null)}y(Tsh,I);p=Tsh.prototype;p.ea=function(){var a=new F;Ssh(this,a);return Y(a)};
p.getType=function(){return K(this,1)};p.setType=function(a){return M(this,1,a)};p.clearType=function(){return M(this,1,void 0)};p.hasType=function(){return null!=K(this,1)};p.getValue=function(){return K(this,2)};p.setValue=function(a){return M(this,2,a)};p.hasValue=function(){return null!=K(this,2)};function Ush(a,b){a=N(a,eZ,1);null!=a&&b.C(1,a,w4e)}function Vsh(a){J(this,a,0,-1,null,null)}y(Vsh,I);Vsh.prototype.ea=function(){var a=new F;Ush(this,a);return Y(a)};
function Q6(a){return N(a,Tsh,9)}function Wsh(a,b){var c=N(a,eZ,1);null!=c&&b.C(1,c,w4e);c=K(a,2);null!=c&&H(b,2,c);c=K(a,3);null!=c&&Gi(b,3,c);c=K(a,4);null!=c&&Gi(b,4,c)}function Xsh(a){J(this,a,0,-1,null,null)}y(Xsh,I);Xsh.prototype.ea=function(){var a=new F;Wsh(this,a);return Y(a)};Xsh.prototype.D=function(a){M(this,2,a)};
function Ysh(a,b){var c=K(a,1);null!=c&&Gi(b,1,c);c=K(a,2);null!=c&&Gi(b,2,c);c=K(a,3);null!=c&&Gi(b,3,c);c=K(a,4);null!=c&&H(b,4,c);c=bj(a,Xsh,5);0<c.length&&Li(b,5,c,Wsh)}function Zsh(a){J(this,a,0,-1,Qsh,null)}y(Zsh,I);Zsh.prototype.ea=function(){var a=new F;Ysh(this,a);return Y(a)};function $sh(a){J(this,a,0,-1,Psh,null)}y($sh,I);p=$sh.prototype;p.ea=function(){var a=new F;ath(this,a);return Y(a)};
function ath(a,b){var c=K(a,1);null!=c&&b.D(1,c);c=K(a,2);null!=c&&b.D(2,c);c=a.getContent();null!=c&&b.C(3,c,Rsh);c=N(a,P6,4);null!=c&&b.C(4,c,Rsh);c=N(a,eZ,5);null!=c&&b.C(5,c,w4e);c=N(a,Osh,14);null!=c&&b.C(14,c,Nsh);c=K(a,6);null!=c&&Gi(b,6,c);c=K(a,7);null!=c&&Gi(b,7,c);c=R6(a);0<c.length&&Li(b,8,c,ath);c=Q6(a);null!=c&&b.C(9,c,Ssh);c=N(a,bW,21);null!=c&&b.C(21,c,dCe);c=K(a,10);null!=c&&H(b,10,c);c=K(a,11);null!=c&&b.D(11,c);c=K(a,12);null!=c&&G(b,12,c);c=K(a,13);null!=c&&Gi(b,13,c);c=K(a,15);
null!=c&&G(b,15,c);c=K(a,16);null!=c&&b.D(16,c);c=K(a,17);null!=c&&H(b,17,c);c=N(a,Vsh,18);null!=c&&b.C(18,c,Ush);c=N(a,Zsh,19);null!=c&&b.C(19,c,Ysh);c=K(a,20);null!=c&&H(b,20,c);c=K(a,22);null!=c&&G(b,22,c);c=K(a,23);null!=c&&G(b,23,c)}p.getId=function(){return K(this,1)};p.Uc=function(a){return M(this,1,a)};p.getContent=function(){return N(this,P6,3)};p.setContent=function(a){return cj(this,3,a)};p.Pr=function(){return null!=K(this,3)};function R6(a){return bj(a,$sh,8)}
p.getOrigin=function(){return K(this,17)};function S6(a){return N(a,$sh,2)}function T6(a){J(this,a,0,-1,null,null)}y(T6,I);function bth(a){J(this,a,0,-1,null,null)}y(bth,I);p=T6.prototype;p.ea=function(){var a=new F;cth(this,a);return Y(a)};
function cth(a,b){var c=K(a,1);null!=c&&b.D(1,c);c=S6(a);null!=c&&b.C(2,c,ath);c=K(a,3);null!=c&&Gi(b,3,c);c=K(a,4);null!=c&&Gi(b,4,c);c=a.bp();null!=c&&b.C(5,c,dth);c=K(a,6);null!=c&&G(b,6,c);c=K(a,7);null!=c&&G(b,7,c);c=K(a,8);null!=c&&b.D(8,c);c=K(a,9);null!=c&&G(b,9,c)}p.getId=function(){return K(this,1)};p.Uc=function(a){return M(this,1,a)};p.bp=function(){return N(this,bth,5)};p.Ft=function(a){return cj(this,5,a)};p=bth.prototype;p.ea=function(){var a=new F;dth(this,a);return Y(a)};
function dth(a,b){var c=K(a,1);null!=c&&b.D(1,c);c=a.getTitle();null!=c&&b.C(2,c,Rsh);c=N(a,T6,3);null!=c&&b.C(3,c,cth)}p.getId=function(){return K(this,1)};p.Uc=function(a){return M(this,1,a)};p.getTitle=function(){return N(this,P6,2)};p.setTitle=function(a){return cj(this,2,a)};function eth(a){J(this,a,"gs",-1,null,null)}y(eth,I);eth.prototype.ea=function(){var a=new F;var b=this.Io();null!=b&&a.C(1,b,x4e);return Y(a)};eth.Fe="gs";eth.prototype.Io=function(){return N(this,fZ,1)};
var fth=[1,2],gth=[1];function hth(a){J(this,a,"sr",-1,gth,null)}y(hth,I);hth.prototype.ea=function(){var a=new F;var b=bj(this,T6,1);0<b.length&&Li(a,1,b,cth);b=K(this,2);null!=b&&Gi(a,2,b);b=K(this,3);null!=b&&Gi(a,3,b);return Y(a)};hth.Fe="sr";function ith(a,b){var c=K(a,1);null!=c&&b.D(1,c);c=K(a,2);null!=c&&b.D(2,c)}function jth(a){J(this,a,0,-1,null,null)}y(jth,I);jth.prototype.ea=function(){var a=new F;ith(this,a);return Y(a)};jth.prototype.getId=function(){return K(this,1)};
jth.prototype.Uc=function(a){return M(this,1,a)};function kth(a){J(this,a,"u",-1,fth,null)}y(kth,I);kth.prototype.ea=function(){var a=new F;var b=bj(this,T6,1);0<b.length&&Li(a,1,b,cth);b=bj(this,jth,2);0<b.length&&Li(a,2,b,ith);return Y(a)};kth.Fe="u";
function lth(a,b){if(a){if(!a.R){var c;a.D&&(c=a.D.photo);a.R=c?new icf(c,a.H):jcf}a=a.R;for(c=0;c<a.C.length;c++){var d=a.C[c]||hcf,e;(e=!!d.getUrl())&&!(e=!b)&&(d.C||(d.C="metadata"in d.D?new Jbf(d.D.metadata,d.F):Pbf),e=b(d.C));if(e)return d.getUrl()}}return null}function mth(a){null===a.F&&(a.F=lth(a.C,function(b){return!!b&&!Kbf(b)}),null===a.F&&(a.F=Acf(a,lth)));return a.F}function nth(){}u(nth,vsh);p=nth.prototype;p.add=function(a){return null==this.C.nva(a,this)};p.clear=function(){this.C.clear()};
p.contains=function(a){return this.C.wX(a)};p.isEmpty=function(){return this.C.isEmpty()};p.sj=function(){return this.C.RKb().sj()};p.remove=function(a){return null!=this.C.remove(a)};p.size=function(){return this.C.size()};p.JAa=!0;function oth(a,b,c,d){QA.call(this,a,[a.offsetLeft,a.offsetTop],b,c,d)}y(oth,QA);oth.prototype.Qv=function(){this.nz=[this.C?$5a(this.element):this.element.offsetLeft,this.element.offsetTop];oth.Ua.Qv.call(this)};function pth(a,b){A.call(this);this.Ag=a;this.C=b}
y(pth,A);p=pth.prototype;p.connect=function(a){a&&a()};p.isConnected=m(!0);p.sf=function(a,b,c){this.Ag.D.sf(this.C+":"+a,v(this.IFa,this,b),c)};p.zL=function(a){this.D=v(this.IFa,this,a)};p.send=function(a,b){if(this.isDisposed())throw Error("#send called for disposed VirtualChannel.");this.Ag.D.send(this.C+":"+a,b)};p.IFa=function(a,b){this.isDisposed()||a.apply({},Array.prototype.slice.call(arguments,1))};p.Ja=function(){this.Ag=this.Ag.C[this.C]=null};
function qth(a){A.call(this);this.D=a;this.C={};this.D.zL(v(this.F,this))}y(qth,A);function rth(a,b){if(-1!=b.indexOf(":"))throw Error('Virtual channel name "'+b+'" should not contain colons');if(b in a.C)throw Error('Virtual channel "'+b+'" was already created for this multichannel.');var c=new pth(a,b);return a.C[b]=c}qth.prototype.F=function(a,b){if(a=a.match(/^([^:]*):(.*)/)){var c=a[1];a=a[2];c in this.C&&(c=this.C[c])&&c.D&&c.D(a,b)}};
qth.prototype.Ja=function(){Hd(this.C,function(a){Hf(a)});Hf(this.D);delete this.C;delete this.D};var sth={$0a:"all",Htc:"important",NONE:"none"};function tth(){this.V=this.R=this.J=this.L=this.C=this.H=this.O=this.F=this.D=0}function uth(a){var b=new Jpa,c=a.F+a.O,d=a.C+a.L,e=a.H+d,f=a.J+a.R;M(b,1,a.D+c+e+f+a.V);M(b,2,a.D);M(b,14,a.V);M(b,9,a.F);M(b,6,a.O);M(b,3,c);M(b,10,a.H);M(b,12,a.C);M(b,13,a.L);M(b,7,d);M(b,4,e);M(b,11,a.J);M(b,8,a.R);M(b,5,f);return new dxd(b)}var vth=[1];
function wth(a){J(this,a,0,-1,null,null)}y(wth,I);wth.prototype.ea=function(){var a=new F;var b=this.Io();null!=b&&a.C(1,b,x4e);return Y(a)};wth.prototype.Io=function(){return N(this,fZ,1)};function xth(a){J(this,a,0,-1,null,null)}y(xth,I);xth.prototype.ea=function(){var a=new F;var b=K(this,1);null!=b&&a.D(1,b);b=K(this,2);null!=b&&a.D(2,b);b=K(this,3);null!=b&&a.D(3,b);b=K(this,4);null!=b&&a.D(4,b);return Y(a)};xth.prototype.Xf=function(){return K(this,1)};
xth.prototype.getFileName=function(){return K(this,2)};function yth(a){J(this,a,0,-1,vth,null)}y(yth,I);yth.prototype.ea=function(){var a=new F;var b=bj(this,T6,1);0<b.length&&Li(a,1,b,cth);b=K(this,2);null!=b&&Gi(a,2,b);b=K(this,3);null!=b&&G(a,3,b);b=K(this,4);null!=b&&Gi(a,4,b);b=K(this,5);null!=b&&a.D(5,b);b=K(this,6);null!=b&&H(a,6,b);return Y(a)};
var zth=/([\S\s]*?)(\b(?:mailto:)?([\w.!#$%&'*+-/=?^_`{|}~]+@[A-Za-z0-9.-]+\.(?:com|org|net|edu|gov|aero|biz|cat|coop|info|int|jobs|mobi|museum|name|pro|travel|arpa|asia|xxx|[a-z][a-z])\b)|\b(?:(https?|ftp):\/\/|www\.)[\w#-;!=?@\[\\\]_`{|}~]+|$)/gi,Ath=/^(.*?)([':;,\.?}\]\)!]+)$/;
function Bth(a){if(-1==a.indexOf("@")&&-1==a.indexOf("://")&&-1==a.indexOf("www.")&&-1==a.indexOf("Www.")&&-1==a.indexOf("WWW."))return Ce(a);var b={},c;for(c in void 0)b[c]=(void 0)[c]?(void 0)[c]:null;"rel"in b||(b.rel="nofollow");"target"in b||(b.target="_blank");var d=[];a.replace(zth,function(e,f,h,k,l){d.push(f);if(!h)return"";e="";k?(e="mailto:",h=k,k=""):(l||(e="http://"),(k=h.match(Ath))&&!Dd(h,"(")?(h=k[1],k=k[2]):k="");b.href=e+h;d.push(Ee("a",b,h));d.push(k);return""});return Ge(d)}
var Cth={Jvc:"docos-insert-discussion",xgc:"docos-cancel-insert-discussion",fDc:"docos-new-doco",gDc:"docos-new-reply",Kjc:"docos-delete-doco",Mjc:"docos-delete-reply",snc:"docos-edit-doco",unc:"docos-edit-reply",tnc:"docos-edit-draft",Dfc:"docos-before-highlight-doco",ftc:"docos-highlight-doco",aLc:"docos-speak-doco",wIc:"docos-resolve-doco",ufc:"docos-back-to-document",mdc:"docos-accept-suggestion",nIc:"docos-reject-suggestion",Zhc:"docos-convert-doco",Ljc:"docos-reject-doco-with-feedback",WRITE_FEEDBACK:"docos-write-feedback",
DISABLE_SMART_TODO_FEATURE:"docos-disable-smart-todo-feature",DPc:"docos-vote-doco",EPc:"docos-vote-reply",ICc:"mouse-hover-doco-view"};function Dth(a,b,c,d,e,f,h,k){this.C=a;this.D=void 0===b?null:b;this.O=void 0===c?!1:c;this.L=void 0===d?!0:d;this.R=void 0===e?null:e;this.J=void 0===f?!0:f;this.F="number"===typeof h?h:null;this.H=void 0===k?!1:k}function U6(){return new Dth("")}function V6(a){return new Eth(a)}function Eth(a){this.O=a;this.L=void 0;this.J=!1;this.D=this.F=!0;this.C=void 0;this.H=!1}function W6(a,b){a.L=b;return a}function Fth(a){a.J=!0;return a}function Gth(a){a.F=!1;return a}function Hth(a,b){a.D=b;return a}
function Ith(a){a.H=!0;return a}function X6(a){return new Dth(a.O,a.L,a.J,a.F,void 0,a.D,a.C,a.H)};function Y6(a,b,c,d,e,f){this.type=a;this.anchors=b;this.docos=c;this.D=b;this.F=c;this.nonAnchored=d;this.userInitiated=e;this.args=f;this.type=this.type;this.anchors=this.anchors;this.docos=this.docos;this.nonAnchored=this.nonAnchored;this.userInitiated=this.userInitiated;this.args=this.args}oa("docos.Event",Y6,void 0);oa("docos.api.Event",Y6,void 0);Y6.prototype.getType=g("type");Y6.prototype.getType=Y6.prototype.getType;Y6.prototype.getAnchors=g("anchors");Y6.prototype.getAnchors=Y6.prototype.getAnchors;
Y6.prototype.getDocos=g("docos");Y6.prototype.getDocos=Y6.prototype.getDocos;Y6.prototype.isNonAnchored=g("nonAnchored");Y6.prototype.isNonAnchored=Y6.prototype.isNonAnchored;Y6.prototype.isUserInitiated=g("userInitiated");Y6.prototype.isUserInitiated=Y6.prototype.isUserInitiated;Y6.prototype.getArgs=g("args");Y6.prototype.getArgs=Y6.prototype.getArgs;Y6.prototype.canPreventDefault=m(!1);Y6.prototype.canPreventDefault=Y6.prototype.canPreventDefault;
Y6.prototype.preventDefault=function(){throw Error("Default behavior for this event cannot be prevented.");};Y6.prototype.preventDefault=Y6.prototype.preventDefault;Y6.prototype.getAnchorIds=g("D");Y6.prototype.getAnchorIds=Y6.prototype.getAnchorIds;Y6.prototype.getDocoHandles=g("F");Y6.prototype.getDocoHandles=Y6.prototype.getDocoHandles;function Jth(a){return new Z6(a)}Y6.builder=Jth;function Z6(a){this.type=a;this.C=[];this.D=[];this.H=this.F=!1;this.args=null}oa("docos.api.Event.Builder",Z6,void 0);
Z6.prototype.addAnchorId=function(a){this.C.push(a);return this};Z6.prototype.addAnchorId=Z6.prototype.addAnchorId;Z6.prototype.setAnchorIds=function(a){this.C=a;return this};Z6.prototype.setAnchorIds=Z6.prototype.setAnchorIds;Z6.prototype.addDocoHandle=function(a){this.D.push(a);return this};Z6.prototype.addDocoHandle=Z6.prototype.addDocoHandle;Z6.prototype.setDocoHandles=function(a){this.D=a;return this};Z6.prototype.setDocoHandles=Z6.prototype.setDocoHandles;
Z6.prototype.setNonAnchored=function(a){this.F=a;return this};Z6.prototype.setNonAnchored=Z6.prototype.setNonAnchored;Z6.prototype.setUserInitiated=function(a){this.H=a;return this};Z6.prototype.setUserInitiated=Z6.prototype.setUserInitiated;Z6.prototype.setApiEventArgs=function(a){this.args=a;return this};Z6.prototype.setApiEventArgs=Z6.prototype.setApiEventArgs;Z6.prototype.isEmpty=function(){return ad(this.C)&&ad(this.D)&&!this.args};Z6.prototype.isEmpty=Z6.prototype.isEmpty;
Z6.prototype.build=function(){return new Y6(this.type,this.C,this.D,this.F,this.H,this.args?this.args:new n5)};Z6.prototype.build=Z6.prototype.build;function Kth(a,b){Y6.call(this,a,[],[],!1,!1,new n5);this.interval=this.interval=b}y(Kth,Y6);oa("docos.api.TimedEvent",Kth,void 0);function Lth(){this.C={};this.D={}}function Mth(a,b,c,d,e){var f=a.C,h=a.D;f[b]&&f[b].stop();f[b]=c;h[b]=d;c.play();Qn(c,"end",function(){delete f[b];delete h[b];e()})}function Nth(a,b){(a=a.C[b])&&a.stop()}Lth.prototype.getDuration=function(a){return this.D[a]};function Oth(a){var b=a.lh,c=a.rA,d=a.Ce;a=a.fQ;return S('<div class="'+T("docos-icon")+" "+T("goog-inline-block")+(d?" "+T(d):"")+" "+T(c)+'"><div class="'+T("docos-icon-img")+" "+T("docos-icon-img-container")+" "+T(b)+(a?" "+T("docos-icon-img-hdpi"):"")+'" aria-hidden="true"></div></div>')};function Pth(a){var b=a.size,c=a.Ce,d=a.f$a;a=a.uma;return S('<img class="'+T("docos-avatar")+(c?" "+T(c):"")+'" width="'+T(b)+'" height="'+T(b)+'" alt=""'+(d?' src="'+T(Ew(d))+'"':"")+(a?' data-hovercard-id="'+T(a)+'"':"")+"/>")};function Qth(a,b,c){b=c||b;c=a.lDa;var d=a.Jj,e=a.Cn;a='<div class="'+T("docos-assigneeview")+'"><table><tr><td class="'+T("docos-assigneeview-avatar-container")+'">'+R(Pth({size:32,Ce:"docos-assigneeview-avatar"}))+'</td><td class="'+T("docos-assigneeview-assigneeinfo")+'"><div class="'+T("docos-assigneeview-label")+'">';a+="Vastaanottaja";c='</div><div class="'+T("docos-assigneeview-assignee-text")+'">'+R(c)+'</div></td><td class="'+T("hide-on-readonly")+'">';e=e={Jj:d,Cn:e};d=e.Jj;e=e.Cn;var f=
'aria-label="'+Cw("Merkitse valmiiksi ja piilota keskustelu.");b=""+R(Nz({ad:"docos-mark-done-button",title:"Merkitse valmiiksi ja piilota keskustelu",attributes:Bw(f+'"'),style:e?4:0,content:Aw(""+R(Oth({lh:"docos-icon-accept-checkmark-black",rA:"docos-icon-accept-checkmark-size",Ce:"docos-icon-checkmark jfk-button-img"}))),zM:d},b));b=S(b);return S(a+(c+b+"</td></tr></table></div>"))};function Rth(a,b){var c;a?c=a&&Sth($6(a),b)?"docos-assignee-you":"docos-assignee-other":c="docos-assignee-none";return c}function Tth(a,b){a=$6(a);return Uth(a,b)}function Vth(a,b,c){a=Uth(a,b,!0);return c?(new uA("M\u00e4\u00e4rit\u00e4 uudelleen k\u00e4ytt\u00e4j\u00e4lle {user}")).format({user:a}):(new uA("M\u00e4\u00e4rit\u00e4 k\u00e4ytt\u00e4j\u00e4lle {user}")).format({user:a})}function Uth(a,b,c){return Sth(a,b)?c?"sin\u00e4":"Sin\u00e4":a7(a)}
function Sth(a,b){return null!=a.getEmail()&&null!=b.ih().getEmail()&&a.getEmail()==b.ih().getEmail()};function b7(a,b){Q.call(this,b);this.Qc=Wth(a);this.C=c7(a)}y(b7,Q);b7.prototype.zd=!1;b7.prototype.Ia=function(){b7.Ua.Ia.call(this);this.zd&&(this.Dd(),Xth(this))};function Yth(a){a.zd||(a.zd=!0,a.getHandler().listen(a.C,"r",a.Dd),a.Dd(),Xth(a))}b7.prototype.Dd=function(){if(this.Gb()){var a=this.getElement(),b=this.C.H;ix(a,"docos-readonly",!("suggest"==b.C||"full"==b.C));ix(this.getElement(),"docos-offline",this.C.V)}};
function d7(a,b,c,d){a.Qc&&(d=a.Qc.F.C(d));a.getHandler().listen(b,c,d,void 0);return a}function Xth(a){a.Gb()&&d7(a,a.getElement(),"blur change click contextmenu copy cut dblclick dragend dragenter dragleave dragover dragstart focusout input mousedown mouseup pointerdown pointerup touchstart touchend paste propertychange select selectstart submit".split(" "),a.Vg)}b7.prototype.Vg=function(a){a.stopPropagation()};function Zth(a,b,c){this.C=a;this.D=b;this.F=c};function $th(a,b,c,d){b7.call(this,a,b);this.H=a;this.Uc(c);this.V=d;this.O=this.L=this.J=this.D=this.F=null;this.R=new Oz(null);this.va(this.R)}u($th,b7);p=$th.prototype;
p.Ca=function(){var a=this.qa(),b=e7(auh(this)),c=Sx(Qth,{lDa:Tth(b,this.C),Jj:this.C.Jj(),Cn:"legacy"!=this.C.F});this.jb(c);this.L=a.bb("docos-icon-checkmark",c);this.O=a.bb("docos-icon-img-container",c);this.J=a.bb("docos-mark-done-button",c);this.R.Va(this.J);d7(this,this.R,"action",this.UMb);this.F=a.bb("docos-assigneeview-assignee-text",c);this.D=fW(a,"IMG","docos-assigneeview-avatar",c);a=$6(b);buh(f7(this.H),this.D,a.C,a7(a));cuh(this,b)};
p.Ia=function(){b7.prototype.Ia.call(this);var a=e7(auh(this));a=$6(a);duh(this,a,this.F);duh(this,a,this.D)};
function cuh(a,b){var c="docos-mark-done-button-black",d="docos-icon-checkmark-black",e="docos-icon-accept-checkmark-black",f=a.C;!b||!Sth($6(b),f)||"black"==ez()&&tf||"material_yellow"==a.C.F||(c="docos-mark-done-button-white",d="docos-icon-checkmark-white",e="docos-icon-accept-checkmark-white");b=Rth(b,a.C);hx(a.getElement(),["docos-assignee-you","docos-assignee-other"]);hx(a.L,["docos-icon-checkmark-white","docos-icon-checkmark-black"]);hx(a.O,["docos-icon-accept-checkmark-white","docos-icon-accept-checkmark-black"]);
hx(a.J,["docos-mark-done-button-white","docos-mark-done-button-black"]);ex(a.L,d);ex(a.O,e);ex(a.J,c);ex(a.getElement(),b)}function auh(a){return g7(a.H).ud(a.getId())}p.update=function(){var a=e7(auh(this)),b=Tth(a,this.C)||"";Eo(this.F,b);h7(f7(this.H),this.D);b=$6(a);buh(f7(this.H),this.D,b.C,a7(b));cuh(this,a);duh(this,b,this.F);duh(this,b,this.D)};function duh(a,b,c){c&&(a.C.ma?c.setAttribute("data-hovercard-id",b.getId()?b.getId():""):(b=b.getName())&&a.C.D.C(c,b))}
p.UMb=function(a){a&&a.stopPropagation();(a=auh(this))&&!a.isResolved()&&(a=i7(this.H),this.dispatchEvent("br"),a.tf("docos-resolve-doco").wb(new Zth(this.getId(),!0,euh(this.V))),this.dispatchEvent("ar"))};p.vd=function(){b7.prototype.vd.call(this)};p.Ja=function(){b7.prototype.Ja.call(this);delete this.F;delete this.D;delete this.L};function fuh(a,b){void 0!==b.getId()&&a.Uc(b.getId());var c=S6(b);if(void 0!==c){var d=S6(a);c?d?guh(d,c):cj(a,2,c):cj(a,2,void 0)}void 0!==K(b,3)&&(c=K(b,3),M(a,3,c));void 0!==K(b,4)&&(c=K(b,4),M(a,4,c));d=b.bp();if(void 0!==d)if(c=a.bp(),d)if(c){void 0!==d.getId()&&c.Uc(d.getId());var e=d.getTitle();if(void 0!==e){var f=c.getTitle();e?f?huh(f,e):c.setTitle(e):c.setTitle(void 0)}d=N(d,T6,3);void 0!==d&&(e=N(c,T6,3),d?e?fuh(e,d):cj(c,3,d):cj(c,3,void 0))}else a.Ft(d);else a.Ft(void 0);void 0!==Ri(b,
6)&&(c=Ri(b,6),M(a,6,c));void 0!==Ri(b,7)&&(c=Ri(b,7),M(a,7,c));void 0!==K(b,8)&&(c=K(b,8),M(a,8,c));void 0!==Ri(b,9)&&(b=Ri(b,9),M(a,9,b))}
function guh(a,b){void 0!==b.getId()&&a.Uc(b.getId());if(void 0!==K(b,2)){var c=K(b,2);M(a,2,c)}c=b.getContent();if(void 0!==c){var d=a.getContent();c?d?huh(d,c):a.setContent(c):a.setContent(void 0)}c=N(b,P6,4);void 0!==c&&(d=N(a,P6,4),c?d?huh(d,c):cj(a,4,c):cj(a,4,void 0));c=N(b,eZ,5);void 0!==c&&(c?cj(a,5,c):cj(a,5,void 0));d=N(b,Osh,14);if(void 0!==d)if(c=N(a,Osh,14),d)if(c){void 0!==d.getName()&&c.ld(d.getName());if(void 0!==d.getUrl()){var e=d.getUrl();M(c,2,e)}e=N(d,Ksh,3);if(void 0!==e){var f=
N(c,Ksh,3);if(e)if(f){if(void 0!==e.getUrl()){var h=e.getUrl();M(f,1,h)}void 0!==e.getWidth()&&f.setWidth(e.getWidth());void 0!==e.getHeight()&&f.setHeight(e.getHeight())}else cj(c,3,e);else cj(c,3,void 0)}void 0!==Ri(d,4)&&(e=Ri(d,4),M(c,4,e));void 0!==K(d,5)&&(e=K(d,5),M(c,5,e));void 0!==K(d,6)&&(e=K(d,6),M(c,6,e));f=N(d,Msh,7);void 0!==f&&(e=N(c,Msh,7),f?e?(void 0!==K(f,1)&&(h=K(f,1),M(e,1,h)),void 0!==K(f,2)&&(h=K(f,2),M(e,2,h)),void 0!==K(f,3)&&(h=K(f,3),M(e,3,h)),void 0!==K(f,4)&&(f=K(f,4),
M(e,4,f))):cj(c,7,f):cj(c,7,void 0));void 0!==K(d,8)&&(e=K(d,8),M(c,8,e));void 0!==K(d,11)&&(e=K(d,11),M(c,11,e));void 0!==K(d,10)&&(e=K(d,10),M(c,10,e));void 0!==K(d,12)&&(d=K(d,12),M(c,12,d))}else cj(a,14,d);else cj(a,14,void 0);void 0!==K(b,6)&&(c=K(b,6),M(a,6,c));void 0!==K(b,7)&&(c=K(b,7),M(a,7,c));R6(b)&&(c=id(R6(a),R6(b)),ej(a,8,c));d=Q6(b);void 0!==d&&(c=Q6(a),d?c?(void 0!==d.getType()&&c.setType(d.getType()),void 0!==d.getValue()&&c.setValue(d.getValue()),void 0!==N(d,O6,3)&&(e=N(d,O6,3),
cj(c,3,e)),void 0!==K(d,4)&&(d=K(d,4),M(c,4,d))):cj(a,9,d):cj(a,9,void 0));void 0!==K(b,10)&&(c=K(b,10),M(a,10,c));void 0!==K(b,11)&&(c=K(b,11),M(a,11,c));void 0!==Ri(b,12)&&(c=Ri(b,12),M(a,12,c));void 0!==K(b,13)&&(c=K(b,13),M(a,13,c));void 0!==Ri(b,15)&&(c=Ri(b,15),M(a,15,c));void 0!==K(b,16)&&(c=K(b,16),M(a,16,c));void 0!==b.getOrigin()&&(c=b.getOrigin(),M(a,17,c));void 0!==K(b,20)&&(c=K(b,20),M(a,20,c));c=N(b,Vsh,18);void 0!==c&&(e=N(a,Vsh,18),c?e?(d=N(c,eZ,1),void 0!==d&&(c=N(e,eZ,1),d?c?(void 0!==
d.getName()&&c.ld(d.getName()),void 0!==K(d,2)&&(e=K(d,2),M(c,2,e)),void 0!==K(d,3)&&(e=K(d,3),M(c,3,e)),void 0!==d.getId()&&c.Uc(d.getId()),void 0!==Ri(d,5)&&(e=Ri(d,5),M(c,5,e)),void 0!==Ri(d,6)&&(e=Ri(d,6),M(c,6,e)),void 0!==Ri(d,7)&&(e=Ri(d,7),M(c,7,e)),void 0!==d.getEmail()&&(d=d.getEmail(),M(c,8,d))):cj(e,1,d):cj(e,1,void 0))):cj(a,18,c):cj(a,18,void 0));d=N(b,Zsh,19);void 0!==d&&(c=N(a,Zsh,19),d?c?(void 0!==K(d,1)&&(e=K(d,1),M(c,1,e)),void 0!==K(d,3)&&(e=K(d,3),M(c,3,e)),void 0!==K(d,2)&&(e=
K(d,2),M(c,2,e)),void 0!==K(d,4)&&(e=K(d,4),M(c,4,e)),void 0!==bj(d,Xsh,5)&&(d=bj(d,Xsh,5),ej(c,5,d))):cj(a,19,d):cj(a,19,void 0));void 0!==N(b,bW,21)?(c=N(b,bW,21),cj(a,21,c)):void 0!==b.getContent()&&cj(a,21,void 0);void 0!==Ri(b,22)&&(c=Ri(b,22),M(a,22,c));void 0!==Ri(b,23)&&(b=Ri(b,23),M(a,23,b))}function huh(a,b){void 0!==b.getType()&&a.setType(b.getType());void 0!==b.getValue()&&a.setValue(b.getValue())};function iuh(a,b,c,d,e,f,h){this.J=a;this.D=b&&!Bd(b)?Cd(b.toLowerCase()):null;this.L=c;this.C=d;this.bd=e;this.H=f;this.F=h}iuh.prototype.getName=g("J");iuh.prototype.getEmail=g("D");iuh.prototype.getId=g("bd");function a7(a){a=Bd(cf(a.getName()))?a.getEmail():a.getName();return cf(a)}function juh(a){var b=kuh(luh(muh(nuh((new j7).ld(a.getName()),a.getEmail()),K(a,2)),K(a,3)).Uc(a.getId()||""),!!Ri(a,5));a=!!Ri(a,7);b.D=a;return ouh(b)}
function puh(a){var b=(new eZ).Uc(a.getId()||""),c=a.getName();null!==c&&b.ld(c);c=a.L;null!==c&&M(b,2,c);c=a.C;null!==c&&M(b,3,c);c=a.getEmail();null!==c&&M(b,8,c);M(b,5,!!a.H);return b}function j7(){}j7.prototype.ld=function(a){this.H=a;return this};function nuh(a,b){a.C=b&&!Bd(b)?Cd(b.toLowerCase()):null;return a}function muh(a,b){a.L=b;return a}function luh(a,b){a.J=b;return a}j7.prototype.Uc=function(a){this.bd=a;return this};function kuh(a,b){a.F=b;return a}
function ouh(a){return new iuh(a.H,a.C,a.L,a.J,a.bd,a.F,a.D)};function quh(a){N(a,eZ,1);this.C=a}function $6(a){a=N(a.C,eZ,1);return juh(a)}quh.prototype.equals=function(a){return hj(this.C,a.C)};function ruh(a){var b=new Vsh;a=puh(a);b=cj(b,1,a);return new quh(b)};function suh(a){N(a,eZ,1);K(a,2);this.C=a};function tuh(a){this.C=a}function uuh(a,b){var c=[];a=bj(a.C,Xsh,5);if(null==a)return c;for(var d=0;d<a.length;d++){var e=a[d];null!=b&&b!==K(e,2)||c.push(new suh(e))}return c}function k7(a){return null!=K(a.C,4)?K(a.C,4):0};function vuh(){var a=wuh;this.C=[];this.D={};this.F=a}vuh.prototype.text=function(a){this.C.push(a)};function xuh(a,b){if(a.D[b])a.C.push(b);else{var c=new yuh(b,a.C.length);a.C.push(c);a.D[b]=c}}function zuh(a,b){var c=a.D[b];if(c){delete a.D[b];c.C=a.F[b].open;var d=Sc(Nd(a.D),function(e){return e.D>c.D});rd(d,function(e,f){return qd(e.D,f.D)});a.C.push(new Auh(a.F[b].close,d,a.F))}else a.C.push(b)}vuh.prototype.getResult=function(){return this.C.join("")};
function yuh(a,b){this.F=a;this.D=b;this.C=null}yuh.prototype.getName=g("F");yuh.prototype.toString=function(){return null!==this.C?this.C:this.F};function Auh(a,b,c){this.F=a;this.C=b;this.D=c}Auh.prototype.toString=function(){for(var a=[],b=this.C.length-1;0<=b;--b){var c=this.C[b];null!==c.C&&a.push(this.D[c.getName()].close)}a.push(this.F);for(b=0;b<this.C.length;++b)c=this.C[b],null!==c.C&&a.push(this.D[c.getName()].open);return a.join("")};function Buh(a){a=Be(Bth(a));for(var b=[],c=a.indexOf("<");0<=c;c=a.indexOf("<"))b.push(new Cuh(a.substring(0,c))),a=a.substring(c),c=a.indexOf("<",1)+4,b.push(new Duh(a.substring(0,c))),a=a.substring(c);b.push(new Cuh(a));return new Euh(b)}function Fuh(a){var b=new vuh;a=" "+a+" ";for(var c=1;c<a.length-1;++c){var d=a.substr(c-1,3),e=a.charAt(c),f=Guh.test(d);d=Huh.test(d);f?d?(f=b,f.D[e]?zuh(f,e):xuh(f,e)):xuh(b,e):d?zuh(b,e):b.text(e)}return new Cuh(b.getResult())}
function Iuh(a){return new Cuh(a.replace(Juh,"<br>"))}var Juh=/\r\n|\n|\r/g,wuh={"*":{open:"<b>",close:"</b>"},_:{open:"<i>",close:"</i>"},"-":{open:"<s>",close:"</s>"}},Guh=/([\.,!\?\(\)\s_\-]\*|[\.,!\?\(\)\s*\-]_|[\.,!\?\(\)\s*_]-)\S/,Huh=/\S(\*[_\-\.,!\?\(\)\s]|_[*\-\.,!\?\(\)\s]|-[*_\.,!\?\(\)\s])/;function Cuh(a){this.Ue=a}Cuh.prototype.C=function(a){return a(this.Ue)};Cuh.prototype.toString=g("Ue");function Duh(a){this.Ue=a}Duh.prototype.C=function(){return this};Duh.prototype.toString=g("Ue");
function Euh(a){this.Nh=a}Euh.prototype.C=function(a){var b=Tc(this.Nh,function(c){return c.C(a)});return new Euh(b)};Euh.prototype.toString=function(){return this.Nh.join("")};function Kuh(a){a.getId()||K(a,11);this.C=a;0==K(this.C,13)&&(M(this.C,13,void 0),M(this.C,15,void 0));this.F=this.J=this.H=this.D=null}p=Kuh.prototype;p.update=function(a){this.F=this.H=this.J=null;void 0!==K(a,13)&&0!=K(a,13)&&(a.setContent(void 0),cj(a,4,void 0),cj(a,9,void 0));if(void 0!==N(a,bW,21)||void 0!==a.getContent())this.D=null;guh(this.C,a);0==K(this.C,13)&&(M(this.C,13,void 0),M(this.C,15,void 0))};p.equals=function(a){return hj(this.C,a.C)};
p.Lv=function(){var a=N(this.C,eZ,5)||new eZ;return juh(a)};p.getId=function(){return this.C.getId()||K(this.C,11)||""};p.jx=function(){this.H||(this.H=gX(K(this.C,6)));return this.H};p.WO=function(){if(void 0===K(this.C,7))return this.jx();this.J||(this.J=gX(K(this.C,7)));return this.J};function Luh(a){if(void 0===K(a.C,13))var b=null;else a.F||(a.F=gX(K(a.C,13))),b=a.F;if(!b||a.WO()>b)b=a.WO();return b}
function Muh(a){if(void 0!==Q6(a.C)&&("text/html"==Q6(a.C).getType()||"text/plain"==Q6(a.C).getType())){var b=Q6(a.C).getValue();b="text/html"==Q6(a.C).getType()?b:Xe(b)}return b||""}p.L1=function(){if(void 0!==Q6(this.C)){var a=N(Q6(this.C),O6,3);if(a)return a.Mf()}return null};p.qea=function(){return K(this.C,10)};p.getContent=function(){return this.C.getContent()?this.C.getContent().getValue():""};p.rea=function(){if(null!=N(this.C,bW,21)&&!this.D){var a=N(this.C,bW,21);this.D=He(K(a,2)||"",null)}return this.D};
p.Uz=function(){return null!=N(this.C,P6,4)?N(this.C,P6,4).getValue()||"":""};p.rua=function(){return null!=this.C.getContent()?this.C.getContent().getType():null};p.cQ=function(){return!!Ri(this.C,12)};function l7(a){return!!K(a.C,13)}p.HA=function(){var a=N(this.C,Vsh,18);return null!=a?new quh(a):null};p.Qy=function(){var a=N(this.C,Zsh,19);return null!=a?new tuh(a):null};p.Zj=function(){return void 0!==K(this.C,16)&&void 0===K(this.C,10)};
p.vG=function(){return void 0!==K(this.C,16)?K(this.C,16):null};function Nuh(a){return void 0!==K(a.C,16)&&void 0!==K(a.C,10)?K(a.C,10):null}p.getOrigin=function(){var a=this.C.getOrigin();return 1==a?1:2==a?2:null};p.Psa=function(){return!!Ri(this.C,22)};p.Lsa=function(){return 2==this.getOrigin()};function m7(a,b){this.C=new $sh;M(this.C,11,a);b&&b!=a&&this.C.Uc(b)}function Ouh(a,b){var c=R6(a.C);c.push(b.C);ej(a.C,8,c);return a}function Puh(a,b){M(a.C,16,b);return a}
function n7(a){M(a.C,12,!0);return a}function Quh(a,b){M(a.C,6,b);return a}function Ruh(a){var b=La();M(a.C,13,b);return a}function Suh(a){M(a.C,13,0);return a}function Tuh(a,b){cj(a.C,18,b.C);M(a.C,10,4);return a}function Uuh(a,b){b=puh(b);cj(a.C,5,b);return a}function Vuh(a){M(a.C,20,1);return a}function o7(a,b,c){b=Cd(b);var d=(new P6).setType("text/plain").setValue(b);cj(a.C,4,d);b=(new P6).setType("text/html").setValue(Buh(b).C(Fuh).C(Iuh).toString());a.C.setContent(b);M(a.C,7,c);return a};function Wuh(a,b,c,d){this.F=a;this.C=b;this.H=c;this.D=d}function Xuh(a,b){return a.F.getId()==b.Lv().getId()}function Yuh(a,b){return Xuh(a,b)&&!!b.Uz()&&("suggest"==a.C||"full"==a.C)}function Zuh(a,b){return b instanceof Kuh&&void 0!==b.qea()?!1:(a.H||Xuh(a,b))&&(!!b.Uz()||b.Zj())&&("suggest"==a.C||"full"==a.C)}function $uh(a,b){return a.D&&!b.Zj()&&("suggest"==a.C||"full"==a.C)}Wuh.prototype.fta=g("D");function avh(a){return"suggest"==a.C||"full"==a.C};function bvh(a){J(this,a,0,-1,null,null)}y(bvh,I);bvh.prototype.ea=function(){var a=new F;var b=K(this,1);null!=b&&a.D(1,b);return Y(a)};function cvh(a,b){this.D=a;this.C=b||null}cvh.prototype.$n=function(a,b,c){this.D(a,b,c)};cvh.prototype.Eya=function(a){this.C&&this.C(a)};function dvh(a,b,c,d,e){d=d?d.Mf():void 0;e=e?e.Mf():void 0;a(b,c,d,e)};function evh(a){Wn.call(this);this.t0(a)}y(evh,Wn);p=evh.prototype;
p.t0=function(a){var b=a.kd;if(void 0===b.ih())throw Error("Invalid or missing user.");var c=b.ih();this.NFa=ouh(kuh(luh(muh(nuh((new j7).ld(c.getName()),c.getEmail()),K(c,2)),K(c,3)).Uc(c.getId()||""),!!Ri(c,5)));this.Ica=!!Ri(b,40);this.t9=!Ri(b,20);this.u9=K(b,11);this.IHa=!!Ri(b,12);this.Wma=K(b,6);this.MFa=void 0!==a.l?!!a.l:!!Ri(b,25);this.gWa=K(b,21);this.Yma=K(b,23);this.OFa=K(b,24);this.KPa=K(b,31);void 0!==a.i?this.Xma=a.i:this.Xma=void 0;if(a=gZ(b))this.u0=K(a,1);this.dispatchEvent("r")};
p.Wma=null;p.KPa=null;p.Xma=void 0;p.u9=null;p.MFa=!1;p.Ica=!1;p.gWa=null;p.Yma=null;p.OFa=null;p.t9=!0;p.IHa=!1;p.NFa=null;p.u0=null;p.ih=g("NFa");function fvh(a,b,c){function d(f){return c?kd(f):f}var e=null;a&&wa(a)&&(e=d(a),wa(e[0])&&b==e[0][0]?(e=d(e[0]),e.shift()):b==e[0]&&e.shift());return e};function gvh(a){this.C=a};function hvh(){}hvh.prototype.install=function(a){a=a&&ao(a);R8a(a)};hvh.prototype.C=function(a,b){cz(a,b,void 0)};hvh.prototype.nf=function(a){a=a&&ao(a);W8a(a)};hvh.prototype.D=function(a,b){dX(a,b)};function ivh(a,b){b=void 0===b?function(){return qJe()}:b;var c=a.kd;"string"===typeof c&&(c=JSON.parse(c));wa(c)&&(c=fvh(c,"kd",!0),c.unshift("kd"),a.kd=new y4e(c));evh.call(this,a);this.Pi=b}u(ivh,evh);p=ivh.prototype;
p.t0=function(a){evh.prototype.t0.call(this,a);this.C=a.kd;this.L=this.L||B2b("disco");var b;if(!(b=this.Qa)){b=B2b("usp_dm");var c=new D9d;null!=b&&("true"==b?M(c,1,2):"false"==b&&M(c,1,1));b=c}this.Qa=b;this.Oi=a["anchor-is-orphaned-fn"]||ee;this.Ea=a.anchordiv||null;b=a.container||null;!b&&a.containerdiv&&(b=new gvh(a.containerdiv));this.Ns=b;this.tc=a.storage||null;this.Vc=!!a["storage-ro"];this.Sd=!!a["disable-focus"];this.cD=!!a.so;this.zf=a.docscroller||null;this.Rn=a["inactive-doco-indent"]||
10;this.Wa=a["instant-docos-div"]||null;this.Kb=a["enable-new-delete-ui"]||!1;this.Bb=a["delete-dialog-show"]||null;this.R=null;b=a["log-latency-event-fn"]||null;c=a["set-total-docos-counts-fn"];b&&(this.R=new cvh(b,c));this.Yk=a["memory-monitor-fn"]||null;this.xj=a.layout||null;this.ej=!!a.layoutrtl;this.J=a.listeners||{};this.O=a.panediv||null;this.Ba=a.panekbdiv||null;b=a.sortpaneby||"creation";"sortpane"in a&&(b=a.sortpane?"updated":"none");this.fb=b;this.Qc=a.quotefn||null;this.zd=a["user-color-provider-fn"]||
null;this.RD=a["user-color-provider-from-name-fn"]||null;this.Yu=a.quoterenderfn||null;this.oh=!!a["hide-notification"];this.V=!!a.offline;this.Dc=!!a.nocss;this.Lc=null!=a["overflow-menu-show-link"]?!!a["overflow-menu-show-link"]:!0;this.Dd=!!a["anchor-shadow"];b=a.resolve;"boolean"!==typeof b&&(b=!0);c=a.accessLevel;var d=!!a.readonly||!!a["fatal-readonly"]||!!Ri(this.C,8);this.H=new Wuh(this.ih(),c?c:d?"readonly":"full",!!Ri(this.C,3),b);this.Ta=!!a.iph;this.Fs=a.maxheight||0;this.qy=!!a.showerrors;
this.yd=a["stream-button"]||null;this.ge=!!a["disable-spfw"];this.Pa=a["anchor-mutate-fn"]||null;jvh(this)||(this.Pa=null);this.Qf=!!a["enable-comment-button"];this.Oa=!!a["enable-gsuite-embedding"];this.Jg=null!=a["enable-instant-mentions"]?!!a["enable-instant-mentions"]:!0;this.Fl=a["acl-fix-fn"]||null;this.ek=a["load-acl-fixer-fn"]||null;this.He=a["intercept-docos-edit-fn"]||null;this.Mh=a["is-an-illegal-write-fn"]||null;this.Pd=!!a["defer-first-sync"];this.Am=!!a["enable-lazy-loading"];this.Ka=
!!a["enable-all-docos-in-anchored-stream"];this.Ny=a["stream-pane-banner-message"]||null;this.My=a["stream-pane-banner-learn-more-url"]||null;this.Tm=!!a["enable-track-mouse-positions-in-doco-view"];this.ma=!!a["enable-docos-people-hovercard"];this.$a=(b=a["impression-recorder-fn"])?Ja(dvh,b):null;this.Lh=a.hidepromofn;this.Dy=a.showpromofn;this.El=a["acl-check-fn"]||null;this.D=a["tooltip-manager"]||new hvh;this.Sl=a["browser-app-clipboard"]||null;this.Za=a["modal-dialog-z-index"]||null;this.Xe=
a["doco-link-base-url"];this.xa=!!a["untrusted-iframe"];this.Ha=a["static-input-pane-message"]||null;this.Cb=a["drive-id"]||null;this.Pb=!!a["enable-roving-tabindex"];this.Vg=a["auto-complete-factories"]||[];this.yn=a["overflow-menu-items"]||[];this.F=a["ui-version"]||"legacy";this.fc=a["link-opener"]||null;this.dispatchEvent("r")};function kvh(a){return null!=K(a.C,44)&&null!=K(gZ(a.C),51)&&!!Ri(gZ(a.C),51)}p.yI=function(){if(this.oh)return!1;var a=Ri(this.C,26);return null!=a?!!a:!0};
p.qda=function(){return!!Ri(this.C,43)};p.Wsa=function(){var a=!1,b=gZ(this.C);b&&(a=Ri(b,2));return!!Ri(this.C,43)&&!!a};function lvh(a){return!!gZ(a.C)&&!!Ri(gZ(a.C),32)}function jvh(a){return a.C&&!!Ri(a.C,18)}p.Jj=function(){return!!Ri(this.C,39)};function mvh(a){return a.Pi()&&!!Ri(a.C,10)&&!a.Sd}function nvh(a){return Ri(a.C,10)?a.Vg:[]}function ovh(a){return!!gZ(a.C)&&!!Ri(gZ(a.C),50)};function pvh(a,b,c,d,e,f){b7.call(this,a,c);this.D=c7(a);this.Oa=Wl(Lc(z(),"docs-seu")||this.D.Xe||window.location.href);this.Nc=new Py(c,new qvh(d));this.F=new $y("",this.Nc,void 0,c);this.F.lH=!0;this.Ga(this.F);this.J=null;$c(e,"edit")&&(this.J=new Ky("Muokkaa"),this.J.Kc("docos-edit-menuitem"),this.Nc.Ga(this.J,!0));this.H=null;$c(e,"delete")&&(this.H=new Ky("Poista"),this.H.Kc("docos-delete-menuitem"),this.Nc.Ga(this.H,!0));this.R=null;$c(e,"reanchor")&&lvh(this.D)&&(this.R=new Ky("Lis\u00e4\u00e4 kommenttiin uusi ankkuri"),
this.R.Kc("docos-reanchor-menuitem"),this.Nc.Ga(this.R,!0));this.xa=null;$c(e,"disable")&&(this.xa=new Ky("Poista k\u00e4yt\u00f6st\u00e4 ehdotetut toimintokohteet"),this.xa.Kc("docos-disable-menuitem"),this.Nc.Ga(this.xa,!0));this.Ha=null;$c(e,"help")&&(this.Ha=new Ky("Lis\u00e4tietoja"),this.Ha.Kc("docos-help-menuitem"),this.Nc.Ga(this.Ha,!0));d=g7(a).ud(b);if(!d)throw Error("Creating an action menu for a non-existing doco.");this.L=d;this.Ka=f?p7(d,f):null;this.V=null;c7(a).H.fta()&&$c(e,"resolve")&&
(this.V=new Ky(""),this.Nc.Ga(this.V,!0));this.O=this.Ba=this.ma=null;$c(e,"link")&&(this.Ba=new Ky("Linkit\u00e4 t\u00e4h\u00e4n kommenttiin..."),this.Ba.Kc("docos-link-menuitem"),this.Nc.Ga(this.Ba,!0),this.O=new $9e(c,this.D.Sl||void 0,void 0,null===this.D.Za?void 0:this.D.Za),this.Ga(this.O),ex(xx(this.O),"docos"),this.O.setTitle("Linkit\u00e4 t\u00e4h\u00e4n kommenttiin..."),rvh(this,b));this.Ea=c7(a).yn.map(function(h){return{q6a:h,xJa:new Ky(h.getLabel())}});for(a=0;a<this.Ea.length;a++)this.Nc.Ga(this.Ea[a].xJa,
!0)}u(pvh,b7);p=pvh.prototype;p.Ec=function(a){b7.prototype.Ec.call(this,a);a=this.qa().bb("docos-docomenu-dropdown",this.getElement());null===a?(a=this.Qc,null!==a&&a.C(Error("Doco dropdown button not found in DOM."))):(this.F.Va(a),this.F.Na(!0),this.D.D.C(a,"Lis\u00e4\u00e4 vaihtoehtoja\u2026"),this.F.re("Lis\u00e4\u00e4 vaihtoehtoja\u2026"))};
p.Ia=function(){var a=this;b7.prototype.Ia.call(this);svh(this);d7(d7(d7(this,this.Nc.getElement(),"click",this.wRa),this.F.getElement(),"click",this.wRa),this.D,"r",this.Aob);d7(this,this.F.getElement(),"keyup",this.$$b);tvh(this,this.J,this.ibc);tvh(this,this.H,this.gbc);tvh(this,this.Ba,this.a5b);tvh(this,this.R,this.mbc);tvh(this,this.V,this.nbc);tvh(this,this.xa,this.hbc);tvh(this,this.Ha,this.lbc);for(var b={},c=0;c<this.Ea.length;b={q7:b.q7},c++)b.q7=this.Ea[c],tvh(this,b.q7.xJa,function(d){return function(){d.q7.q6a.C((a.Ka||
a.L).Uz())}}(b))};p.ah=function(a){this.qa().$h(this.F.getElement(),a)};p.focus=function(){this.F.getElement().focus()};p.update=function(){svh(this)};function rvh(a,b){if(a.O){var c=a.Oa.clone();b=c.C.set("disco",b);a.O.jSa(Ql(c,b).toString())}}function tvh(a,b,c){b&&d7(a,b,"action",c)}p.nbc=function(a){$uh(this.D.H,this.L)&&(this.dispatchEvent(new uvh("r")),vvh(this,a))};p.ibc=function(a){wvh(this)&&(this.dispatchEvent(new uvh("e")),vvh(this,a))};
p.hbc=function(a){this.dispatchEvent(new uvh("i"));vvh(this,a)};p.gbc=function(a){xvh(this)&&(this.F.Fd(!1),this.dispatchEvent(new uvh("d")),vvh(this,a))};p.mbc=function(a){this.dispatchEvent(new uvh("ra"));vvh(this,a)};p.lbc=function(a){this.dispatchEvent(new uvh("h"));vvh(this,a)};p.a5b=function(a){vvh(this,a);this.O.setVisible(!0)};function vvh(a,b){b.stopPropagation();a.F.Fd(!1)}p.$$b=function(a){27==a.keyCode&&a.stopPropagation()};p.wRa=function(a){a.stopPropagation()};p.Aob=function(){svh(this)};
function wvh(a){return Yuh(a.D.H,a.Ka||a.L)&&!a.ma}function xvh(a){return Zuh(a.D.H,a.Ka||a.L)&&!a.D.xa}function svh(a){if(a.V){var b=a.L.isResolved();if(null===a.ma||b!=a.ma){var c=yvh(a.L)?"Merkitse valmiiksi":"Ratkaise";a.V.setContent(b?"Avaa uudelleen":c);a.ma=b}a.V.Na($uh(a.D.H,a.L))}a.J&&(b=wvh(a),a.J.Na(b),a.J.setVisible(b));a.H&&(b=xvh(a),a.H.Na(b),a.H.setVisible(b));a.R&&(b=!a.ma,a.R.Na(b),a.R.setVisible(b))}function uvh(a){Kn.call(this,a)}u(uvh,Kn);
function qvh(a){a=void 0===a?"docos-docomenu":a;Ny.call(this);this.D=a}u(qvh,Ny);qvh.prototype.gc=function(){return(new fq("goog-menu"," ","docos"," ",this.D)).toString()};function zvh(){rC.call(this,!1)}u(zvh,rC);zvh.prototype.FL=function(a){rC.prototype.FL.call(this,a)};function Avh(){this.C=!1;this.D=new Bf;this.va(this.D)}y(Avh,A);function Bvh(a,b,c,d,e,f,h){this.J=a;this.F=b;this.L=c;this.H=d;this.wx=e;this.C=f;this.D=h}Bvh.prototype.ud=g("F");function Cvh(){}function q7(a){var b=new Cvh;b.D=a;return b}function r7(a,b){a.C=b;return a}function Dvh(a,b){a.wx=b;return a}function s7(a){return new Bvh(a.D,a.C,a.J||!1,a.L||null,a.wx||null,a.F||null,a.H||null)};function Evh(a,b,c,d,e,f,h){this.H=a;this.J=b;this.F=c;this.L=d;this.C=e;this.D=f;this.Hq=h}function Fvh(){}function Gvh(a){var b=new Fvh;b.H=a;return b}function Hvh(a,b){a.D=b;return a}function Ivh(a,b){a.Hq=b;return a}function Jvh(a){return new Evh(a.H,a.L||!1,a.F||null,a.J||null,a.C||null,a.D||null,a.Hq||null)};function Kvh(a,b,c){var d=S6(a);this.F=a;this.O=b;this.rs=c||null;this.R=null;this.J={};this.D={};this.C=new Kuh(d);this.H=void 0;this.gQ=!!N(d,Vsh,18);b=this.getId();if(a=S6(a)){a=R6(a);for(c=0;c<a.length;c++)d=new Kuh(a[c]),void 0===K(a[c],13)?(this.D[d.getId()]=d,Nuh(d)&&(this.H=Nuh(d)),this.O.bind(b,d.getId())):this.J[d.getId()]=d;this.H||(this.H=null)}this.V=this.L=null}p=Kvh.prototype;p.Lv=function(){return this.C.Lv()};p.getId=function(){return this.C.getId()};
function t7(a){return K(a.C.C,11)||""}p.WO=function(){var a=K(this.F,4);if(void 0===a)return this.jx();this.V||(this.V=gX(a));return this.V};p.getContent=function(){return this.C.getContent()};p.rua=function(){return this.C.rua()};p.qea=function(){return this.C.qea()};p.Uz=function(){return this.C.Uz()};function u7(a){return K(a.F,8)||""}p.rea=function(){return this.C.rea()};p.L1=function(){return this.C.L1()};p.Ry=function(){return void 0!==K(this.F,8)};
p.isResolved=function(){return!!Ri(this.F,6)};function Lvh(a,b){var c=Nd(a.D);b&&c.push(a.C);sd(c,function(d,e){return fX(d.jx(),e.jx())});return c}function p7(a,b){return a.D[b]||null}p.jx=function(){if(this.L)return this.L;var a=K(this.F,3);a?this.L||(this.L=gX(a)):this.L=null;return this.L};p.getNewDocoType=g("rs");p.tA=function(){return"draft"==this.rs||"client-integrated-draft"==this.rs||"instant-doco"==this.rs};function Mvh(a){return Nvh(a)}
function Nvh(a){return a.tA()||"smart-todo"==a.rs}p.yW=function(){return"smart-todo"==this.rs};p.cQ=function(){return!!Ri(this.F,9)};p.Qy=function(){return this.C.Qy()};p.HA=function(){return this.C.HA()};function e7(a){var b=a.C.HA()?a.C.HA():null;a=Lvh(a);for(var c=0;c<a.length;c++){var d=a[c];d.HA()&&(d=d.HA(),b?(b=new quh(kj(b.C)),d=$6(d),d=puh(d),cj(b.C,1,d)):b=new quh(kj(d.C)))}return b}function yvh(a){return a.C.HA()?a.C:null}p.Zj=function(){return this.C.Zj()};
p.isTodo=function(){return null!=this.gQ?this.gQ:this.gQ=!!yvh(this)};p.vG=function(){return this.C.vG()};function Ovh(a){if(void 0!==a.H)return a.H;if(!a.Zj())return a.H=null;for(var b in a.D){var c=Nuh(a.D[b]);if(c)return a.H=c}return a.H=null}p.getOrigin=function(){return this.C.getOrigin()};p.Psa=function(){return this.C.Psa()};p.Lsa=function(){var a=this.getOrigin();if(2==a)return!0;if(1!=a)return!1;for(var b=Lvh(this),c=0;c<b.length;c++){a=b[c].getOrigin();if(2==a)return!0;if(1!=a)break}return!1};
function Pvh(a){this.C=a;this.rs=null}function v7(a){var b=new T6;a=a.C;cj(b,2,a);a.getId()||K(a,11);b.Uc(a.getId()||K(a,11));return new Pvh(b)}function Qvh(a,b){M(a.C,8,b);return a}function w7(a,b){M(a.C,9,b);return a}function Rvh(a,b){a.rs=b;return a}Pvh.prototype.getNewDocoType=g("rs");Pvh.prototype.getId=function(){return S6(this.C).getId()};function Svh(a,b,c,d,e,f,h,k){Kn.call(this,a);this.O=b;this.C=c;this.R=d;this.Hq=e;this.D=f;this.V=h;this.F=k}u(Svh,Kn);function Tvh(){this.Hq=this.F=this.D=this.L=this.Wt=null;this.H=this.C=0;this.J=!1}function Uvh(a){var b=new Tvh;b.Wt=a;return b}function Vvh(a,b){a.L=b;return a}function Wvh(a,b){a.H=b;return a}function Xvh(a,b){a.J=b;return a}function Yvh(a){return new Svh(a.Wt,a.L,a.D,a.F,a.Hq,a.C,a.H,a.J)};function Zvh(a){A.call(this);this.C=a;this.F=c7(a);this.D=$vh(this.C);this.H={}}y(Zvh,A);function awh(a,b,c,d,e,f){var h=ef(),k=new m7(h);d&&o7(k,d,La());f&&Vuh(k);e&&(d=ouh(kuh(nuh(new j7,e).Uc(""),!1)),d=ruh(d),Tuh(k,d));c=Rvh(w7(Qvh(v7(k),b),!1),c);bwh(g7(a.C),c);g7(a.C).flush();cwh(a.D,Jvh(Ivh(Hvh(Gvh(43008),h),b)));return x7(g7(a.C),h)}
function dwh(a,b,c,d,e){d=kuh(nuh(new j7,d).Uc(""),!1);Bd(cf(e))||d.ld(e);e=ouh(d);d=ruh(e);e=ef();var f=La();c=Vuh(Tuh(o7(Uuh(new m7(e),a.F.ih()),c,f),d));c=Rvh(w7(Qvh(v7(c),b),!1),"smart-todo");bwh(g7(a.C),c);g7(a.C).flush();cwh(a.D,Jvh(Ivh(Hvh(Gvh(43023),e),b)));return x7(g7(a.C),e)}
function ewh(a,b,c,d,e){var f=ef(),h=La();c=o7(Uuh(Quh(n7(new m7(f)),h),a.F.ih()),c,h);e&&Vuh(c);d&&(d=ouh(kuh(nuh(new j7,d).Uc(""),!1)),d=ruh(d),Tuh(c,d));c=w7(v7(c),!0);M(c.C,3,h);b=Rvh(Qvh(c,b),"discussion");bwh(g7(a.C),b);g7(a.C).flush();b=g7(a.C).ud(f);y7(a.D,s7(r7(q7(43009),b)));return x7(g7(a.C),f)}p=Zvh.prototype;p.aab=function(a){fwh(g7(this.C),a);g7(this.C).flush()};
p.X$a=function(a,b,c,d){if(a=g7(this.C).ud(a)){if(d&&!a.HA())throw Error("Cannot reassign a doco with no existing assignment");if(a.Zj()&&d)throw Error("Cannot reassign a suggestion.");var e=ef(),f=La();b=Uuh(Quh(o7(n7(new m7(e)),b,f),f),this.F.ih());c&&Puh(b,c);d&&Tuh(b,d);c=Ouh(new m7(t7(a),a.getId()),b);c=w7(v7(c),!0);z7(g7(this.C),c);g7(this.C).flush();y7(this.D,s7(r7(q7(d?43020:43010),a)))}};
p.cab=function(a,b){if(a=g7(this.C).ud(a)){var c=new m7(t7(a),a.getId()),d=null!=a.Qy()?new tuh(a.Qy().C.clone()):new tuh(new Zsh);M(d.C,4,b?1:0);cj(c.C,19,d.C);n7(c);c=w7(v7(c),!0);z7(g7(this.C),c);g7(this.C).flush();y7(this.D,s7(r7(q7(b?43040:43041),a)))}};
p.dab=function(a,b,c){if(a=g7(this.C).ud(a)){var d=new m7(t7(a),a.getId());if(c=p7(a,c)){var e=null!=c.Qy()?new tuh(c.Qy().C.clone()):new tuh(new Zsh),f=new m7(t7(a),c.getId());M(e.C,4,b?1:0);cj(f.C,19,e.C);Ouh(d,n7(f));d=w7(v7(d),!0);z7(g7(this.C),d);g7(this.C).flush();y7(this.D,s7(Dvh(r7(q7(b?43042:43043),a),c)))}}};
p.Leb=function(a,b,c){if(a=g7(this.C).ud(a))if(b=p7(a,b)){var d=La();c=o7(n7(new m7(K(b.C,11)||"",b.getId())),c,d);c=Ouh(new m7(t7(a),a.getId()),c);c=w7(v7(c),!0);z7(g7(this.C),c);g7(this.C).flush();y7(this.D,s7(Dvh(r7(q7(43021),a),b)))}};p.a2b=function(a,b){if(a=g7(this.C).ud(a)){var c=La();b=o7(new m7(t7(a),a.getId()),b,c);b=w7(v7(b),!1);z7(g7(this.C),b);g7(this.C).flush()}};
p.bab=function(a,b,c){if(a=g7(this.C).ud(a)){if(a.Zj())throw Error("Cannot resolve a suggestion.");var d=ef(),e=La();d=Uuh(Quh(n7(new m7(d)),e),this.F.ih());M(d.C,10,b?0:1);c&&o7(d,c,e);c=Ouh(new m7(t7(a),a.getId()),d);c=w7(v7(c),!0);M(c.C,6,b);z7(g7(this.C),c);g7(this.C).flush();y7(this.D,s7(r7(q7(b?43014:43015),a)))}};
p.Y$a=function(a,b){var c=g7(this.C),d=c.ud(a);d&&(this.H[x7(c,a)]=Od(Yd(d.D)),a=Ruh(n7(new m7(t7(d),d.getId()))),a=w7(v7(a),!0),d.yW()||(d=r7(q7(43017),d),null!=b&&(d.F=b),y7(this.D,s7(d))),z7(c,a),c.flush())};
function gwh(a,b){var c=g7(a.C);if(A7(c,b))throw Error("Cannot undo deletion of non-deleted Doco.");var d=c.Ea[b];if(!d)throw Error("Doco with handle "+b+" does not exist.");var e=Suh(n7(new m7(t7(d),d.getId()))),f=a.H[b];delete a.H[b];a=Yd(d.J);b=Yd(d.D);for(var h=0;h<f.length;h++){var k=f[h];Ouh(e,Suh(n7(new m7(K((b[k]||a[k]).C,11)||"",k))))}e=w7(v7(e),!0);z7(c,e);c.flush();return x7(c,d.getId())}
p.PFa=function(a,b){if(a=A7(g7(this.C),a)){var c=a.vG();if(!a.Zj()||!c)throw Error("Attempting to set model diff summary on a non-suggestion.");a=n7(new m7(t7(a),a.getId()));c=(new Tsh).setType("application/vnd.google-apps.docs.mds");b=cj(c,3,b);cj(a.C,9,b);b=w7(v7(a),!0);z7(g7(this.C),b);g7(this.C).flush()}};p.Jeb=function(a,b){if(a=g7(this.C).ud(a)){var c=La();b=o7(n7(new m7(t7(a),a.getId())),b,c);b=w7(v7(b),!0);z7(g7(this.C),b);g7(this.C).flush();y7(this.D,s7(r7(q7(43022),a)))}};
p.m$a=function(a,b){(a=g7(this.C).ud(a))&&(b=p7(a,b))&&hwh(this,a,b)};function hwh(a,b,c){y7(a.D,s7(Dvh(r7(q7(43016),b),c)));z7(g7(a.C),iwh(b,c));g7(a.C).flush()}function iwh(a,b){b=Ruh(n7(new m7(K(b.C,11)||"",b.getId())));a=Ouh(new m7(t7(a),a.getId()),b);return w7(v7(a),!0)}p.$$a=function(a){var b=A7(g7(this.C),a,!0);a=jwh(g7(this.C),a);b&&a&&hwh(this,b,a)};
p.Z$a=function(a){for(var b=[],c=0;c<a.length;c++){var d=a[c],e=A7(g7(this.C),d,!0);d=jwh(g7(this.C),d);e&&d&&b.push(iwh(e,d))}kwh(g7(this.C),b,"c")};function lwh(a,b,c,d){b=A7(g7(a.C),b);if(!mwh(a,b))return 0;var e=ef();z7(g7(a.C),nwh(a,b,e,c));d||(d=a.D,c=r7(q7(c?43027:43028),b),c.J=!0,y7(d,s7(c)));return x7(g7(a.C),b.getId(),e)}function mwh(a,b){if(!b)return!1;if(!b.Zj()||!b.vG())throw Error("Attempting to accept/reject a non-suggestion.");return owh(g7(a.C),b)?!0:!1}
function nwh(a,b,c,d){a=Puh(Uuh(Quh(n7(new m7(c)),La()),a.F.ih()),b.vG());M(a.C,10,d?2:3);b=Ouh(new m7(t7(b),b.getId()),a);return w7(v7(b),!0)}function pwh(a,b,c){for(var d=[],e=[],f=[],h=0;h<b.length;h++){var k=A7(g7(a.C),b[h]);if(mwh(a,k)){var l=ef();d.push(nwh(a,k,l,c));e.push(k.getId());f.push(l)}}kwh(g7(a.C),d,"c");b=[];for(h=0;h<e.length;h++)b.push(x7(g7(a.C),e[h],f[h]));return b};function qwh(){Wn.call(this)}y(qwh,Wn);function rwh(a,b){Kn.call(this,a);this.Pl=b||null}y(rwh,Kn);function swh(){Np.call(this,"",void 0,!0);this.F=new Ip(v(this.C,this));this.va(this.F);this.H=null}u(swh,Np);swh.prototype.O=function(a,b,c,d){if(this.H&&!wd(a,"Error in protected function: ")){var e=new xth;a=M(e,1,a);b=M(a,2,b);c=M(b,3,String(c));d&&M(c,4,d);twh(this.H,"rjse",c,void 0,qa,!0,1)}};swh.prototype.Ja=function(){Np.prototype.Ja.call(this);delete this.F};function uwh(a){Wn.call(this);var b=this;this.F=null;this.H=new zn;this.va(this.H);this.C=a;An(this.H,this.C.yF(),function(){"hidden"===b.C.getState()&&(b.D=new ZB);"visible"!=b.C.getState()||tjb(b.D)||(b.dispatchEvent("oj"),vwh(b))});this.D=new ZB;vwh(this)}u(uwh,Wn);uwh.prototype.format=function(a){var b=new ZB(a);b=(new ZB).getTime()-b.getTime();if(15552E6<b||-864E5>b)return wwh.format(a);b=K4e(a.getTime());return xwh.format(a)+(" "+b)};
function vwh(a){var b=new ZB;b.add(new YB(0,0,1));b=b.getTime();jp(a.F);a.F=ip(function(){a.dispatchEvent("oj");vwh(a)},b-La(),a)}ta(uwh);var xwh=new cC(7),wwh=new cC(2);function ywh(a){this.C=a;this.D={};this.J={};this.L=this.C.V;this.bd=0;this.H=[];this.Ma=new Xn(this);this.va(this.Ma);this.Ma.listen(this.C,"r",this.O)}y(ywh,A);var zwh=[mf?"readystatechange":"load","abort","error"];function Awh(a){return"legacy"==a.C.F?"//ssl.gstatic.com/docs/common/profile/unverified_user_96.svg":"//ssl.gstatic.com/docs/common/profile/material_unverified_user_96.svg"}
function Bwh(a,b,c,d){if(b){var e="dcs-img-"+a.bd++;b.id=e;b.alt=d;a.D[e]=b;a.J[e]=c||"//ssl.gstatic.com/s2/profiles/images/silhouette96.png";Cwh(a,e)}}function buh(a,b,c,d){b&&a.H.push(new Dwh(b,c,d))}function Ewh(a){ip(function(){for(;this.H.length;){var b=this.H.pop();Bwh(this,b.Zw,b.src,b.C)}},0,a)}function h7(a,b){b&&b.id&&(a.Ma.Gc(b,zwh,a.F),delete a.D[b.id],delete a.J[b.id])}ywh.prototype.O=function(){var a=this.C.V;if(this.L!=a&&(this.L=a,!a))for(var b in this.D)Cwh(this,b)};
ywh.prototype.F=function(a){if(a.currentTarget){var b=a.currentTarget;if("readystatechange"!=a.type||"complete"==b.readyState)"abort"==a.type||"error"==a.type?(b.classList.contains("docos-avatar-unverified")&&(b.classList.remove("docos-avatar-unverified"),this.C.D.C(b,"")),this.Ma.Gc(b,zwh,this.F),b.src="//ssl.gstatic.com/s2/profiles/images/silhouette96.png"):h7(this,b)}};function Cwh(a,b){a.Ma.listen(a.D[b],zwh,a.F);a.D[b].src=a.J[b]}function Dwh(a,b,c){this.Zw=a;this.src=b;this.C=c};function Fwh(){$W.call(this);this.V=!1}y(Fwh,$W);function c7(a){return a.get("config")}function i7(a){var b=aX(a,"action_registry");if(!b){b=new zvh;for(var c=Nd(Cth),d=0;d<c.length;d++){var e=c[d];e=O((new Us(e)).aj("label",e).aj("visible",!0).aj("hint",e).aj("enabled",!0));b.nB(e);b.va(e)}a.sf("action_registry",b)}return b}function g7(a){return a.get("stream")}function f7(a){return a.get("imageManager")}function Gwh(a){return a.get("subscriptionManager")}
function $vh(a){return a.get("impressionRecorder")}function Wth(a){return aX(a,"errorReporter")}function Hwh(a){var b=aX(a,"batchEventTracker");b||(b=new Avh,a.sf("batchEventTracker",b));return b};function Iwh(a,b,c){this.L=a;this.D=b;this.O=c;this.C=!1;this.J=this.H=0;this.F=c7(a).Tm}function Jwh(a,b){a.C!=b&&(a.C=b,b={Aj:a.D,WJb:a.O,eKb:b},i7(a.L).tf("mouse-hover-doco-view").wb(b))};function Kwh(a){a=a||{};var b=a.dI,c=a.ZZ,d=a.fKb;a="";b&&(d="docos-action-text "+(d?"docos-edit-pane-action-text":"docos-body-action-text"),a+=c?"<div class="+bX(c)+"><span class="+bX(d)+">"+R(b)+"</span></div>":"<span class="+bX(d)+">"+R(b)+"</span>");return S(a)};function Lwh(a){a=a||{};var b=a.lh,c=a.rA;a=a.fQ;return S('<div class="'+T("goog-inline-block")+" "+T("goog-menu-button")+" "+T("docos-docomenu-dropdown")+'">'+(b?R(Oth({lh:""+b,rA:""+c,fQ:a})):"")+"</div>")};function Mwh(a,b,c){b=c||b;a=a||{};c=S;var d;if(a.Oo){var e=b;b=a||{};var f=b.author,h=b.sL,k=b.Vka,l=b.Ce;a=b.Tl;var n=b.xA,q=b.Zj,r=b.tA,w=b.wwa,x=b.dI,B=b.pW,L=b.Jj,X=b.qda,V=b.Wsa,ca=b.timestamp,na=b.b$a,ua=b.Cn;f='<div class="'+T("docos-anchoredreplyview")+(l?" "+T(l):"")+(q?" "+T("docos-replyview-suggest"):" "+T("docos-replyview-comment"))+'"><div class="'+T("docos-anchoredreplyview-header")+'"><div class="'+T("docos-anchoredreplyview-avatar-holder")+'">'+R(Pth({size:32,f$a:na,uma:h?""+h:"",
Ce:"docos-replyview-avatar docos-anchoredreplyview-avatar"}))+(n?'<div class="'+T("docos-user-presence")+'"></div>':"")+'</div><div class="'+T("docos-anchoredreplyview-authortimestamp")+'"><div class="'+T("docos-anchoredreplyview-author")+" "+T("docos-author")+'"'+(h?' data-hovercard-id="'+T(h)+'"':"")+">"+(f?R(f):"")+'</div><div class="'+T("docos-anchoredreplyview-timestamp")+" "+T("docos-replyview-timestamp")+'">'+(ca?R(ca):"")+'</div></div><div class="'+T("docos-anchoredreplyview-buttonholder")+
" "+T("hide-on-readonly")+'">';zw(q)&&zw(n)?(x=x={Cn:ua},x=S(Nwh({ad:"docos-accept-suggestion jfk-button-collapse-right",Cn:x.Cn},e)),ua=ua={Jj:L,Cn:ua},L=ua.Jj,ua=ua.Cn,e=""+R(Nz({title:"Hylk\u00e4\u00e4 ehdotus",style:ua?4:0,ad:"docos-reject-suggestion jfk-button-collapse-left",content:Aw(""+(ua?S('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>'):R(Oth({lh:"docos-icon-reject-suggestion-cross",
rA:"docos-icon-reject-suggestion-cross-size",Ce:"jfk-button-img"})))),zM:L},e)),e=S(e),e=x+e):r?e="":(L=n?X?S(Nwh({ad:"docos-replyview-resolve-button-plus-one docos-replyview-resolve-button jfk-button-collapse-right"},e)):S(R(Nz({ad:"docos-replyview-resolve-button-original docos-replyview-resolve-button"},e))):"",!zw(X)||!zw(B)&&x?e="":V?(X=(X=b)||{},ua=X.xA,x=X.pW,X=X.Jj,V=R(Oth({lh:"docos-icon-thumb-black",rA:"docos-icon-thumb-size",Ce:"jfk-button-img",fQ:!0}))+'<div class="'+T("like-button-text")+
'">',V+="0</div>",e=""+R(Nz({ad:"docos-like-button "+(zw(ua)&&!x?"jfk-button-collapse-left":""),title:"Tykk\u00e4\u00e4 t\u00e4st\u00e4",content:Aw(V),zM:X},e)),e=S(e),e=R(e)):(X=(X=b)||{},ua=X.xA,x=X.pW,X=X.Jj,V='<div class="'+T("vote-button-text")+'">',V+="+1</div>",e=""+R(Nz({ad:"docos-vote-button "+(zw(ua)&&!x?"jfk-button-collapse-left":""),title:"Anna kommentille +1",content:Aw(V),zM:X},e)),e=S(e),e=R(e)),e=L+e+'<div class="'+T("docos-overflowmenu-outer")+'" style="visibility: hidden"></div>');
k=f+e+'</div></div><div class="'+T("docos-collapsible-replyview")+" "+(k?"":T("docos-collapsible-replyview-empty"))+'">'+(n||B?"":R(Kwh(xw({ZZ:""},b))))+'<div class="'+T("docos-replyview-static")+'"><div class="'+T("docos-replyview-body")+" "+T("docos-anchoredreplyview-body")+'">'+(k?R(k):"")+'</div><div class="'+T("docos-show-more")+'" role="button" tabindex="0">';k=k+'N\u00e4yt\u00e4 lis\u00e4\u00e4</div><div class="'+(T("docos-show-less")+'" role="button" tabindex="0" style="display:none">');k+=
"Piilota";n?d=R(Kwh(xw({ZZ:"docos-root-reply-action-text-wrapper"},b))):B?d=R(Kwh(xw({ZZ:"docos-action-text-bottom-wrapper"},b))):d="";k+="</div></div></div>"+(a?'<div class="'+T("docos-edit-pane-placeholder")+'" style="display: none"></div>':"")+d+'<div class="'+T("docos-replyview-origin")+" "+T("docos-anchoredreplyview-origin")+'">'+(w?R(w):"")+"</div></div>";d=S(k)}else B=a||{},k=B.author,f=B.sL,e=B.Vka,w=B.kla,a=B.Tl,n=B.wwa,L=B.timestamp,ua=B.Cn,d=S,B.xA?(a=(a=B)||{},ua=a.author,x=a.sL,n=a.Vka,
X=a.Ce,w=a.Tl,B=a.r6b,k=a.fta,f=a.wwa,e=a.dI,L=a.pW,V=a.timestamp,b='<div class="'+T("docos-streamrootreplyview")+(X?" "+T(X):"")+'"><div class="'+T("docos-streamdocoview-authorname")+" "+T("docos-author")+" "+T("goog-inline-block")+'"'+(x?' data-hovercard-id="'+T(x)+'"':"")+">"+(ua?R(ua):"")+'</div><div class="'+T("goog-inline-block")+" "+T("docos-actionmenu-outer")+'">'+R(Lwh(null,b))+'</div><div class="'+T("docos-streamdocoview-details")+" "+T("goog-inline-block")+'"><div class="'+T("docos-streamdocoview-timestamp")+
" "+T("docos-replyview-timestamp")+" "+T("goog-inline-block")+'">'+(V?R(V):"")+'</div><div class="'+T("docos-streamdocoview-bullet")+" "+T("goog-inline-block")+" "+T("show-on-readonly")+'" aria-hidden="true">&bull;</div><div class="'+T("docos-streamdocoview-comments-off")+" "+T("goog-inline-block")+" "+T("show-on-readonly")+'">',b=b+'Kommentit estetty</div><div class="'+(T("docos-streamdocoview-reopen-control")+" "+T("goog-inline-block")+" "+T("hide-on-readonly")+'" style="display: none"><div class="'+
T("docos-streamdocoview-bullet")+" "+T("goog-inline-block")+'" aria-hidden="true">&bull;</div><div class="'+T("docos-docoview-reopen")+" "+T("goog-inline-block")+'" role="button" tabindex="0" title="'),b+=Cw("Merkitse avatuksi ja palauta keskustelu asiakirjaikkunaan."),b+='">Avaa uudelleen</div></div></div>',B&&(b+='<div class="'+T("docos-replyview-quote-caption")+'">',b=b+'Valittu teksti:</div><div class="'+(T("docos-replyview-quote")+" "+T("docos-replyview-quote-collapsed")+'">'+R(B)+'<div class="'+
T("docos-replyview-quote-collapse")+" "+T("goog-inline-block")+'" style="display:none">'),b=b+'Tiivist\u00e4</div><div class="'+(T("docos-replyview-quote-expand")+'">'),b+="N\u00e4yt\u00e4 kaikki</div></div>"),b+='<div class="'+T("docos-replyview-static")+'"><div class="'+T("docos-streamdocoview-body")+" "+T("docos-replyview-body")+'">'+R(n)+"</div>"+(e?R(Kwh(xw({ZZ:"docos-root-reply-action-text-wrapper"},a))):"")+'<div class="'+T("docos-streamdocoview-controls")+" "+T("hide-on-readonly")+'"><div class="'+
T("docos-streamdocoview-comment-control")+" "+T("goog-inline-block")+'"><div class="'+T("docos-docoview-comment")+" "+T("goog-inline-block")+'" role="button" tabindex="0" title="',b+=Cw("Vastaa t\u00e4h\u00e4n kommenttiin"),b+='">Vastaa</div></div>',k&&(b+='<div class="'+T("docos-streamdocoview-resolve-control")+" "+T("goog-inline-block")+'"><div class="'+T("docos-streamdocoview-bullet")+" "+T("goog-inline-block")+'" aria-hidden="true">&bull;</div>',L?(b+='<div class="'+T("docos-docoview-resolve")+
" "+T("goog-inline-block")+'" role="button" tabindex="0" title="',b+=Cw("Merkitse valmiiksi ja piilota keskustelu"),b+='">Merkitse valmiiksi'):(b+='<div class="'+T("docos-docoview-resolve")+" "+T("goog-inline-block")+'" role="button" tabindex="0" title="',b+=Cw("Merkitse ratkaistuksi ja piilota keskustelu"),b+='">Ratkaistu'),b+="</div></div>"),b+="</div></div>"+(w?'<div class="'+T("docos-edit-pane-placeholder")+'" style="display: none"></div>':"")+'<div class="'+T("docos-replyview-origin")+" "+T("docos-streamreplyview-origin")+
'">'+(f?R(f):"")+"</div></div>",b=S(b)):(b='<div class="'+T("docos-streamreplyview")+'">'+R(Pth({size:ua?32:24,uma:f?""+f:"",Ce:"docos-replyview-avatar docos-streamreplyview-avatar"}))+'<div class="'+T("docos-streamreplyview-content")+'"><div class="'+T("docos-streamreplyview-text")+" "+T("goog-inline-block")+'"><div class="'+T("docos-streamreplyview-author")+" "+T("docos-author")+" "+T("goog-inline-block")+'"'+(f?' data-hovercard-id="'+T(f)+'"':"")+">"+(k?R(k):"")+"</div>"+R(Kwh(B))+' <br><span class="'+
T("docos-replyview-body")+" "+T("docos-streamreplyview-body")+" "+T("docos-replyview-static")+'">'+R(e)+'</span></div><div class="'+T("docos-replyview-static")+'"><div class="'+T("docos-streamreplyview-timestamp")+" "+T("docos-replyview-timestamp")+" "+T("goog-inline-block")+'">'+(L?R(L):"")+"</div>",zw(w)||zw(a)?(k=k={W7a:!0,kla:w,Tl:a},w=k.kla,B=k.Tl,k=k.W7a,f='<div class="'+T("docos-replyview-control")+" "+T("docos-replyview-static")+" "+T("goog-inline-block")+" "+T("hide-on-readonly")+'">',B&&
(f+=(k?'<div class="'+T("docos-streamdocoview-bullet")+" "+T("goog-inline-block")+'" aria-hidden="true">&bull;</div>':"")+'<div class="'+T("docos-replyview-edit")+" "+T("goog-inline-block")+'" role="button" tabindex="0" title="',f+=Cw("Muokkaa kommenttia"),f+='">Muokkaa</div>'),w&&(f+=(k?'<div class="'+T("docos-streamdocoview-bullet")+" "+T("goog-inline-block")+'" aria-hidden="true">&bull;</div>':"")+'<div class="'+T("docos-replyview-delete")+" "+T("goog-inline-block")+'" role="button" tabindex="0" title="',
f+=Cw("Poista kommentti pysyv\u00e4sti"),f+='">Poista</div>'),w=S(f+"</div>"),w=R(w)):w="",b=b+w+"</div>"+(a?'<div class="'+T("docos-edit-pane-placeholder")+'" style="display: none"></div>':"")+'<div class="'+T("docos-replyview-origin")+" "+T("docos-streamreplyview-origin")+'">'+(n?R(n):"")+"</div></div></div>"),d=d(b);return c(d)}function Owh(){return S('<div class="'+T("docos-showrepliesbutton")+'" style="display:none"><div class="'+T("docos-showrepliesbutton-collapsed")+'"></div></div>')}
function Nwh(a,b){a=a||{};var c=a.ad;a=a.Cn;var d=S,e;a?e=S('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"/></svg>'):e=R(Oth({lh:"docos-icon-accept-checkmark-black",rA:"docos-icon-accept-checkmark-size",Ce:"jfk-button-img"}));return d(R(Nz({ad:c?""+c:"",style:a?4:0,content:Aw(""+e)},b)))};function Pwh(a,b){a=a||{};var c=a.eEa,d=a.ad,e=a.bHa;a=a.cHa;return S('<div class="'+T("goog-inline-block")+(d?" "+T(d):"")+'">'+R(hhd({Lk:c,ad:e},b))+(c?"<label"+(a?' class="'+T(a)+'"':"")+">"+R(c)+"</label>":"")+"</div>")};function Qwh(a,b,c){b=c||b;a=a||{};var d=a.Ce;c=a.G8;var e=a.H$b,f=a.rla,h=a.dHa,k=a.lDa,l=a.Jj,n=a.dI,q=a.IH;a='<div class="'+T("docos-input")+(d?" "+T(d):"")+'" style="display: none"><textarea class="'+T("docos-input-textarea")+(h?" "+T(h):"")+'" autocomplete="input-area" x-webkit-speech speech></textarea>'+(n?R(Kwh(xw({ZZ:"docos-edit-pane-action-text-wrapper",fKb:!0},a))):"")+(e?'<div class="'+T("docos-input-sidearrow-outer")+'"></div><div class="'+T("docos-input-sidearrow-inner")+'"></div>':"")+
'<div id="docos-input-assignment-panel" class="'+T("docos-input-assignment-panel")+'" style="display: none">'+R(hhd({ad:"docos-input-assignment-box"},b))+'<div class="'+T("docos-input-assignee-text")+'">'+R(k)+'</div><div class="'+T("docos-input-assignee-select")+'"></div></div>'+(q?'<div class="'+T("docos-input-static-message")+'">'+R(q)+"</div>":"")+'<div class="'+T("docos-input-at-reply-message")+'" style="display: none">';a=a+'+maininta lis\u00e4\u00e4 henkil\u00f6it\u00e4 t\u00e4h\u00e4n keskusteluun ja l\u00e4hett\u00e4\u00e4 s\u00e4hk\u00f6postia.</div><div class="'+
(T("docos-input-acl-fixer-message")+'" style="display: none" aria-live="polite">');a=a+'Varmistetaan, ett\u00e4 mainitsemillasi henkil\u00f6ill\u00e4 on k\u00e4ytt\u00f6oikeus\u2026</div><div class="'+(T("docos-input-assignment-message")+'" style="display: none">');a=a+'Henkil\u00f6lle ilmoitetaan, ja h\u00e4n vastaa teht\u00e4v\u00e4n merkitsemisest\u00e4 valmiiksi.</div><div class="'+(T("docos-input-assign-to-text")+'" style="display: none"></div><div class="'+T("docos-focusedpresenceindicator-container")+
'"></div><div class="'+T("docos-input-buttons")+'">'+R(Nz({style:2,ad:"docos-input-post docos-input-buttons-post"},b)));d="";d=f?d+(""+f):d+"Hylk\u00e4\u00e4 kommentti";f="";f=c?f+R(c):f+"Peruuta";a+=R(Nz({ad:"docos-input-cancel",title:d,content:Aw(f),zM:l},b));return S(a+"</div></div>")};function Rwh(a,b,c){b=c||b;a=a||{};c=S;if(a.Oo){a=a||{};var d=a.author,e=a.yW,f=a.pW,h=a.Jj,k=a.Cn;a.tA?(a=(a=xw({author:d,Jj:h},a))||{},d=a.author,e=a.Jj,f=a.IH,b=S('<div class="'+T("docos-anchoreddocoview-content")+" "+T("docos-anchoreddocoview-draft")+'">'+R(Mwh(xw({author:d,Oo:!0,xA:!0,Ce:"docos-replyview-first"},a),b))+"</div>"+R(Qwh({Ce:"docos-anchoreddocoview-input-pane docos-draftdiscussionview-input-pane docos-docoview-input-pane",Jj:e,IH:f},b)))):e?(d=(d=xw({Jj:h,Cn:k},a))||{},e=d.g8a,a=
d.Jj,f=d.Cn,h='<div class="'+T("docos-anchoreddocoview-content")+" "+T("docos-smarttodoview")+'"><div class="'+T("docos-smarttodoview-container")+'"><div class="'+T("docos-smarttodoview-header")+'"><table><tr><td class="'+T("docos-icon-explore-container")+'">'+R(Oth({lh:"docos-icon-explore",rA:"docos-icon-explore-size",fQ:!0}))+'</td><td class="'+T("docos-smarttodoview-headertext")+'" role="heading"><div class="'+T("docos-smarttodoview-headertext-outer")+'"><div class="'+T("docos-smarttodoview-headertext-inner")+
'">',h=h+'Ehdotettu toimintokohde</div></div></td><td><div class="'+(T("docos-overflowmenu-outer")+'">'+R(Lwh({rA:"docos-icon-overflow-three-dots-size",lh:"docos-icon-overflow-three-dots",fQ:f},b))+'</div></td></tr></table></div><div class="'+T("docos-smarttodoview-body")+'"></div>'),h+=R(Qwh({Ce:"docos-docoview-input-pane",G8:"Hylk\u00e4\u00e4",rla:"Hylk\u00e4\u00e4 ehdotettu toimintokohde",Jj:a},b)),e&&(h+='<div class="'+T("docos-smarttodoview-showfeedbackdialog-container")+'"><div class="'+T("docos-smarttodoview-showfeedbackdialog-button")+
'" role="button" tabindex="0" aria-expanded="false">',h+="Onko ehdotus huono?</div></div>"),a=h,e?(d=d||{},d=d.Jj,e='<div class="'+T("docos-smarttodoview-feedback")+'" style="display: none"><div class="'+T("docos-smarttodoview-feedback-headertext")+'" role="heading">',e=e+'Kerro meille, miksi et pid\u00e4 t\u00e4st\u00e4.</div><div class="'+(T("docos-smarttodoview-feedback-checkboxlist")+'">'),e+=R(Pwh({eEa:"Ei ole toimintokohde",ad:"docos-smarttodoview-feedback-checkbox-container",bHa:"docos-smarttodoview-feedback-checkbox docos-smarttodoview-feedback-notactionitem",
cHa:"docos-smarttodoview-feedback-text docos-smarttodoview-feedback-notactionitem-label"},b)),e+=R(Pwh({eEa:"M\u00e4\u00e4ritetty v\u00e4\u00e4r\u00e4lle k\u00e4ytt\u00e4j\u00e4lle",ad:"docos-smarttodoview-feedback-checkbox-container",bHa:"docos-smarttodoview-feedback-checkbox docos-smarttodoview-feedback-wrongassignee",cHa:"docos-smarttodoview-feedback-text docos-smarttodoview-feedback-wrongassignee-label"},b)),e+='</div><div class="'+T("goog-inline-block")+" "+T("docos-smarttodoview-writefeedback-link")+
'" role="button" tabindex="0">',e=e+'Kirjoita palautetta</div><div class="'+(T("docos-smarttodoview-feedback-buttonlist")+'">'),e+=R(Nz({style:2,ad:"docos-input-post docos-smarttodoview-feedback-submit",title:"L\u00e4het\u00e4 palaute",content:"L\u00e4het\u00e4",zM:d},b)),e+=R(Nz({ad:"docos-input-cancel docos-smarttodoview-feedback-cancel",title:"Hylk\u00e4\u00e4 palaute",content:"Peruuta",zM:d},b)),b=S(e+"</div></div>")):b="",b=S(a+("</div>"+b+"</div>")),b=R(b)):b=(f?'<div class="'+T("docos-anchoreddocoview-content")+
" "+T("docos-anchoreddocoview-assigneecontainer")+'"></div>':"")+'<div class="'+T("docos-anchoreddocoview-content")+" "+T("docos-docoview-replycontainer")+'"><div class="'+T("docos-docoview-rootreply")+'"></div></div><div class="'+T("docos-input-pane-placeholder")+'" style="display: none"></div><div class="'+T("docos-unfocusedpresenceindicator-container")+'"></div>';b=S('<div class="'+T("docos-docoview-tesla-conflict")+'" role="dialog"><div class="'+T("docos-anchoreddocoview-internal")+'">'+b+"</div></div>")}else a=
a||{},b=a.sL,a=a.Cn,b=S('<div class="'+T("docos-docoview-tesla-conflict")+'">'+R(Pth({size:a?32:48,uma:b?""+b:"",Ce:"docos-streamdocoview-avatar"}))+'<div class="'+T("docos-streamdocoview-content")+'"><div class="'+T("docos-docoview-rootreply")+'"></div><div class="'+T("docos-streamdocoview-replycontainer")+" "+T("docos-docoview-replycontainer")+'"></div><div class="'+T("docos-streamdocoview-inputcontainer")+" "+T("hide-on-readonly")+'">'+R(Pth({size:a?32:24,Ce:"docos-streamreplyview-avatar"}))+'<div class="'+
T("docos-input-pane-placeholder")+'" style="display: none"></div></div></div></div>');return c(b)};function Swh(a,b){Kn.call(this,a);this.Aj=b}u(Swh,Kn);function B7(a){Swh.call(this,"rd",a)}u(B7,Swh);function C7(a,b,c,d,e){b7.call(this,a,d);this.R=a;this.Za=c;this.$a=[];this.O=null;this.Pa=new Iwh(this.R,b,this.Oo());this.Uc(b);this.Oa=null;this.Vc=e;this.Cb=this.xa=null;this.xd=!0;this.tc=!1}u(C7,b7);p=C7.prototype;p.qz=ba();p.Uc=function(a){b7.prototype.Uc.call(this,a);this.Pa.D=a};p.getContext=g("R");p.ud=function(){return g7(this.R).ud(this.getId())||null};p.Sk=function(){var a=this.getId();return Twh(this.Vc,a)};p.qQ=m(null);p.tua=m(!1);
p.Ca=function(){var a=this.ud(),b=a.Lv();a=e7(a);var c=Sx(Rwh,{author:b.getName(),sL:this.C.ma?b.getId():null,Oo:this.Oo(),pW:!!a,Jj:this.C.Jj(),Cn:"legacy"!=this.C.F});this.Oo()||kvh(this.C)||ex(c,"docos-streampanemargin-legacy");this.jb(c);this.re(b,a||void 0)};
p.re=function(a,b){b=b?Tth(b,this.C):void 0;a=a.getName();var c=Md(this.ud().D),d=this.ud().isResolved()?"Ratkaistu":"Avoin";b=a&&b?(new uA("{numReplies,plural, =1{Kommentit-valintaikkuna {state} kommentti. Tekij\u00e4: {author}. Saaja: {assignee}. 1\u00a0vastaus.}other{Kommentit-valintaikkuna {state} kommentti. Tekij\u00e4: {author}. Saaja: {assignee}. {numReplies}\u00a0vastausta.}}")).format({state:d,author:a,assignee:b,numReplies:c}):a?(new uA("{numReplies,plural, =1{Kommentit-valintaikkuna {state} kommentti. Tekij\u00e4: {author}. 1\u00a0vastaus.}other{Kommentit-valintaikkuna {state} kommentti. Tekij\u00e4: {author}. {numReplies}\u00a0vastausta.}}")).format({state:d,
author:a,numReplies:c}):(new uA("{numReplies,plural, =1{Kommentit-valintaikkuna {state} kommentti. 1\u00a0vastaus.}other{Kommentit-valintaikkuna {state} kommentti. {numReplies}\u00a0vastausta.}}")).format({state:d,numReplies:c});Sw(this.getElement(),b)};p.Ia=function(){b7.prototype.Ia.call(this);d7(d7(this,this.getElement(),["click","keypress","keyup"],this.QMb),this.getElement(),["mouseenter","mouseleave","mousemove"],this.X2b);Fo(this.getElement(),!0)};
p.vd=function(){b7.prototype.vd.call(this);Jwh(this.Pa,!1)};p.B8=m(!1);p.oxa=ba();p.eea=function(){if("legacy"==this.C.F&&this.Oo()&&(!this.xa||!this.Cb)){var a=this.qa(),b=this.getElement(),c=a.createElement("DIV");ex(c,"docos-anchoreddocoview-arrow-inner");this.xa=c;c=a.createElement("DIV");ex(c,"docos-anchoreddocoview-arrow-outer");this.Cb=c;a.Sr(b,this.xa,0);a.Sr(b,this.Cb,0)}};
p.Zc=function(){if(!this.O||0==this.O.height||0==this.O.width){var a=this.xd;a||this.setVisible(!0);this.O=new hm(this.getElement().offsetWidth,this.getElement().offsetHeight);a||this.setVisible(!1)}return this.O.clone()};p.getHeight=function(){this.O||this.Zc();return this.O.height};p.QMb=function(a){(13==a.keyCode&&"keypress"==a.type||32==a.keyCode&&"keyup"==a.type||"click"==a.type)&&this.vRa(a);32==a.keyCode&&"keypress"==a.type&&(a.stopPropagation(),a.preventDefault())};
p.X2b=function(a){var b=this.Pa;"mousemove"==a.type&&b.F?(b.H=a.clientX,b.J=a.clientY):"mouseenter"!=a.type&&"mouseleave"!=a.type||Jwh(b,"mouseenter"==a.type);a.stopPropagation()};p.eX=function(a){this.resize();a.stopPropagation()};p.resize=function(){this.O=null;this.dispatchEvent(new B7(this.getId()))};p.setVisible=function(a){this.xd=a;P(this.getElement(),a)};p.isVisible=g("xd");
function Uwh(a){var b=["docos-docoview-tesla-conflict"],c=[];Vwh(a,"docos-anchoreddocoview",a.Oo(),b,c);Vwh(a,"docos-streamdocoview",!a.Oo(),b,c);Vwh(a,"docos-docoview-active",a.Sk(),b,c);var d=a.ud();Vwh(a,"docos-docoview-resolved",!!d&&d.isResolved(),b,c);if(0<b.length||0<c.length)fx(a.getElement(),b),hx(a.getElement(),c),a.$a=Tw(a.getElement())}function Vwh(a,b,c,d,e){c&&!$c(a.$a,b)?d.push(b):!c&&$c(a.$a,b)&&e.push(b)}p.xR=da("Oa");function Wwh(a){return a.Oa?a.Oa:a.C.Fs}p.getDocoMaxHeight=g("Oa");
p.Ja=function(){b7.prototype.Ja.call(this);delete this.R};function Xwh(a,b){this.C=a;this.cb=b}
function Ywh(a,b,c){var d=b.getEmail(),e=b.getName(),f='<div class="'+T("docos-contact-row")+'" title="';f+=Cw("Yhteystiedot");f+='">'+R(Pth({size:32,Ce:"docos-contact-row-avatar"}))+'<div class="'+T("docos-contact-row-name")+'">'+(e?R(e):R(d))+"</div>"+(e?'<div class="'+T("docos-contact-row-email")+'">'+R(d)+"</div>":"")+"</div>";d=S(f);d=vw(d);Je(c,d);d=b.getEmail();d=Bd(cf(b.getName()))?d:b.getName()+" "+d;Sw(c,d);c=fW(a.cb,"IMG","docos-contact-row-avatar",c);h7(a.C,c);Bwh(a.C,c,b.C,a7(b));return c}
;function Zwh(a,b,c,d){d=void 0===d?null:d;rz.call(this,void 0,void 0,void 0,a);this.J=null;this.R=new Xwh(f7(c),a);this.H=b;this.L=c;this.C=d;this.O=!(this.C&&this.C.Oo());this.D=null}u(Zwh,rz);p=Zwh.prototype;p.Ia=function(){rz.prototype.Ia.call(this);this.D=io("goog-menu-button-dropdown",this.getElement());this.getHandler().listen(this.getElement(),["click","keypress","keyup"],this.mNb).listen(this.getElement(),"focus",this.sx).listen(this.getElement(),["mousedown","blur"],this.jXa)};
p.mNb=function(a){this.C&&this.C.ud()==g7(this.L).O||(this.Fd(!this.cf()),this.jXa());a.stopPropagation()};p.sx=function(){ex(this.D,"docos-assignee-select-focus")};p.jXa=function(){gx(this.D,"docos-assignee-select-focus")};p.Ye=function(a){return this.Ob()&&2>this.Ob().rc()?!1:rz.prototype.Ye.call(this,a)};p.dg=function(a){this.C&&this.C.ud()==g7(this.L).O&&(this.Ob()&&2>this.hh()||rz.prototype.dg.call(this,a))};function $wh(a){return(a=a.bf())?a.ih():null}
p.ye=function(a){rz.prototype.ye.call(this,a);var b=a.getElement();b&&(ex(b,"docos-assignee-select-menu"),"legacy"!=this.H.F&&ex(b,"docs-gm"),this.O&&a.render(this.H.O))};p.Dl=function(){var a=this.Ob().getElement();Lv(a,"width",this.J.offsetWidth+"px");rz.prototype.Dl.call(this);var b=parseInt(Mv(a,"top"),10)||0,c=Sv(this.J).x;this.O?(c-=Sv(this.H.O).x,b+=-2):b+=-1;Pv(a,c,b)};function axh(a){var b=new sl;if(!a.Ob())return b;a.Ob().Oe(function(c){b.add(c.ih())});return b}
p.update=function(a,b){if(!axh(this).equals(new sl(a))||$wh(this)!=b){for(var c=new Py(this.qa()),d,e=0;e<a.length;e++){var f=a[e],h=new bxh(f,this.R,this.qa());f==b&&(d=h);c.Ga(h,!0)}this.ye(c);tz(this,d);P(this.getElement(),1<this.hh())}};p.reset=function(){this.Ob().od();tz(this,null)};function bxh(a,b,c){var d=c.createElement("div");Ky.call(this,d,void 0,c);this.D=a;this.C=b;this.F=Ywh(this.C,this.D,d)}u(bxh,Ky);p=bxh.prototype;p.Ca=function(){Ky.prototype.Ca.call(this);ex(this.getElement(),"docos-assignee-select-item")};
p.Ia=function(){Ky.prototype.Ia.call(this);this.getHandler().listen(this.getElement(),"click",this.lNb)};p.ih=g("D");p.Gg=m("");p.lNb=function(a){a.stopPropagation()};p.Ja=function(){Ky.prototype.Ja.call(this);var a=this.F;a&&h7(this.C.C,a)};function cxh(){dxh(this)}u(cxh,Ra);cxh.prototype.qB=function(a){Dda(this.D.remove(a),a);this.C=null};cxh.prototype.cleanup=function(){this.D.clear();this.C=null};cxh.prototype.iterator=function(){if(!this.C){var a=new Csh,b=this.D;a.C=[];var c=b.Mf();b=c;var d=a.C;c=c.length;var e=0,f=0;Sa(b,d)&&(b=b.slice(f,f+c),f=0);var h=f;for(f+=c;h<f;){var k=Math.min(h+1E4,f);c=k-h;h=b.slice(h,k);h.splice(0,0,e,0);Array.prototype.splice.apply(d,h);h=k;e+=c}this.C=a}return this.C.sj()};cxh.prototype.sj=function(){return this.iterator()};
function dxh(a){var b=new nth,c=new Ash;jsh(c);b.C=c;a.D=b;a.C=null};function exh(a){dxh(this);this.F=a}u(exh,cxh);exh.prototype.set=function(a){this.F=a;for(a=this.iterator();a.C();){var b=a.D();fxh(b,this.F)}};exh.prototype.get=g("F");function gxh(a,b,c){return new hxh(a,b,c)}function hxh(a,b,c){this.C=ixh(a,b);this.Ud=c;this.F=!1;this.D=-1;jxh(this,0)}hxh.prototype.E3=g("F");hxh.prototype.close=function(){this.C.forEach(function(a){return a.cleanup()});this.D=-1;this.F=!0};
function ixh(a,b){for(var c=[],d={},e=0;e<b.length;d={sS:d.sS,s7:d.s7},e++){d.s7=b[e];var f=d;var h=new exh(null);f.sS=h;d.s7.H(a.token,a.H8,a.C,function(k){return function(l,n,q,r,w){r=void 0===r?!0:r;w=void 0===w?!1:w;0<l.length?k.sS.set(new kxh(l,n,r,k.s7.getType(),w,q)):r&&k.sS.set(lxh())}}(d))||d.sS.set(lxh());c.push(d.sS)}return c}function jxh(a,b){if(!a.F)if(b>=a.C.length)a.Ud(lxh()),a.close();else{a.D=b;var c=a.C[b];cc(a);Fda(c.D.add(a),a);c.C=null;b=a.C[b].get();null!==b&&fxh(a,b)}}
function fxh(a,b){b.isEmpty()?(a.C[a.D].qB(a),jxh(a,a.D+1)):(a.Ud(b),b.complete&&a.close())}function mxh(a,b,c){this.token=a;this.H8=b;this.C=c}function kxh(a,b,c,d,e,f){this.rows=a;this.C=b;this.complete=c;this.type=d;this.F=e;this.D=void 0===f?null:f}kxh.prototype.isEmpty=function(){return 0===this.rows.length&&this.complete};function lxh(){return new kxh([],new Dwd(!1),!0,0,!1,void 0)};function nxh(a){this.C=a};function oxh(){this.className="docos-ac-highlighted"}oxh.prototype.Yra=function(a,b,c){Bd(b)||c.C&&/^\W/.test(b)?c=null:(b=$e(b),c=c.C?new RegExp("\\b(?:"+b+")","gi"):new RegExp(b,"gi"));c&&this.Yw(a,c)};
oxh.prototype.Yw=function(a,b){if(3!==a.nodeType)for(a=a.firstChild;a;){var c=a.nextSibling;this.Yw(a,b);a=c}else{var d=a.nodeValue;c=[];for(var e=0,f=0,h;h=b.exec(d);)e++,c.push(d.substring(f,h.index)),c.push(d.substring(h.index,b.lastIndex)),f=b.lastIndex;c.push(d.substring(f));b=ao(a);for(d=0;d<e;d++)f=2*d,a.nodeValue=c[f],f=c[f+1],h=b.createElement("B"),h.className=this.className,b.appendChild(h,Oo(b,f)),f=h,h=Oo(b,""),b.Fv(f,a),b.Fv(h,f),a=h;a.nodeValue=c.slice(2*e).join("")}};function pxh(a,b,c,d,e,f,h){this.startTime=a;this.J=b;this.H=c;this.C=d;this.D=e;this.F=f;this.L=h};function qxh(a){this.y5b=a}u(qxh,hcb);function rxh(a,b,c,d,e,f,h,k,l){l=void 0===l?5E3:l;this.jka=!0;a=new sxh("\n",null,!0);Fsh(a);a.P0a=!1;a.V=null;a.R=null;f=new txh(f,k,this);f.R=!0;f.sAa=!1;f.O=!0;f.className="docos-ac";h&&jdb(f,h,void 0,h);AA.call(this,this,f,a);this.L.Wg=this;this.Ha=c.map(function(n){return new uxh(n)});this.Oa=new oxh;this.Upa(eo(b));this.ma=d?d:null;this.R=e||null;this.C=null;this.Pa=l;this.Ea=!1;this.Ba=null}y(rxh,AA);var vxh=/[\n]$/;p=rxh.prototype;
p.mH=function(a,b,c){var d=this,e=La(),f=this.L.D;this.R&&this.R.$n("dacps",e-f);var h=!0;this.C&&(this.C.cancel(),this.C=null);if(a){var k=wxh(this.L,a),l=xxh(this,a,k);if(0===l.length)c(a,[]);else if(1===l.length){var n=l[0];n.H(a,k,b,function(q,r,w,x,B){w=void 0===w?null:w;x=void 0===x?!0:x;B=void 0===B?!1:B;d.isDisposed()||(w=new qxh(new pxh(e,f,n.getType(),h,x,B,w)),w.$wa=!h,w.mba=r.Kka,c(a,q,w),h=!1)})}else b=gxh(new mxh(a,k,b),l,function(q){if(!d.isDisposed()){var r=new qxh(new pxh(e,f,q.type,
h,q.complete,q.F,q.D));r.$wa=!h;q.C&&(r.mba=q.C.Kka);c(a,q.rows,r);h=!1}}),this.C=new yxh(b,this.Pa)}else c(a,[])};function xxh(a,b,c){return a.Ha.filter(function(d){return d.F(b,c)})}
p.Vv=function(a,b){b||(b=new hcb);rxh.Ua.Vv.call(this,a,b);if(b instanceof qxh){this.Ba=b.y5b;var c=zxh(this,this.Ba,a.length,!1);b=this.Ba;var d=c,e=La()-b.startTime,f=La()-b.J;this.R&&(b.C&&(this.R.$n("dac",e,d.serialize()),this.R.$n("dact",f,d.serialize())),b.D&&(this.R.$n("dacfr",e,d.serialize()),this.R.$n("dacfrt",f,d.serialize())))}else this.Ba=null;if(this.ma){b=this.ma;d=a.length;a=0<a.length?a[0].getType():null;if(!b.C&&0<d&&a){var h=(h=Axh[a])&&h.Jha;b.C=a}else b.C&&0==d&&(h=(h=Axh[b.C])&&
h.jia,b.C=null);h&&Bxh(b,h,c)}};function zxh(a,b,c,d){var e=new H9d;e=M(e,1,c).setType(Cxh(b.H));e=M(e,3,b.F);c=M(e,4,b.F?b.C&&(b.D||0<c)?2:3:1);d&&(M(c,5,BA(a,a.J)),M(c,6,b.L));return Dsh(c)}function Cxh(a){switch(a){case 0:return 1;case 1:return 2;case 2:return 3;case 3:return 4;case 4:return 5;default:return 0}}p.xs=function(a,b,c){c&&(a.data.render(c),c.id=a.data.getId(),a.data.UO()&&this.Oa.Yra(c,a.data.UO().D,new nxh(a.data.UO().C)))};
p.kA=function(){var a=CA(this)?this.F[BA(this,this.J)]:null,b;this.Ba&&(b=zxh(this,this.Ba,this.F.length,!0));if(a&&this.ma){var c=this.ma;(a=Axh[a.getType()])&&Bxh(c,a.cha,b);c.C=null}this.Ea=!0;return rxh.Ua.kA.call(this)};p.Tg=function(){if(!this.Ea&&this.getToken()&&0<this.F.length&&this.ma){var a=this.ma,b=a.C&&Axh[a.C];b&&Bxh(a,b.r9);a.C=null}this.Ea=!1;rxh.Ua.Tg.call(this)};function Dxh(a){return CA(a)?a.F[BA(a,a.J)].getId():null}
p.Ja=function(){rxh.Ua.Ja.call(this);If(this.Ha);this.C&&(this.C.cancel(),this.C=null)};function sxh(a,b,c,d){this.D=0;FA.call(this,a,b,c,d)}y(sxh,FA);sxh.prototype.dg=function(){this.Wg.cf()&&this.Wg.Tg()};sxh.prototype.Dg=function(a){this.D=La();return(37===a.keyCode||39===a.keyCode)&&this.Wg.cf()||38===a.keyCode&&this.Wg.cf()&&-1===this.Wg.J?(this.Wg.Tg(),!0):sxh.Ua.Dg.call(this,a)};
sxh.prototype.xB=function(a,b){var c=null;if(a){c=a.fV();var d=Exh(this,a.getToken());c={start:c.vk()+d,end:c.rv()+d}}b=sxh.Ua.xB.call(this,a,b);if(a){d=c.end;var e=this.Zk;e&&(DA(e,c.start),EA(e,d));a.l5()}return b};function Exh(a,b){var c=a.Sn();a=a.getValue().slice(0,c+b.length).lastIndexOf(b);return 0<=a?a:c}function wxh(a,b){return a.Sn()-Exh(a,b)}function uxh(a){this.D=a}
uxh.prototype.H=function(a,b,c,d){var e=a.replace(vxh,"");return this.D.H(e,b,c,function(f,h,k,l,n){d(f.map(function(q){return new Fxh(q,a)}),h,k,l,n)})};uxh.prototype.getType=function(){return this.D.getType()};uxh.prototype.F=function(a,b){return this.D.F?this.D.F(a,b):!0};function Fxh(a,b){this.C=a;this.D=b}p=Fxh.prototype;p.getId=function(){return this.C.getId()};p.getType=function(){return this.C.getType()};p.UO=function(){return this.C.UO()};p.fV=function(){return this.C.fV()};p.render=function(a){this.C.render(a)};
p.l5=function(){this.C.l5()};p.getToken=g("D");p.toString=function(){var a=vxh.test(this.D)?"\n"[0]:"";return this.fV().C+a};function yxh(a,b){var c=this;this.D=a;this.C=ip(function(){c.C=null;c.D.close()},b)}yxh.prototype.cancel=function(){null!==this.C&&(jp(this.C),this.C=null);this.D.close()};function txh(a,b,c){ZA.call(this,a,c);this.Ka=!!b}y(txh,ZA);
txh.prototype.$c=function(){txh.Ua.$c.call(this);Sw(this.getElement(),"N\u00e4ytet\u00e4\u00e4n yhteystietoehdotukset");if(!this.F){var a=Qv(this.getElement()),b=this.Ka?-2:-1;Pv(this.getElement(),a.x,a.y+b)}};function Gxh(a){this.C=null;this.D=a}function Bxh(a,b,c){if(c){var d=new vj;cj(d,11,c)}a.D&&a.D(b,void 0,d)}var Hxh={},Axh=(Hxh[1]={Jha:43002,jia:43004,r9:43006,cha:43E3},Hxh[2]={Jha:43003,jia:43005,r9:43007,cha:43001},Hxh[3]={Jha:43068,jia:43069,r9:43066,cha:43067},Hxh[4]={Jha:43072,jia:43073,r9:43070,cha:43071},Hxh);function Ixh(a,b,c,d){Wn.call(this);this.C=a;this.H=b;this.D=c;this.J=d||0;a.removeAttribute("maxlength");this.F=new eB(a);Pn(this.F,"input",this.L,!1,this);Jxh(this)}y(Ixh,Wn);Ixh.prototype.L=function(){Jxh(this)};function Jxh(a){var b=a.C.value.length;if(b>a.D){var c=a.C.scrollTop,d=a.C.scrollLeft;a.C.value=a.C.value.substring(0,a.D);b=a.D;a.C.scrollTop=c;a.C.scrollLeft=d}a.H&&Eo(a.H,String(1==a.J?b:a.D-b))}Ixh.prototype.Ja=function(){Ixh.Ua.Ja.call(this);delete this.C;this.F.dispose();this.F=null};function Kxh(a,b){return Lxh(a,b,!1)}function Mxh(a,b){return Lxh(a,b,!0)}function Lxh(a,b,c){var d=[];if(!a||b.charAt(0).toUpperCase()!==b.charAt(0))return d;for(var e,f=0;f<a.length;f++){e=a[f];var h;if(h=e){var k=e;h=k.getName();k=k.getEmail();h=!(null==h||null==k||0>h.indexOf("-")?0:k.split("@")[0]==h)}if(h)a:{h=b;k=c;for(var l=e.getName().split(/\s+/),n,q=0;q<l.length;q++)if(n=l[q],n=k?yd(n,h):Ad(n,h)){h=!0;break a}h=!1}h&&d.push(e)}return d};function Nxh(a,b,c,d,e,f,h){b.getEmail();this.Bc=a;this.D=b;this.bd=c;this.L=d;this.H=e;this.J=f;this.C=null;this.F=h}y(Nxh,A);p=Nxh.prototype;p.ih=g("D");p.getId=g("bd");p.getType=g("L");p.UO=g("H");p.fV=g("J");p.render=function(a){this.C=Ywh(this.Bc,this.D,a)};p.l5=ba();p.Ja=function(){var a=this.C;a&&h7(this.Bc.C,a)};function Oxh(a,b){this.C=a;Pxh(this.C);this.D=b}function Qxh(a,b){for(var c=0,d=b-1;0<=d;d--)if(Rxh.has(a[d])){c=d+1;break}for(d=a.length;b<a.length;b++)if(Rxh.has(a[b])){d=b;break}return{text:a.slice(c,d),HH:c,lF:d}}function Sxh(a,b){for(var c=0,d=b-1;0<=d;d--)if(Txh.has(a[d])&&(0==d||Rxh.has(a[d-1]))){c=d;break}for(d=a.length;b<a.length;b++)if(Rxh.has(a[b])){d=b;break}return{text:a.slice(c,d),HH:c,lF:d}}
function Uxh(a,b,c,d,e,f,h,k,l){return a.C.On(d,f,function(n,q){n=n.map(function(r){var w;if(w=r)r.getEmail()?(w=null,WY(mth(r))?w=(new dZ(mth(r))).setSize(96).Qx():w=mth(r)||null,w=ouh(luh(nuh(new j7,r.getEmail()).ld(r.getName()),w).Uc(""))):w=null;return{r9a:r,QB:w}}).filter(function(r){return r.QB}).map(function(r,w){var x=r.QB;w=h+w;r=r.r9a.getType();var B=new rT(d,!0),L=c;x.getName()&&(L=Vxh(x.getName(),b,L));var X="+"+x.getEmail(),V=Rxh.has(b[L.lF]);return new Nxh(a.D,x,w,k,B,new sT(b.slice(0,
L.HH)+X+(V?"":" ")+b.slice(L.lF),L.HH+X.length+1,L.HH+X.length+1),r)});l(n,!q.Oj(),a.C.C)},e)}
function Vxh(a,b,c){if(0>a.indexOf(c.text))return c;var d=a.split(Wxh).filter(function(l){return!!l}),e=b.slice(0,c.lF).split(Wxh);a=d.join(" ");for(var f=e.length,h=0;0<f&&h<d.length;){for(var k=f-1;0<k&&!e[k];)k--;if(!e[k])break;h++;f=k}for(;f<e.length;){if(e[f]&&(d=e.slice(f),h=d.filter(function(l){return!!l}).join(" "),a.startsWith(h)))return a=d.reduce(function(l,n){return l+n.length},0)+d.length-1,a=c.lF-a,{text:b.slice(a,c.lF),HH:a,lF:c.lF};f++}return c}
var Rxh=new Set([" ","\t","\n"]),Txh=new Set(["@","+"]),Wxh=/[ ]/;var Xxh="-- about above after again against all also always am an and announce another any are aren't as ask at back be because been before being between both bugs but by call came can can't cannot cause com come core could couldn't did didn't discuss do does doesn't doing don't down during each eng especially even ever every few find for from get go goes got group had hadn't has hasn't have haven't having he he'd he'll he's her here here's hers herself him himself his how how's however i'd i'll i'm i've if in into is isn't it it'd it'll it's its itself just know last let let's lgtm like look made make makes many may me might most much must my myself near need never next no nor not now of off often on once one only or other our ours ourselves out over own part place put said same saw say says see seem seen set shall she she'd she'll she's should should shouldn't show side since so some still such take team tell than that that's the their theirs them themselves then there there's these they they'd they'll they're they've thing things this those though three through time to too try trying under until upon us use users using very want was wasn't way we we we'd we'll we're we've well went were weren't what what's when when's where where's whether which while who who'll who's who've whom why why's will with won't word would wouldn't www yet you you'd you'll you're you've your yours yourself yourselves &".split(" "),
Yxh=new sl(["everybody","nobody"]);function Zxh(a,b){this.J=b;this.D=a?/(^\S*@\S*)|(\S{5,})|(\S{2,4})/:/(^\S*@\S*)/;this.C=null}y(Zxh,A);Zxh.prototype.H=function(a,b,c,d){var e=this;this.C&&(this.C.cancel(),this.C=null);if(!this.F(a,b))return!1;b=Qxh(a,b);var f=$xh(this,b.text);a=Uxh(this.J,a,b,f.query,f.filter,c,"doco-contact-instant-mention-row-",2,function(h,k,l){k&&(e.C=null);h=h.filter(function(n){return"ct"==n.F});d(h,ayh,f.query.length,k,l)});this.C=a.Oj()?a:null;return!0};
Zxh.prototype.F=function(a,b){a=Qxh(a,b);return!this.D.test(a.text)||a.text.startsWith("@")||a.text.startsWith("+")||$c(Xxh,a.text.trim().toLowerCase())||Yxh.contains(a.text.trim().toLowerCase())?!1:!0};function $xh(a,b){a=b.match(a.D);return null===a?null:null!=a[1]?{query:a[1],filter:fe}:null!=a[2]?{query:a[2],filter:Mxh}:null!=a[3]?{query:a[3],filter:Kxh}:null}Zxh.prototype.getType=m(2);Zxh.prototype.Ja=function(){delete this.C};var ayh=new Dwd(!1);function byh(a){this.J=a;this.D=/^(?:[@]|[+](?!1))((?:\S* ?)*)/;this.C=null}y(byh,A);byh.prototype.H=function(a,b,c,d){var e=this;this.C&&(this.C.cancel(),this.C=null);if(!this.F(a,b))return!1;b=Sxh(a,b);var f=cyh(this,b.text);a=Uxh(this.J,a,b,f.query,f.filter,c,"doco-contact-plus-mention-row-",1,function(h,k,l){k&&(e.C=null);d(h,dyh,f.query.length,k,l)});this.C=a.Oj()?a:null;return!0};byh.prototype.F=function(a,b){a=Sxh(a,b);return this.D.test(a.text)};
function cyh(a,b){a=b.match(a.D);return null===a?null:null!=a[1]?{query:a[1],filter:fe}:null}byh.prototype.getType=m(1);byh.prototype.Ja=function(){delete this.C};var dyh=new Dwd(!0);var eyh=/\b[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]+\b/ig,fyh=/\B[@+][A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]+\b/ig;function gyh(a,b){a=b.match(a)||[];for(b=0;b<a.length;b++)a[b]=Cd(a[b]).replace(/^\W+/,"").toLowerCase();return a};function hyh(a){this.C=new wM(void 0,!0);this.D=null;this.F=!1;this.H={};this.J=a.get("contactStore");Pxh(this.J)}function iyh(a,b){var c=ouh(kuh(nuh(new j7,b).Uc(""),!1));a.C.set(b,c);a.J.C&&(a.H.hasOwnProperty(b)&&(a.H[b].cancel(),delete a.H[b]),a.H[b]=a.J.On(b,1,v(a.L,a,b)))}hyh.prototype.L=function(a,b){if(null!==b&&0<b.length&&OT(this.C,a)){b=b[0];var c=null;WY(mth(b))?c=(new dZ(mth(b))).setSize(96).Qx():c=mth(b)||null;b=ouh(luh(nuh(new j7,a).ld(b.getName()),c).Uc(""));this.C.set(a,b)}delete this.H[a]};
function jyh(a){return a.C.C.next.value||null}function kyh(a){return a.F?a.D:null};function lyh(a,b,c){Kn.call(this,c)}y(lyh,Kn);function myh(a){a=a.lJb;return S('<div class="'+T("docos-presenceindicator")+" "+T(a)+'">Someone is typing...</div>')};function nyh(a,b,c){b7.call(this,a,b);this.D=c}u(nyh,b7);nyh.prototype.Ca=function(){this.jb(Sx(myh,{lJb:this.D}))};nyh.prototype.Ia=function(){b7.prototype.Ia.call(this);this.setVisible(!1)};nyh.prototype.setVisible=function(a){this.getElement().style.display=a?"":"none"};function oyh(a,b,c,d){c=void 0===c?null:c;d=void 0===d?!1:d;b7.call(this,a,b);this.Oa=a;this.R=new Oz("",b);var e=this.C.Jj();this.R.LM=e;this.Ga(this.R);this.O=new Oz("",b);this.Ga(this.O);this.V=b.Yb().body;this.D=c;this.H=new hyh(this.Oa);this.Ea=this.Wa=null;this.xa=new Zwh(b,this.C,this.Oa,this.D);this.J=(this.yd="legacy"!=this.C.F)?new kS(b):new lS(!1,b);this.Za=!1;this.Ka=!d;c=kw.getInstance();this.Dc=lw(c);this.fc=lw(c);this.tc=lw(c);this.Kb=null;Ic(z(),"docs-edp")&&(this.Kb=new nyh(a,b,"focused-presenceindicator"));
this.Pb=0;this.Ba=null;this.Cb="Kommenttiluonnos";this.Ta=this.Lc=null;this.$a=!0;this.ma=!1;this.Bb=this.fb=this.L=this.Qa=this.Pa=null;this.Ha=!1}u(oyh,b7);p=oyh.prototype;p.Ca=function(){this.Ec(Sx(Qwh,{Jj:this.C.Jj(),IH:this.C.Ha},void 0,this.qa()))};
p.Ec=function(a){b7.prototype.Ec.call(this,a);a=this.getElement();var b=this.qa();this.setVisible(!0);this.F=b.bb("docos-input-textarea",a);this.Ka||P(this.F,this.Ka);var c=new fB;c.Va(this.F);this.va(c);this.Ta=b.bb("docos-input-at-reply-message",a);this.Ta.setAttribute("id",this.Dc);this.Pa=b.bb("docos-input-acl-fixer-message",a);this.Pa.setAttribute("id",this.fc);this.Qa=b.bb("docos-input-assignment-message",a);this.Qa.setAttribute("id",this.tc);this.Ea=b.bb("docos-input-assignment-panel",a);c=
this.xa;var d=this.Ea;c.J=d;Yy(c,new Ty(d,9));this.Wa=b.bb("docos-input-assignee-text",a);c=b.bb("docos-input-assignee-select",a);this.xa.Va(c);this.xa.Na(!0);if(c=b.bb("docos-input-assignment-box",a))this.J.Va(c),this.J.Md(this.Wa);c=pyh(this);if(0<c.length){d=!this.D||!this.D.Oo();var e;d?e=this.C.O:this.D&&(e=this.D.getElement());this.L=new rxh(this.C,this.F,c,new Gxh(this.C.$a),this.C.R||void 0,e||void 0,this.F||void 0,d);this.va(this.L)}if(e=b.bb("docos-input-cancel",a))this.O.Va(e),Sw(e,this.O.Pk());
(a=b.bb("docos-input-post",a))&&this.R.Va(a);this.Kb&&this.D.Oo()&&(a=this.qa().bb("docos-focusedpresenceindicator-container",this.getElement()),this.Kb.render(a))};function pyh(a){var b=[],c=new Xwh(f7(a.Oa),a.qa());c=mvh(a.C)?new Oxh(a.Oa.get("contactStore"),c):null;if(mvh(a.C)){var d=new byh(c);a.va(d);b.push(d)}d=nvh(a.C).map(function(e){return e.F()});ld(b,d);mvh(a.C)&&(c=new Zxh(a.C.Jg,c),a.va(c),b.push(c));return b}
p.Ia=function(){b7.prototype.Ia.call(this);gIe(this.getElement(),!1);this.fb=new Ixh(this.F,null,2048);this.va(this.fb);this.Bb=new eB(this.F);this.va(this.Bb);d7(d7(d7(d7(d7(d7(d7(d7(d7(d7(d7(d7(d7(this,this.Bb,"input",this.Sub),this.F,"keydown",this.FD),this.F,"keyup",this.qNb),this.F,"keypress",this.pNb),this.O,"action",this.oNb),this.R.getElement(),["click","keypress","keyup"],this.k_a),this.R,"action",this.ARa),this.Ea,"click",this.g1b),this.J,"change",this.i1b),this.J.ul(),"keypress",this.j1b),
this.Ea,["keyup","keypress"],this.h1b),this.xa,"action",this.f1b),this.F,"pointerdown",this.nNb);this.L&&(d7(this,this.L,"update",this.Llb),d7(this,this.L,"suggestionsupdate",this.g0a));this.F[qyh]=v(this.blur,this);this.F[ryh]=v(this.q2b,this);this.O.getElement()&&(d7(this,this.O.getElement(),["click","keypress","keyup"],this.k_a),this.O.Na(!0));if(this.D&&e7(this.D.ud())&&Nvh(this.D.ud())){var a=this.H,b=$6(e7(this.D.ud())).getEmail();b&&!OT(a.C,b)&&iyh(a,b);a.C.isEmpty();a=this.H;b=jyh(this.H);
$c(a.C.Gd(),b);a.D=b;a.F=!0;this.J.Zb(!0)}this.F.value=this.Ba||"";Pw(this.F,"label",this.Cb);this.Ha=!0;ovh(this.C)&&(Fo(this.getElement(),!0),Sw(this.getElement(),"T\u00e4m\u00e4 on sy\u00f6teruutu."))};p.nNb=function(a){ri&&vf(73)&&a.target.setPointerCapture(a.pointerId)};p.isVisible=function(){return"none"!=this.getElement().style.display};p.setVisible=function(a){this.getElement().style.display=a?"":"none";a||this.blur()};p.getValue=function(){return this.F?this.F.value:""};
p.setValue=function(a){this.F.value=a};p.isEmpty=function(){return Bd(this.getValue())};function D7(a){return!Bd(a.getValue())&&!a.Ha}p.re=da("Cb");p.reset=function(a){this.ma||this.isDisposed()||(this.F.value=this.Ba||"",Pw(this.F,"label",this.Cb),this.Ha=!0,mf?ip(this.HOa,0,this):this.HOa(),E7(this,a),this.F&&(this.F.style.height=""),a||syh(this),tyh(this,"none"))};
function tyh(a,b){if(a.Ta&&a.Pa&&a.Qa){P(a.Ta,"atReplyMessage"==b);P(a.Pa,"aclFixerMessage"==b);P(a.Qa,"assignmentMessage"==b);var c=a.J.getElement();if(null!=c){switch(b){case "atReplyMessage":var d=a.Dc;break;case "assignmentMessage":d=a.tc;break;case "aclFixerMessage":d=a.fc}null!=d?Pw(c,"describedby",d):Qw(c,"describedby")}}}p.ready=function(a,b,c){this.isDisposed()||(this.Ha&&(this.Lc=!b&&a||"",this.F.value=a||"",this.Ha=!1),ex(this.getElement(),"docos-input-typing"),c||this.focus(),E7(this))};
p.blur=function(){this.D&&this.dispatchEvent(new Kn("b",this.D))};p.focus=function(){mf||ip(this.zRa,0,this);this.zRa()};p.zRa=function(){this.isDisposed()||cw(this.F)&&this.F.focus()};p.HOa=function(){this.isDisposed()||gx(this.getElement(),"docos-input-typing")};
function E7(a,b){var c=Cd(a.getValue());c=!a.Ha&&c!=a.Lc;a.R.Na(!a.ma&&(!a.Ka||c&&!a.isEmpty()));a.g0a();var d=uyh(a),e=a.H.D,f=a.H.C.Gd().length;if(a.Ka){var h=a.H;var k=a.getValue(),l=d?$6(d):void 0;d=gyh(fyh,k);k=h.C;h.C=new wM(void 0,!0);for(var n=d.length-1;-1<n;n--){var q=d[n];OT(k,q)?h.C.set(q,k.get(q)):iyh(h,q)}l&&(l=cf(l.getEmail()),!Bd(l)&&h.C.remove(l));l=h.D?h.D.getEmail():null;n=(k=jyh(h))?k.getEmail():null;(h.F||l==n)&&l&&OT(h.C,l)||(h.D=k);h=!h.C.isEmpty()&&0<d.length}d=a.H.D;e!=d&&
vyh(a,!1);e=0==f&&h;f=a.C;gZ(f.C)&&Ri(gZ(f.C),31)&&e&&!a.ma&&Ri(f.C,33)&&!f.V&&!f.xa&&(e=f.ek,f=jyh(a.H)?jyh(a.H).getEmail():null,e&&f&&e([f]));e=h&&!a.Za&&a.D&&!a.D.ud().isResolved()&&a.Ka&&(a.D.tua()||!!yvh(a.D.ud()));Ri(a.C.C,38)&&(e?(a.J.Na(!a.ma),a.xa.Na(!a.ma),a.xa.update(a.H.C.Gd(),d),e=Vth(d,a.C,!!uyh(a)),f=a.xa.getElement(),Eo(a.Wa,e),Sw(f,e+". Valitse vastaanottaja."),ix(a.Wa,"docos-input-assignee-text-no-chevron",!cw(f)),P(a.Ea,!0),wyh(a,!0)):(vyh(a,!1),a.J.Na(!1),a.xa.reset(),P(a.Ea,!1),
wyh(a,!1)));a.ma&&mvh(a.C)&&!a.H.C.isEmpty()?tyh(a,"aclFixerMessage"):a.$a&&mvh(a.C)&&!a.H.C.isEmpty()?a.J.isChecked()?tyh(a,"assignmentMessage"):a.$a?tyh(a,"atReplyMessage"):tyh(a,"none"):tyh(a,"none");(e=kyh(a.H))&&a.D?(f=!!uyh(a),e=Vth(e,a.C,f),f=f?"M\u00e4\u00e4r\u00e4\u00e4 toiselle":"Anna teht\u00e4v\u00e4"):a.Za?(e="Tallenna muutokset",f="Tallenna"):!a.D||a.D.ud().tA()?(e="Lis\u00e4\u00e4 kommentti",f="Kommentoi"):a.D.ud().yW()?(e="M\u00e4\u00e4rit\u00e4 ehdotettu toimintokohde",f="Anna teht\u00e4v\u00e4"):
(e="Vastaa kommenttiin",f="Vastaa");a.R.getElement()&&c7(a.Oa).D.C(a.R.La(),e);Eo(a.R.getElement(),f);xyh(a);c?(yyh.contains(a)||(yyh.add(a),a.dispatchEvent(new lyh(a.D.getId(),1,"pr"))),ex(a.getElement(),"docos-input-nohide")):(zyh(a),gx(a.getElement(),"docos-input-nohide"));b||a.dispatchEvent("s")}function zyh(a){yyh.contains(a)&&(yyh.remove(a),a.dispatchEvent(new lyh(a.D.getId(),0,"pr")))}
p.g0a=function(){this.getElement().removeAttribute("aria-autocomplete");this.getElement().removeAttribute("aria-activedescendant");this.L&&this.L.cf()&&(this.getElement().setAttribute("aria-autocomplete","list"),CA(this.L)&&this.getElement().setAttribute("aria-activedescendant",Dxh(this.L)))};function wyh(a,b){if(b=b&&a.D)b=a.D,b=b.Oo()&&b.tc;b?(a.C.Dy||ee)("docosTodos",v(a.y3b,a)):(a.C.Lh||ee)("docosTodos")}p.y3b=function(){this.dispatchEvent("ph")};function vyh(a,b){a.J.Zb(b);a.H.F=b}
function uyh(a){return a.D&&!a.D.ud().tA()&&yvh(a.D.ud())?e7(a.D.ud()):null}p.k_a=function(a){(13==a.keyCode&&"keypress"==a.type||32==a.keyCode&&"keyup"==a.type||"click"==a.type)&&a.stopPropagation()};p.oNb=function(){this.dispatchEvent("c");this.reset()};p.ARa=function(){if(this.R.isEnabled()){var a=this.H.C.Qe(),b=this.C;if(Ri(b.C,33)&&!b.V&&!b.xa&&!ad(a)&&(b=this.C.Fl)){tyh(this,"aclFixerMessage");this.ma=!0;E7(this);this.O.getElement()&&this.O.Na(!1);b(a,v(this.vkb,this));return}Ayh(this)}};
p.g1b=function(){this.ma||(vyh(this,!this.J.isChecked()),E7(this))};p.i1b=function(){var a=this.J.isChecked();this.H.F=a;E7(this)};p.j1b=function(a){13==a.keyCode&&(a.stopPropagation(),a=this.J,a.Zb(a.BC?!1:!0),this.J.dispatchEvent("change"),this.R.focus())};p.h1b=function(a){a.stopPropagation()};p.f1b=function(){this.J.Zb(!0);var a=this.H,b=$wh(this.xa);$c(a.C.Gd(),b);a.D=b;a.F=!0;E7(this)};
p.vkb=function(a){this.ma&&(this.ma=!1,"continue"==a?Ayh(this):tyh(this,"atReplyMessage"),this.D.getContext()&&(E7(this),this.O.getElement()&&this.O.Na(!0)))};function Ayh(a){mf&&a.D&&a.D.ud().tA()&&Hf(a.fb);a.dispatchEvent("p");a.reset()}p.q2b=function(){this.ready(void 0,void 0,!0);this.D&&this.dispatchEvent(new Kn("f",this.D))};function xyh(a){if(!a.F)return!1;var b=a.F.clientHeight,c=a.F.scrollHeight,d=$v(a.F).height;return b!=c&&0<d?(Zv(a.F,d+c-b),!0):!1}
p.FD=function(a){xyh(this)&&this.dispatchEvent("s");this.Pb=a.keyCode;if(13==a.keyCode)Byh?a.metaKey&&sf&&ri&&Cyh(this,a):Cyh(this,a);else if(27==a.keyCode){pf&&a.preventDefault();if(this.L&&this.L.cf())return;this.isEmpty()&&this.reset();this.D&&this.dispatchEvent(new Kn("e",this.D));syh(this)}a.stopPropagation()};
p.qNb=function(a){xyh(this)&&this.dispatchEvent("s");var b=this.Pb;this.Pb=a.keyCode;if(13==a.keyCode&&a.ctrlKey){if(229==b)return;if(!this.Vc){xd(this.getValue(),"\n")?this.FD(a):a.preventDefault();return}this.Vc=!1}a.stopPropagation()};p.pNb=function(a){if(13==a.keyCode&&Byh)Cyh(this,a);else if(27==a.keyCode){if(this.L&&this.L.cf())return;this.blur();syh(this)}a.stopPropagation()};function Cyh(a,b){if(b.ctrlKey||b.metaKey)a.Vc=!0,a.R.getElement().focus(),a.ARa()}
function syh(a){a.V&&(mf&&!vf("9")?a.V.focus():ip(function(){return a.V.focus()}))}p.Sub=function(){E7(this)};p.Llb=function(){E7(this)};p.Ja=function(){b7.prototype.Ja.call(this);zyh(this);this.F&&(this.F[qyh]=null,this.F[ryh]=null);delete this.F;delete this.fb;delete this.Bb};var yyh=new sl,qyh=mf?"onfocusout":"onblur",ryh=mf?"onfocusin":"onfocus",Byh=sf||lf||pf;qf&&vf("530");function Dyh(a,b,c,d,e,f,h){d=void 0===d?0:d;Swh.call(this,a,b);this.Cm=c||null;this.Xo=d;this.C=e||null;this.t_=h}u(Dyh,Swh);function Eyh(a){this.C=c7(a)};function Fyh(a,b){b.yW()?a.V+=1:b.tA()?a.D+=1:b.isTodo()?b.isResolved()?a.R+=1:a.J+=1:b.Zj()?(b=Ovh(b),2==b?a.C+=1:3==b?a.L+=1:a.H+=1):b.isResolved()?a.O+=1:a.F+=1};function Gyh(a,b,c,d,e){this.Aj=a;this.C=b||null;this.Cm=c||null;this.Xo=d||null;this.flags=e||null};function Hyh(a,b,c,d){Kn.call(this,b,a);this.source=c;this.C=d}u(Hyh,Kn);function Iyh(a,b){this.F=a;this.D=b;this.C=[]}function Jyh(a){return new Hyh(a.F,"bu",a.D,a.C)};function Kyh(){this.D={};this.C={};this.F=0}function Lyh(a,b,c){return a.C[b]?a.C[b][c||"$"]||null:null}function Myh(a,b,c,d){a.C[c]||(a.C[c]={});a.D[b]=new Nyh(c,d);a.C[c][d||"$"]=b}Kyh.prototype.bind=function(a,b){if(null!==Lyh(this,a,b))return!1;this.F++;Myh(this,this.F,a,b);return!0};function Oyh(a,b,c){var d=Lyh(a,b,c);null!==d&&(delete a.D[d],delete a.C[b][c||"$"])}function Pyh(a,b,c,d,e){var f=Lyh(a,b,c);if(null===f||null!==Lyh(a,d,e))return!1;Oyh(a,b,c||void 0);Myh(a,f,d,e);return!0}
function Qyh(a,b,c){return Lyh(a,b,c)||0}Kyh.prototype.getDocoHandles=function(){for(var a=Od(this.C),b=[],c=0;c<a.length;c++){var d=this.C[a[c]].$;d&&b.push(d)}return b};function Nyh(a,b){this.C=a;this.D=b||null};function Ryh(){this.D={}}Ryh.prototype.C=function(a){Nvh(a)||(this.H(a),a.cQ()&&(this.D[a.getId()]=!0))};Ryh.prototype.H=function(a){delete this.D[t7(a)];delete this.D[a.getId()]};Ryh.prototype.F=function(){return!Td(this.D)};function Syh(a){this.J=a;this.D=new Ryh}Syh.prototype.C=function(a){this.D.C(a);a=this.J.Mh;if(this.F()&&a&&a())throw Error("Cant have dirty docos pending for write if the write is restricted by the client");};Syh.prototype.H=function(a){this.D.H(a)};Syh.prototype.F=function(){return this.D.F()};function Tyh(a){Wn.call(this);this.Ba=a;this.C={};this.O=null;this.F={};this.H=[];this.Ha=[];this.Ea={};this.L={};this.D=new Kyh;this.Ka=[];this.V=!1;this.ma=this.J=null;this.Oa=!1;this.xa=new Syh(this.Ba)}y(Tyh,Wn);function Uyh(a,b){a.Zj();var c="<i>Teki ehdotuksen</i>";(a=a.L1())&&(b=b.Yu)&&(b=b(a).C())&&(c=b);return c}function Vyh(a,b){return"n"!=b&&!Nvh(a)&&a.cQ()}
function Wyh(a,b,c,d,e,f,h){var k=!1;h||(k=!0,h=new Iyh(a,b));b=d.getId();c=c!=d.getId()?c:void 0;d=u7(d);h.C.push(new Gyh(b,c,d,e,f));k&&a.dispatchEvent(Jyh(h))}
function z7(a,b,c,d){c=c||"c";var e=Xyh(a),f=Yyh(a,b.getId(),K(S6(b.C),11)||"");if(f){var h=f.getId(),k=l7(f.C);b=b.C;var l=kj(f.F);S6(b);var n=S6(b),q=b.getId(),r=null!=q?q:f.getId();q=void 0!==K(n,13)&&0!=K(n,13)&&!l7(f.C);for(var w=(void 0===K(n,13)||0==K(n,13))&&l7(f.C),x=R6(n),B=!1,L=0;L<x.length;L++){var X=x[L],V=f.D[X.getId()||""]||f.D[K(X,11)||""];B=!1;V||(V=f.J[X.getId()||""]||f.J[K(X,11)||""],B=!!V);if(V){var ca=V.getId();V.update(X);if(ca!=V.getId()&&(delete f.D[ca],f.D[V.getId()]=V,Qyh(f.O,
r,ca)&&!Pyh(f.O,r,ca,r,V.getId())))throw Error("Error updating ID from "+r+", "+ca+" to "+r+", "+V.getId());l7(V)?(delete f.D[V.getId()],f.J[V.getId()]=V,Oyh(f.O,r,V.getId())):B&&!l7(V)&&(delete f.J[V.getId()],f.D[V.getId()]=V,f.O.bind(r,V.getId()))}else V=new Kuh(X),l7(V)?(f.J[V.getId()]=V,Oyh(f.O,r,V.getId())):(f.D[V.getId()]=V,delete f.J[V.getId()],f.O.bind(r,V.getId())),V=R6(S6(f.F)),V.push(X),X=S6(f.F),ej(X,8,V)}r=0;void 0!==Ri(b,6)&&Ri(b,6)!=f.isResolved()&&(r=Ri(b,6)?r|2:r|4);q&&!B?r|=16:w&&
(r|=8);ej(n,8,[]);q&&(n.setContent(void 0),cj(n,4,void 0),cj(n,9,void 0));fuh(f.F,b);f.C.update(n);f.L=null;f.V=null;f.H=void 0;f.gQ=null;hj(f.F,l)||(r|=1);b=r;a.xa.C(f);Zyh(a,f);if(h!=f.getId()&&(delete a.C[h],delete a.F[h],l=Qyh(a.D,h),delete a.Ea[l],a.C[f.getId()]=f,l&&!Pyh(a.D,h,null,f.getId(),null)))throw Error("Error updating ID from "+h+" to "+f.getId());l=Qyh(a.D,f.getId());l7(f.C)?(delete a.C[f.getId()],Oyh(a.D,f.getId()),a.F[f.getId()]=f,l&&(a.Ea[l]=f),Vyh(f,c)&&(cd(a.H,f.getId()),cd(a.Ha,
f.getId())),d=Vvh(Uvh("dd"),c),k=f.getId(),d.D=k,k=u7(f),d.Hq=k,d.C=l,d=Wvh(d,b),h!=f.getId()&&(d.F=h),a.dispatchEvent(Yvh(d))):(k&&(delete a.F[f.getId()],delete a.Ea[l],a.C[f.getId()]=f,(a.Ba.Ka||u7(f))&&a.D.bind(f.getId()),l=Qyh(a.D,f.getId())),0!=b&&(Vyh(f,c)&&cd(a.H,f.getId()),Wyh(a,c,h,f,l,b,d)))}else f=new Kvh(b.C,a.D,b.rs?b.rs:void 0),a.xa.C(f),l7(f.C)?a.F[f.getId()]=f:$yh(a,f,c,d);Xyh(a)!=e&&(e=Xyh(a)?32:0,c=Yvh(Wvh(Vvh(Uvh("p"),c),e)),a.dispatchEvent(c))}
function kwh(a,b,c){for(var d=new Iyh(a,c),e=0;e<b.length;e++)z7(a,b[e],c,d);a.dispatchEvent(Jyh(d))}function bwh(a,b){b.getNewDocoType()||Rvh(b,"draft");b=new Kvh(b.C,a.D,b.rs?b.rs:void 0);a.xa.C(b);$yh(a,b)}
function $yh(a,b,c,d){if(Ri(a.Ba.C,38)||!b.isTodo()){c=c||"c";var e=null;b.Ry()&&(e=azh(a,u7(b)));e&&Nvh(e)?(Pyh(a.D,e.getId(),null,b.getId(),null),fwh(a,e.getId(),c)):(a.Ba.Ka||b.Ry())&&a.D.bind(b.getId());a.C[b.getId()]=b;Zyh(a,b);e=8|(b.isResolved()?2:0);Vyh(b,c)&&cd(a.H,b.getId());var f=Qyh(a.D,b.getId());Wyh(a,c,void 0,b,f,e,d)}}
function fwh(a,b,c){c=c||"c";var d=a.C[b];if(d){if(d.Ry()){var e=u7(d);delete a.L[u7(d)]}a.xa.H(d);d=Qyh(a.D,b);delete a.C[b];Oyh(a.D,b);c=Vvh(Uvh("dd"),c);c.D=b;c.C=d;b=Wvh(c,16);void 0!=e&&(b.Hq=e);a.dispatchEvent(Yvh(b))}}function F7(a,b){var c=null;b&&(c=a.ud(b));a.O=c}function owh(a,b){b=b.getId();return $c(a.Ka,x7(a,b))}Tyh.prototype.R=function(a){return(this.Ba.Ka||a.Ry())&&(!a.isResolved()||this.V)};function bzh(a){var b=Yd(a.C);$d(b,a.F);return b}
function czh(a){var b=new tth;a=Nd(bzh(a));for(var c=0;c<a.length;c++)Fyh(b,a[c]);return uth(b)}function dzh(a){function b(d){return d.cQ()}var c=Sc(Nd(a.C),b);a=Sc(Nd(a.F),b);return c.concat(a)}function Xyh(a){return a.Oa?a.xa.F():!1}function ezh(a){for(var b=0;b<a.H.length;b++){var c=a.H[b],d=a.ud(c);d||(d=a.F[c]);if(d&&d.cQ())return!0}return!1}Tyh.prototype.ud=function(a){return this.C[a]};function Yyh(a,b,c){return a.C[b]||a.F[b]||a.C[c]||a.F[c]||null}
function Zyh(a,b){u7(b)&&(l7(b.C)?delete a.L[u7(b)]:a.L[u7(b)]=b)}function azh(a,b){var c=a.L[b]||null;return c&&u7(c)!=b?(delete a.L[b],null):c}function A7(a,b,c){b=a.D.D[b]||null;if(!b)return null;if(!c&&b.D)throw Error("Handle references reply, expected doco.");return a.C[b.C]||null}function jwh(a,b){b=a.D.D[b]||null;if(!b)return null;a=a.C[b.C];return a?(b=b.D)?p7(a,b):null:null}Tyh.prototype.getDocoHandles=function(){return this.D.getDocoHandles()};function x7(a,b,c){return Qyh(a.D,b,c)}
Tyh.prototype.flush=function(a){this.dispatchEvent(Yvh(Xvh(Vvh(Uvh("f"),"c"),!!a)));this.dispatchEvent(Yvh(Vvh(Uvh("af"),"c")))};function fzh(a,b){a=a.ma;if(!a)return null;b=b.Cc(a.getKey());if(!b)return null;a=b.bb("docos-selected-find-match");if(!a)return null;a=a.getBoundingClientRect();b=a.top-b.getElement().getBoundingClientRect().top;return new om(b,b+a.height)}function gzh(a,b){return(a=hzh(a,b))?new hZ(a.getKey().getId(),a.getValue()):null}
function hzh(a,b){var c=a.J;if(!c)return null;var d=a.ma;if(!d)return null;var e=d.getKey();e=Yd(a.C)[e];if(!e)return null;d=d.getValue();a=0;e=Lvh(e,!0);for(var f=0;f<e.length;f++){var h=e[f],k=a+izh(h,c,b);if(k>d)return new hZ(h,d-a);a=k}return null}function jzh(a,b,c,d){for(var e=0;e<a.length;e++){var f=a[e],h=b.slice(f.start,f.end);d&&"<"!=b[f.start]&&(h=Up('<span class="%s">%s</span>',d,h));c+=h}return c}
function izh(a,b,c){a=kzh(a,c);if(!a)return 0;a=ro(a).textContent.toLowerCase();return Vga(a,b.toLowerCase())}function kzh(a,b){var c=a.rea();if(!c){var d=lzh();a.Zj()?c=QM(d,Uyh(a,b)):a.getContent()?c=QM(d,a.getContent()):c=null}return c}function lzh(){var a=Cgc();a.F=fe;return new wgc(a)};function mzh(a,b){this.C=a;this.D=b};function nzh(a,b,c){this.C=a;this.D=b;this.F=c};function ozh(a,b,c,d){b7.call(this,a,c);this.L=b;this.O=d||null;this.R=a;this.D=new Oz(null);this.F=this.J=this.H=null;this.va(this.D)}u(ozh,b7);p=ozh.prototype;p.Ec=function(a){b7.prototype.Ec.call(this,a);this.H=this.qa().bb("like-button-text",a);this.J=this.qa().bb("docos-icon",a);this.F=this.qa().bb("docos-icon-img",a);this.D.Va(this.getElement())};p.Ia=function(){d7(this,this.D,"action",this.bNb);d7(this,this.getElement(),["click","keypress","keyup"],this.aNb);this.update()};p.xRa=da("L");
p.aNb=function(a){a.stopPropagation()};function pzh(a){var b=g7(a.R).ud(a.L);return null!=a.O?p7(b,a.O):b}p.bNb=function(a){a.stopPropagation();a=i7(this.R);var b=pzh(this).Qy();b=!b||1!=k7(b);null!=this.O?a.tf("docos-vote-reply").wb(new nzh(this.L,b,this.O)):a.tf("docos-vote-doco").wb(new mzh(this.L,b))};
p.update=function(){var a=pzh(this).Qy(),b=!a||0==uuh(a,1).length&&1!=k7(a);gx(this.H,"no-votes");!b||ex(this.H,"no-votes");hx(this.J,["current-user-has-up-vote","post-has-votes-no-current-user-vote"]);hx(this.F,["docos-icon-thumb-black","docos-icon-thumb-green"]);b?ex(this.F,"docos-icon-thumb-black"):1==k7(a)?(ex(this.J,"current-user-has-up-vote"),ex(this.F,"docos-icon-thumb-green")):0<uuh(a,1).length&&(ex(this.J,"post-has-votes-no-current-user-vote"),ex(this.F,"docos-icon-thumb-black"));var c=0;
a&&(c=uuh(a,1),b=k7(a),c=c.length,1==b&&c++);Eo(this.H,String(c));this.D.setValue(this.H);b="Tykk\u00e4\u00e4 t\u00e4st\u00e4";if(a&&((c=1==k7(a))&&(b="\u00c4l\u00e4 tykk\u00e4\u00e4 t\u00e4st\u00e4"),a=uuh(a,1),0<a.length))for(b=df(b,"\n"),c&&(b=df(b,"\n","Sin\u00e4")),c=0;c<a.length;c++)b=df(b,"\n",a7(juh(N(a[c].C,eZ,1))));this.D.getElement()&&c7(this.R).D.C(this.D.La(),b)};function qzh(a,b,c){b=c||b;a='<div id="docos-shadow-wrapper" style="display: none"><div id="docos-shadow"><div id="docos-shadow-contents-wrapper" role="dialog" aria-labelledby="docos-shadow-description"><table class="'+T("docos-shadow-table")+'"><tr align="center" valign="top"><td><table><tr align="center" class="'+T("docos-shadow-prompt")+'"><td class="'+T("docos-shadow-contents")+'"><div id="docos-shadow-description"></div></td></tr><tr align="center"><td class="'+T("docos-shadow-contents")+'">';
a+=R(Nz({id:"docos-shadow-confirm",content:Aw("Poista")},b));a+=R(Nz({id:"docos-shadow-cancel",content:Aw("Peruuta")},b));return S(a+"</td></tr></table></td></tr></table></div></div></div>")};function rzh(a,b){b7.call(this,a,b);this.D=this.J=this.L=this.V=this.Ba=this.R=this.Ud=null;this.H=new Oz(null,b);this.Ga(this.H);this.F=new Oz(null,b);this.Ga(this.F);this.zg=this.O=null;this.ma=!1;this.xa=new Fz(this);this.va(this.xa);a=i7(a);this.xa.Nb(a.Ra("docos-highlight-doco"),zs,this.F_)}y(rzh,b7);var szh=null;function tzh(a,b){szh||(szh=new rzh(a,b),szh.render());return szh}var uzh={"delete-discussion":"Poistetaanko t\u00e4m\u00e4 kommenttiketju?","delete-reply":"Poistetaanko t\u00e4m\u00e4 kommentti?"};
p=rzh.prototype;p.Ca=function(){this.jb(Sx(qzh,{},void 0,this.qa()))};
p.Ia=function(){rzh.Ua.Ia.call(this);if(!this.ma){var a=this.qa();this.D=a.getElement("docos-shadow");this.L=a.getElement("docos-shadow-description");this.H.Va(a.getElement("docos-shadow-cancel"));this.H.Na(!0);this.F.Va(a.getElement("docos-shadow-confirm"));this.F.Na(!0);this.O=new tB(a.getElement("docos-shadow-contents-wrapper"),a);this.va(this.O);uB(this.O);this.zg=new ox(a.Yb());this.va(this.zg);this.ma=!0}d7(d7(d7(d7(this,this.H,"action",this.qab),this.F,"action",this.rab),this.getElement(),
["keyup","keydown"],this.sab),this.zg,"focusin",this.sx)};p.prompt=function(a,b,c,d,e,f){this.Gb()&&this.vd();if(c!=this.V){var h=uzh[c];h&&this.qa().Je(this.L,h);this.V=c}this.Ud=b;this.R=a;this.J=e||null;b=$v(a);Xv(this.D,b);b=Nv(a,"paddingLeft");c=Nv(a,"paddingTop");this.D.style.marginLeft="-"+b;this.D.style.marginTop="-"+c;a.firstChild?mw(this,a.firstChild):this.render(a);P(this.getElement(),!0);P(this.L,!f);this.F.focus();d&&(this.Ba=d.getId(),this.getHandler().listen(d,"rd",this.uab))};
p.vd=function(){rzh.Ua.vd.call(this);this.J=this.R=this.Ud=null};p.F_=function(){Xv(this.D,"","");this.D.style.marginLeft="";this.D.style.marginTop="";this.J&&this.J.focus();vo(this.getElement());this.Gb()&&this.vd()};p.rab=function(){this.Ud&&this.Ud();this.F_()};p.sab=function(a){27==a.keyCode&&(a.stopPropagation(),"keyup"==a.type&&this.F_())};p.qab=function(){this.F_()};p.uab=function(a){a.target&&a.target.getId()==this.Ba&&this.R&&P(this.getElement(),!0)};
p.sx=function(a){a=a.target;Co(this.getElement(),a)||this.F_()};function vzh(a,b){return 1==b&&!a.F&&!a.getId()};function wzh(a,b,c,d){b7.call(this,a,c);this.H=b;this.J=d||null;this.L=a;this.D=new Oz(null);this.F=null;this.va(this.D)}u(wzh,b7);p=wzh.prototype;p.Ec=function(a){b7.prototype.Ec.call(this,a);this.F=this.qa().bb("vote-button-text",a);this.D.Va(this.getElement())};p.Ia=function(){d7(this,this.D,"action",this.kNb);d7(this,this.getElement(),["click","keypress","keyup"],this.jNb);this.update()};p.xRa=da("H");p.jNb=function(a){a.stopPropagation()};
function xzh(a){var b=g7(a.L).ud(a.H);return null!=a.J?p7(b,a.J):b}p.kNb=function(a){a.stopPropagation();a=i7(this.L);var b=xzh(this).Qy();b=!b||1!=k7(b);null!=this.J?a.tf("docos-vote-reply").wb(new nzh(this.H,b,this.J)):a.tf("docos-vote-doco").wb(new mzh(this.H,b))};
p.update=function(){var a=xzh(this).Qy();hx(this.F,["current-user-has-up-vote","post-has-votes-no-current-user-vote"]);a&&(1==k7(a)?ex(this.F,"current-user-has-up-vote"):0<uuh(a,1).length&&ex(this.F,"post-has-votes-no-current-user-vote"));var b="+1";if(a){var c=uuh(a,1);b=k7(a);c=c.length;1==b&&c++;b=0<c?"+"+c:"+1"}Eo(this.F,b);this.D.setValue(this.F);b="Anna kommentille +1";if(a&&((c=1==k7(a))&&(b="Poista antamasi +1"),a=uuh(a,1),0<a.length))for(b=df(b,"\n"),c&&(b=df(b,"\n","Sin\u00e4")),c=0;c<a.length;c++)b=
df(b,"\n",a7(juh(N(a[c].C,eZ,1))));this.D.getElement()&&c7(this.L).D.C(this.D.La(),b)};function yzh(a,b,c,d,e,f,h){b7.call(this,a,d);this.F=a;this.Bb=c7(this.F).R;this.Qf=new Eyh(a);this.O=b;this.H=e;this.Jg=h||"";this.ge=v(this.cNb,this);this.D=null;this.Uc(f||"root");this.Pa=c;this.Kb=!0;this.Wa=2;this.Sd=!1;this.He=this.F.get("relativeDateFormatter");this.Lc=this.Qa=this.Ea=this.Oa=this.Pd=this.Ta=this.Za=this.$a=this.yd=this.tc=this.Vc=this.fc=this.xa=this.zf=this.Pb=this.Cb=this.Ba=this.Xe=this.R=this.L=this.J=this.V=this.ma=this.Ka=this.Dc=this.Ha=null;this.fb=new wgc(Bgc(["data-rawHref"]));
d7(this,this.He,"oj",v(this.gRa,this,!0))}u(yzh,b7);p=yzh.prototype;p.ud=function(){return g7(this.F).ud(this.O)};function zzh(a){return p7(a.ud(),a.getId())}function G7(a){return H7(a)?a.ud():zzh(a)}
p.Ca=function(){var a=this.qa(),b=G7(this),c=b.Lv(),d=Azh(this),e=Bzh(this);if(H7(this)&&Muh(this.ud().C)){var f=Cd(Muh(this.ud().C));f=f.replace(Czh,"<br>").replace(Dzh," ");f=QM(this.fb,f)}else f=null;var h=f;f="legacy"!=this.C.F;b=Sx(Mwh,{author:c.getName(),sL:this.C.ma?c.getId():null,Vka:e||"",Ce:this.Jg,Oo:this.Pa,kla:Ezh(this),Tl:I7(this),fta:d,xA:H7(this),Zj:b.Zj(),r6b:h?h:"",wwa:Fzh(this),dI:Gzh(this),pW:!!G7(this).HA(),Jj:this.C.Jj(),qda:this.C.qda(),Wsa:this.C.Wsa(),timestamp:Hzh(this),
b$a:"//ssl.gstatic.com/s2/profiles/images/silhouette96.png",Cn:f},void 0,a);this.jb(b);d=a.bb("docos-accept-suggestion",b);h=a.bb("docos-reject-suggestion",b);this.fc=a.bb("docos-body-action-text",b);this.tc=a.bb("docos-anchoredreplyview-buttonholder",b);this.Oa=a.bb("docos-author",b);if(d&&h){this.ma=new Oz(null,a);var k=this.C.Jj();this.ma.LM=k;this.va(this.ma);this.V=new Oz(null,a);this.va(this.V);this.ma.Va(d);this.V.Va(h)}if(k=a.bb("docos-replyview-resolve-button",b)){this.J=new Oz(null,a);var l=
this.C.Jj();this.J.LM=l;this.va(this.J);this.J.Va(k)}(k||d&&h)&&Izh(this);d=this.qa();h=d.bb("docos-vote-button",b);k=d.bb("docos-like-button",b);if(h||k)h?(this.R=new wzh(this.F,this.O,d,H7(this)?void 0:this.getId()),this.Ga(this.R),this.R.Va(h)):k&&(this.R=new ozh(this.F,this.O,d,H7(this)?void 0:this.getId()),this.Ga(this.R),this.R.Va(k));d=a.bb("docos-overflowmenu-outer",b);(I7(this)||Ezh(this)||H7(this))&&d&&(f=Sx(Lwh,{lh:"docos-icon-overflow-three-dots",rA:"docos-icon-overflow-three-dots-size",
fQ:f}),a.appendChild(d,f),Lv(d,"visibility",""),f=[],I7(this)&&(f=f.concat(["edit"])),Ezh(this)&&(f=f.concat(["delete"])),H7(this)&&(this.C.Lc&&(f=f.concat(["link"])),f=f.concat(["reanchor"])),this.L=new pvh(this.F,this.O,a,"docos-overflowmenu",f,this.getId()),this.Ga(this.L),this.L.Va(d));this.Ha=a.bb("docos-replyview-body",b);this.Xe=a.bb("docos-streamreplyview-text",b)||this.Ha;this.Ba=a.bb("docos-collapsible-replyview",b);this.Cb=a.bb("docos-replyview-timestamp",b);H7(this)&&Muh(this.ud().C)&&
(this.xa=a.bb("docos-replyview-quote",b),this.$a=a.bb("docos-replyview-quote-expand",b),this.Ta=a.bb("docos-replyview-quote-collapse",b));(this.Pb=a.bb("docos-show-less",b))&&Jzh(this);this.zf=a.bb("docos-show-more",b);this.Pd=a.Ph("docos-replyview-static",b);I7(this)&&this.D&&Kzh(this);(I7(this)||Ezh(this))&&(this.Za=a.bb("docos-replyview-control",b))&&P(this.Za,!this.ud().isResolved());this.Ea=fW(a,"IMG","docos-replyview-avatar",b);if(f=a.bb("docos-user-presence",b))d=this.C,c=(h=d.zd)&&c.getId()?
h(c.getId()):(d=d.RD)?d(c.getName()||""):null,c&&(f.style.backgroundColor=c);this.Qa=a.bb("docos-replyview-origin",b);Lzh(this);e&&(this.Ka=e,Mzh(this,Be(e)),Nzh(this),Ozh(this));Pzh(this)};
function Pzh(a){if(ovh(a.C)){var b={AUTHOR_NAME:G7(a).Lv().getName(),CREATION_TIME:Hzh(a)};if(a.Ha.textContent)if(Gzh(a)){var c="Tekij\u00e4 {AUTHOR_NAME}. Luotu {CREATION_TIME}. {BODY_TEXT}. {ACTION_TEXT}.";b.BODY_TEXT=a.Ha.textContent;b.ACTION_TEXT=Gzh(a)}else c="Tekij\u00e4 {AUTHOR_NAME}. Luotu {CREATION_TIME}. {BODY_TEXT}.",b.BODY_TEXT=a.Ha.textContent;else c="Tekij\u00e4 {AUTHOR_NAME}. Luotu {CREATION_TIME}. {ACTION_TEXT}.",b.ACTION_TEXT=Gzh(a);c=(new uA(c)).format(b);Sw(a.getElement(),c)}}
function Qzh(a){var b=a.ud();if(b)if(b.isResolved()){if(a.H.mya(!1),b=a.ud())b.Zj(),Rzh(a,!1,euh(a.H))}else a.dispatchEvent("br"),a.H.mya(!1),(b=a.ud())&&(b.Zj()?Szh(a):Rzh(a,!0,euh(a.H))),a.dispatchEvent("ar")}function Tzh(a){a.D||(a.D=new oyh(a.F,a.qa(),a.H),a.va(a.D),a.Ga(a.D),a.D.Ba="Muokkaa kommenttiasi...",a.D.$a=!1,d7(d7(d7(a,a.D,"p",a.gac),a.D,"c",a.XDa),a.D,"s",a.dNb),a.getElement()&&Kzh(a))}
function Kzh(a){var b=a.qa(),c="docos-replyview-edit-pane",d="",e="",f="";a.Pa?(c+=" docos-anchoredreplyview-edit-pane",d="docos-noclick"):H7(a)?(c+=" docos-streamdocoview-edit-pane",e="Hylk\u00e4\u00e4 muutokset",f=Gzh(a)):(c+=" docos-streamreplyview-edit-pane",e="Hylk\u00e4\u00e4 muutokset");d=Sx(Qwh,{Ce:c,dHa:d,rla:e,dI:f,Jj:a.C.Jj(),IH:a.C.Ha});c=a.getElement();e=b.bb("docos-edit-pane-placeholder",c);b.sB(d,e);a.D.Va(d);a.D.setVisible(!1);d=a.H.getElement();a.D.V=d;a.Vc=b.bb("docos-edit-pane-action-text",
c)}p.O3b=function(a){a&&a.stopPropagation();Qzh(this)};
p.Ia=function(){b7.prototype.Ia.call(this);d7(this,this.getElement(),["click","keypress","keyup"],this.eNb);this.xa&&(d7(d7(this,this.Ta,"click",this.L_a),this.$a,"click",this.L_a),Uzh(this));this.J&&d7(this,this.J,"action",this.O3b);this.ma&&this.V&&d7(d7(d7(this,this.ma,"action",this.X0b),this.V,"action",this.N3b),this.C,"r",this.fNb);this.L&&d7(d7(d7(this,this.L,"d",this.L1b),this.L,"e",this.gNb),this.L,"ra",this.F3b);var a=G7(this).Lv();Vzh(this,a);this.Oa&&Wzh(this,a);Xzh(this,a);this.D&&(a=
this.H.getElement(),this.D.V=a);this.collapse();ovh(this.C)&&Fo(this.getElement(),!0)};p.fNb=function(){Izh(this)};
function Izh(a){var b=a.ud();if(b){var c=G7(a);if(c){var d=c.Zj();if(!d||a.ma&&a.V)if(d||a.J){if(d){if(!c.vG())return;d=a.C.H;d=c.Zj()&&"full"==d.C&&owh(g7(a.F),b)&&!a.C.xa;var e=a.C.H;b=c.Zj()&&(Xuh(e,c)||"full"==e.C)&&owh(g7(a.F),b)&&!a.C.xa;c=d||b;e=d?"Hyv\u00e4ksy ehdotus":"Vain muokkaajat voivat hyv\u00e4ksy\u00e4 ehdotuksia";var f=b?"Hylk\u00e4\u00e4 ehdotus":"Vain muokkaajat voivat hyl\u00e4t\u00e4 ehdotuksia";a.ma.getElement()&&c7(a.F).D.C(a.ma.getElement(),e);a.V.getElement()&&c7(a.F).D.C(a.V.getElement(),
f);a.ma.Na(d);a.V.Na(b)}else yvh(b)?(c=!0,a.J.Na(!1),P(a.J.getElement(),!1)):(c=Azh(a),a.J.Na(c),d=b.isResolved()?"Avaa uudelleen":"Ratkaise",b=b.isResolved()?"Merkitse avoimeksi":g7(a.F).V?"Merkitse ratkaistuksi":"Merkitse ratkaistuksi ja piilota keskustelu",a.C.qda()||Eo(a.J.getElement(),d),a.J&&a.J.getElement()&&c7(a.F).D.C(a.J.La(),b));!a.tc||null!==a.yd&&a.yd==c||(P(a.tc,c),a.yd=c)}}}}
function Yzh(a){var b=X6(W6(V6(a.H.getId()),a.H.Za)),c=i7(a.F);c.tf("docos-before-highlight-doco").wb(b);F7(g7(a.F),a.H.getId());c.tf("docos-highlight-doco").wb(b)}p.gNb=function(){Yzh(this);Zzh(this)};p.L1b=function(){Yzh(this);H7(this)?this.H.BZa():$zh(this)};p.F3b=function(a){Yzh(this);this.dispatchEvent(new Swh("ra",this.O));a.stopPropagation()};
function Vzh(a,b){var c=b.C,d=f7(a.F);a.Ea&&vzh(b,G7(a).getOrigin())&&(c=Awh(d),ex(a.Ea,"docos-avatar-unverified"),a.C.D.C(a.Ea,"Kirjoittaja tuodusta dokumentista"));buh(d,a.Ea,c,a7(b))}function Wzh(a,b){(b=b.getName())?(b=QM(a.fb,b),Je(a.Oa,b)):(b=QM(a.fb,""),Je(a.Oa,b))}function Xzh(a,b){(b=b.getName())&&!a.C.ma&&(a.Oa&&a.C.D.C(a.Oa,b),a.Ea&&a.C.D.C(a.Ea,b))}
function aAh(a,b){a.J&&a.qa().$h(a.J.getElement(),b);a.ma&&a.V&&(a.qa().$h(a.ma.getElement(),b),a.qa().$h(a.V.getElement(),b));a.L&&a.L.ah(b);a.R&&a.qa().$h(a.R.getElement(),b)}function bAh(a){return a.L?(a.L.focus(),!0):a.R?(a.R.getElement().focus(),!0):a.V?(a.V.focus(),!0):a.J?(a.J.focus(),!0):!1}
p.update=function(){this.H.Sk()&&this.Kb&&Uzh(this);var a=this.D&&I7(this)&&D7(this.D),b=Bzh(this),c=Be(b),d=!this.Ka||Be(this.Ka)!=c;d&&(this.Ka=b,Je(this.Ha,b),Ozh(this));Nzh(this);Mzh(this,c);H7(this)||this.dispatchEvent(new B7(this.getId()));I7(this)&&this.Za&&!a&&P(this.Za,!this.ud().isResolved());b=G7(this).Lv();Vzh(this,b);this.Oa&&Wzh(this,b);Xzh(this,b);Lzh(this);if(this.Pa&&!a){switch(this.Wa){case 1:this.expand();break;case 0:this.collapse();break;case 2:this.H.Sk()?this.expand():this.collapse()}Jzh(this)}this.gRa();
d&&(this.D&&this.D.Gb()&&this.D.reset(!0),this.XDa());Izh(this);this.R&&this.R.update();this.L&&this.L.update();Pzh(this)};p.qz=function(){if(this.Dc){var a=cAh(this,this.Dc);a.Un()!=this.Ka.Un()&&(this.Ka=a,Je(this.Ha,this.Ka),Ozh(this))}};function Bzh(a){var b=G7(a),c=b.rea();if(!c){c=b.getContent();var d=b.rua();if(0<c.length&&"text/html"!=d)throw Error("Unknown content type: "+d);b.Zj()&&(c=Uyh(b,a.C));c=QM(a.fb,c)}a.Dc=c;return cAh(a,c)}
function cAh(a,b){var c=g7(a.F),d=c.J;if(!d)return b;a=(c=gzh(c,a.C))&&c.getKey()==G7(a).getId()?c.getValue():void 0;c=lzh();var e=po("DIV");e.appendChild(ro(QM(c,Xe(d))));d=e.innerHTML;e.replaceChild(ro(b),e.lastChild);b=e.innerHTML;for(var f=e=0,h="",k=!1,l=0,n=0,q=[],r=0;r<b.length;r++){var w=b[r],x=0<l;">"==w?(k=!1,x?q.push(new om(f,r+1)):h+=b.slice(f,r+1),f=r+1):"<"==w?(k=!0,x&&q.push(new om(f,r)),f=r):k||((w=Ad(w,d[l]))&&0==l&&(n=r),w&&x&&l<d.length-1?l++:(w?l==d.length-1?(x=e==a?"docos-selected-find-match":
"docos-find-match",q.push(new om(f,r+1)),h=jzh(q,b,h,x),f=r+1,l=0,e++):(f=r,l=1):(q=(x?n:r)+1,h+=b.slice(x?n:f,q),f=q,l=0,x&&(r=n)),q=[]))}h=jzh(q,b,h);h+=b.slice(f,b.length);return QM(c,h)}p.gRa=function(a){if(this.Cb){var b=Hzh(this);b&&(a&&(this.Cb.textContent=b),a=G7(this),H7(this)||this.Pa||a.jx().equals(a.WO())||(this.Cb.textContent=b))}};
function Hzh(a){var b=a.He,c=G7(a),d=c.jx();return d?a.Pa||H7(a)||!(a=c.WO())||d.equals(a)?b.format(d):b.format(d)+(" (muokattu "+(b.format(a)+")")):null}p.setVisible=function(a){P(this.getElement(),a)};p.isVisible=function(){return cw(this.getElement())};p.dNb=function(a){this.dispatchEvent(new B7(this.O));a.stopPropagation()};
function $zh(a){var b=a.getElement();b&&(a.C.Kb?(b=a.C.Bb,b(function(){return a.ge()},function(){null!=a.H.getElement()&&a.H.getElement().focus()},!1)):tzh(a.F,a.qa()).prompt(b,a.ge,"delete-reply",a,a.H.getElement(),!a.Pa))}
p.eNb=function(a){if(13==a.keyCode&&"keypress"==a.type||32==a.keyCode&&"keyup"==a.type||"click"==a.type){var b=this.getElement(),c=a.target;!H7(this)&&Vw(c,"docos-replyview-delete")&&b?($zh(this),a.stopPropagation(),a.preventDefault()):Vw(c,"docos-replyview-edit")&&b?(Zzh(this),a.stopPropagation(),a.preventDefault()):Vw(c,"docos-show-more")&&b?(this.expand(),this.dispatchEvent(new B7(this.O)),this.Pb.focus()):Vw(c,"docos-show-less")&&b?(this.collapse(),this.dispatchEvent(new B7(this.O)),this.zf.focus(),
a.stopPropagation(),a.preventDefault()):b&&this.L&&Co(this.L.getElement(),a.target)&&(a.stopPropagation(),a.preventDefault())}32==a.keyCode&&"keypress"==a.type&&(a.stopPropagation(),a.preventDefault())};function dAh(a,b){var c=a.ud();if(!c||owh(g7(a.F),c)){var d=G7(a);d&&d.vG()&&(c=a.C.J[b])&&(a=x7(g7(a.F),a.O))&&(d=d.Ry&&d.Ry()&&!d.isResolved()?u7(d):void 0,b=(new Z6(b)).setAnchorIds([d]).addDocoHandle(a).setUserInitiated(!0).build(),c(b))}}
function Szh(a){var b=a.ud();b&&b.Zj()&&dAh(a,"before-suggestion-accepted")}p.X0b=function(){var a=Date.now();Szh(this);this.Bb&&this.Bb.$n("dsabb",Date.now()-a)};function Rzh(a,b,c){var d=a.ud(),e=a.H;e.D&&D7(e.D)&&e.D.setValue("");d&&!d.Zj()&&d.isResolved()!=b&&i7(a.F).tf("docos-resolve-doco").wb(new Zth(a.O,b,c||null))}p.N3b=function(){var a=Date.now();dAh(this,"before-suggestion-rejected");this.Bb&&this.Bb.$n("dsrbb",Date.now()-a)};
p.expand=function(){G7(this).Zj()||(gx(this.Ba,"docos-collapsed-replyview"),this.Wa=150>=this.Ba.offsetHeight?2:1,Jzh(this))};p.collapse=function(){!G7(this).Zj()&&this.Pa&&(gx(this.Ba,"docos-collapsed-replyview"),150>=this.Ba.offsetHeight?this.Wa=2:(this.Wa=0,ex(this.Ba,"docos-collapsed-replyview")),Jzh(this))};function Jzh(a){if(!G7(a).Zj()){var b=1==a.Wa;b!=a.Sd&&(a.Pb.style.display=b?"block":"none",a.Sd=b)}}function H7(a){return"root"==a.getId()}
function Ezh(a){var b=G7(a);return b?Zuh(a.C.H,b)&&!a.C.xa:!1}function I7(a){var b=G7(a);return b?Yuh(a.C.H,b):!1}function Azh(a){var b=a.ud();return b?$uh(a.C.H,b):!1}p.cNb=function(){if(this.isDisposed())return!1;i7(this.F).tf("docos-delete-reply").wb({Aj:this.O,Fxa:this.getId()});return!0};function Zzh(a){I7(a)&&(Tzh(a),eAh(a,!1),a.Ba&&a.expand(),a.D.setVisible(!0),a.D.Za=!0,a.D.ready(G7(a).Uz()))}
p.XDa=function(){I7(this)&&(eAh(this,!0),this.Ba&&this.expand(),this.D&&(this.D.setVisible(!1),this.D.Za=!1))};p.gac=function(){if(I7(this)){Tzh(this);var a=i7(this.F),b=this.D.getValue();Bd(b)||(H7(this)?a.tf("docos-edit-doco").wb({id:this.O,text:b,tna:this.D}):(b={Aj:this.O,Fxa:this.getId(),text:b,tna:this.D},a.tf("docos-edit-reply").wb(b)))}};function eAh(a,b){for(var c=0;c<a.Pd.length;++c)P(a.Pd[c],b)}
p.L_a=function(){var a=Vw(this.xa,"docos-replyview-quote-collapsed");P(this.$a,!a);P(this.Ta,a);this.Kb=!a;a?kx(this.xa,"docos-replyview-quote-collapsed","docos-replyview-quote-expanded"):kx(this.xa,"docos-replyview-quote-expanded","docos-replyview-quote-collapsed")};
function Uzh(a){!a.xa||0>=$v(a.xa).height||(kx(a.xa,"docos-replyview-quote-collapsed","docos-replyview-quote-expanded"),30<$v(a.xa).height?(P(a.$a,!0),P(a.Ta,!1),kx(a.xa,"docos-replyview-quote-expanded","docos-replyview-quote-collapsed")):(P(a.$a,!1),P(a.Ta,!1)),a.Kb=!0)}p.vd=function(){b7.prototype.vd.call(this);h7(f7(this.F),this.Ea)};function Lzh(a){var b=Fzh(a);b?(b=QM(a.fb,b),Je(a.Qa,b),P(a.Qa,!0)):P(a.Qa,!1)}
function Fzh(a){var b=G7(a),c=b.getOrigin();1==c?b="Luotu tuodusta asiakirjasta":(a=a.C,b=gZ(a.C)&&Ri(gZ(a.C),33)&&b.Psa()?"Vertailusta":2==c?"Yll\u00e4 olevat kommentit kopioitiin alkuper\u00e4isest\u00e4 dokumentista.":null);return b}
function Gzh(a){var b=a.Qf;var c=G7(a),d=a.ud();c&&d?(a=c.qea(),0==a&&e7(d)?b="Merkitty valmiiksi.":0==a?b="Merkitty ratkaistuksi":1==a?b="Avattu uudelleen":2==a?b="Ehdotus hyv\u00e4ksytty":3==a?b="Ehdotus hyl\u00e4tty":4==a?(a=c.HA(),c=(d=yvh(d))&&d.getId()!=c.getId(),a=$6(a),b=Uth(a,b.C,!0),b=c?(new uA("M\u00e4\u00e4ritetty uudelleen k\u00e4ytt\u00e4j\u00e4lle {user}")).format({user:b}):(new uA("M\u00e4\u00e4ritetty k\u00e4ytt\u00e4j\u00e4lle {user}")).format({user:b})):b=""):b="";return b}
function Mzh(a,b){b=-1==me(b,!0);if(null===a.Lc||b!=a.Lc)gIe(a.Xe,b),a.Lc=b}function Nzh(a){var b=Gzh(a);a.fc&&Eo(a.fc,b);a.Vc&&Eo(a.Vc,b)}function Ozh(a){if(a.C.fc)for(var b=fo("A",a.Ha),c=0;c<b.length;c++){var d=b[c];d.getAttribute("data-rawHref")&&a.getHandler().Bf(d,Sn,a.s1b)}}p.s1b=function(a){UHe(this.C.fc,a.target.getAttribute("data-rawHref"));a.preventDefault();a.stopPropagation()};var Dzh=/[\x00-\b\f-\u001f\ue000-\uf8ff]/g,Czh=/[\n-\x0B]/g;function fAh(a,b){b7.call(this,a,b);this.D=!1}y(fAh,b7);fAh.prototype.Ca=function(){var a=this.qa();this.jb(Sx(Owh,{},void 0,a));this.F=a.bb("docos-showrepliesbutton-collapsed",this.getElement())};fAh.prototype.setVisible=function(a){a!=this.D&&this.Gb()&&(P(this.getElement(),a),this.D=a)};fAh.prototype.isVisible=g("D");fAh.prototype.Ja=function(){fAh.Ua.Ja.call(this);delete this.F};function J7(a,b,c,d,e){C7.call(this,a,b,c,d,e);this.ma=!1;this.D=null;this.F=new yzh(a,b,this.Oo(),d,this,void 0,"docos-replyview-first");this.Ga(this.F);this.H={};this.Dc=v(this.VMb,this);this.Pd=$vh(a);this.Ha="docos-docoview-input-pane";this.fc="";this.Kb=this.Lc=null;this.Bb=!1;this.J=null;ovh(this.C)&&(a=new hA(this),this.va(a),a.Ri("up",38),a.Ri("down",40),this.getHandler().listen(a,"shortcut",this.uqb))}u(J7,C7);
function gAh(a){a.D||(a.D=new oyh(a.getContext(),a.qa(),a),a.va(a.D),a.D.Ba="Vastaa\u2026",a.D.re("Vastaa"),a.Gya(),a.getElement()&&hAh(a))}p=J7.prototype;p.uqb=function(a){switch(a.identifier){case "down":a=iAh(this);var b=jAh(this,a);b==a.length-1?a[0].focus():a[b+1].focus();break;case "up":a=iAh(this),b=jAh(this,a),0>=b?a[a.length-1].focus():a[b-1].focus()}};
function iAh(a){var b=Lvh(a.ud(),!1),c=[];a.F.getElement();c.push(a.F.getElement());b=ia(b);for(var d=b.next();!d.done;d=b.next())(d=a.H[d.value.getId()].getElement())&&c.push(d);a.D&&a.D.getElement()&&c.push(a.D.getElement());return c}function jAh(a,b){for(var c=0;c<b.length;c++){var d=b[c],e=a.qa(),f=Ro(e);if(d==f||e.contains(d,f))return c}return-1}
function hAh(a){var b=a.qa(),c=Sx(Qwh,{Ce:a.Ha,dHa:"",rla:a.fc,dI:"",Jj:a.C.Jj(),IH:a.C.Ha}),d=a.getElement(),e=b.bb("docos-input-pane-placeholder",d);b.sB(c,e);a.D.Va(c);a.D.V=d}p.Gya=function(){this.D&&d7(d7(d7(d7(d7(this,this.D,"p",this.$Mb),this.D,"c",this.YMb),this.D,"b",this.XMb),this.D,"e",this.ZMb),this.D,"s",this.eX)};
p.Ca=function(){C7.prototype.Ca.call(this);var a=this.getElement(),b=this.qa();this.D&&hAh(this);Nw(a,"listitem");this.Kb=b.bb("docos-docoview-replycontainer",a);this.Lc=b.bb("docos-docoview-rootreply",a);this.F.render(this.Lc);kAh(this)};p.Ia=function(){C7.prototype.Ia.call(this);d7(this,this.getElement(),["keydown","keypress","keyup"],this.WMb);if(this.D){var a=this.getElement();this.D.V=a}Fo(this.getElement(),!0)};p.Hb=g("Kb");
p.Uc=function(a){C7.prototype.Uc.call(this,a);if(this.F){var b=this.F;b.O=a;b.L&&rvh(b.L,a);b.R&&b.R.xRa(a)}};p.Oo=m(!1);p.vRa=function(a){if(!Vw(a.target,"docos-noclick")){var b=i7(this.getContext()),c=W6(V6(this.getId()),this.Za);b.tf("docos-before-highlight-doco").wb(X6(c));F7(g7(this.R),this.getId());b.tf("docos-highlight-doco").wb(X6(Ith(c)));this.ma=!0;this.lVa(a)}};p.lVa=ba();
p.WMb=function(a){this.dispatchEvent(a)&&!a.ctrlKey&&m6a(a)&&9!=a.keyCode&&13!=a.keyCode&&32!=a.keyCode&&69!=a.keyCode&&74!=a.keyCode&&75!=a.keyCode&&avh(this.C.H)&&this.ma&&(gAh(this),this.D.ready(),this.ma=!1);9==a.keyCode&&(this.ma=!1)};
p.BZa=function(){var a=this;this.ma=!1;var b=this.getElement();if(this.ud().Zj())this.Dc("suggestion");else if(b){var c=function(){return a.Dc("discussion")};this.C.Kb?(0,this.C.Bb)(c,function(d){d||null==a.getElement()||a.getElement().focus()},!0):tzh(this.getContext(),this.qa()).prompt(b,c,"delete-discussion",this,this.getElement())}};
function kAh(a){for(var b=Lvh(a.ud()),c=a.F,d=0;d<b.length;++d){var e=b[d].getId();if(a.H[e])c=a.H[e];else{var f=new yzh(a.getContext(),a.getId(),a.Oo(),a.qa(),a,e);a.vf(f,qw(a,c)+1,!0);c=a.H[e]=f}}}p.$Mb=function(){if(this.D){var a=this.D.getValue(),b=kyh(this.D.H);b=b?ruh(b):void 0;if(!Bd(a)){var c=x7(g7(this.getContext()),this.getId());this.dispatchEvent(new Dyh("sr",this.getId(),u7(this.ud()),c,a,void 0,b))}}};p.YMb=function(){cwh(this.Pd,Jvh(Ivh(Hvh(Gvh(43012),this.ud().getId()),u7(this.ud()))))};
p.XMb=function(){this.Sk()&&(this.ma=!0)};p.ZMb=function(){this.Sk()&&(this.ma=!0)};p.focus=function(){gAh(this);var a=this.Sk();a&&cw(this.getElement())&&avh(this.C.H)&&(this.ma=!0);if(a){var b=this.qa();a=Ro(b);(mf&&!a||!b.contains(this.getElement(),a))&&ip(function(){this.Gb()&&!b.contains(this.getElement(),Ro(b))&&this.getElement().focus()},0,this)}};
function lAh(a){var b=a.ud();if(b){var c=null,d;b:{for(d=qw(a,a.F);d<a.rc();d++){var e=a.xc(d);if((e=e==a.J?null:e)&&2==(zzh(e)||b).getOrigin())break b}d=-1}if(0>d)a=c;else{for(;d<a.rc();d++)if(e=a.xc(d),e=e==a.J?null:e){if(2!=(zzh(e)||b).getOrigin())break;P(e.Qa,!1);e.isVisible()&&(c=e)}a=c}a&&P(a.Qa,!0)}}
p.update=function(){var a=this.ud();this.F.update();this.re(a.Lv(),e7(a)||void 0);kAh(this);for(var b in this.H){var c=this.H[b];p7(a,b)?c.update():(this.removeChild(c,!0),c.dispose(),delete this.H[b])}a.isResolved()!=this.Bb&&(this.Bb=a.isResolved(),gAh(this),this.Bb?(this.D.Ba="Kommentin lis\u00e4\u00e4minen avaa keskustelun uudelleen\u2026",this.D.re("Kommentin lis\u00e4\u00e4minen avaa keskustelun uudelleen")):(this.D.Ba="Vastaa\u2026",this.D.re("Vastaa")),!a.isResolved()&&D7(this.D)||this.D.reset(!0));
Uwh(this);!this.Sk()&&this.D&&this.D.blur();lAh(this);a=this.Pa;b=this.getElement();a.C&&b&&a.F&&(aw(b).contains(new bm(a.H,a.J))||Jwh(a,!1))};p.VMb=function(a){if(this.isDisposed())return!1;this.dispatchEvent("bd");i7(this.getContext()).tf("docos-delete-doco").wb({Cm:u7(this.ud()),Aj:this.getId(),Xo:x7(g7(this.getContext()),this.getId()),bR:a});return!0};function mAh(a){i7(a.getContext()).tf("docos-resolve-doco").wb(new Zth(a.getId(),!1,null))}
function euh(a){return a.D&&D7(a.D)?a.D.getValue():null}function nAh(a){var b=a.getContext(),c=a.ud();c&&y7($vh(b),s7(r7(q7(43045),c)));a=a.getId();i7(b).tf("docos-speak-doco").wb(a)}p.mya=ba();p.Ja=function(){C7.prototype.Ja.call(this);this.J&&delete this.J;delete this.Kb;delete this.H;delete this.D};function oAh(a,b,c,d,e){J7.call(this,a,b,c,d,e);this.V=!0;this.L=null;this.Ea=new $th(a,d,b,this);this.Ka=this.fb=this.Qa=null;this.Ta=new hA(this);this.va(this.Ta);b=this.Ta;b.Ri("backToDocument",85);b.Ri("resolve",69);b.Ri("blur",27);b.Ri("next",74);b.Ri("next",Qs(["N","C"]));b.Ri("prev",75);b.Ri("prev",Qs(["P","C"]));b.Ri("speakComment",Qs(["A","C"]));b.Ri("reply",82);this.getHandler().listen(this.Ta,"shortcut",this.RMb);this.getHandler().listen(this,"rd",this.SMb);this.Wa=!1;this.Ha+=" docos-anchoreddocoview-input-pane hide-on-readonly";
this.Pb=null;Ic(z(),"docs-edp")&&(this.Pb=new nyh(a,d,"unfocused-presenceindicator"));this.yd="legacy"!=this.C.F;this.Ba=null}u(oAh,J7);p=oAh.prototype;p.setVisible=function(a){!this.isVisible()&&a&&g7(this.R).J&&this.qz();J7.prototype.setVisible.call(this,a)};p.qz=function(){this.F.qz();for(var a in this.H)this.H[a].qz()};p.Uc=function(a){J7.prototype.Uc.call(this,a);this.Ea&&this.Ea.Uc(a)};p.Oo=m(!0);p.qQ=function(){return this.ud()?u7(this.ud()):null};
p.Ca=function(){J7.prototype.Ca.call(this);var a=this.qa(),b=this.getElement();this.Qa=a.bb("docos-replyview-control",b);this.fb=a.bb("docos-anchoreddocoview-internal",b);this.Ka=a.bb("docos-anchoreddocoview-content",b);this.J&&(this.J.render(b),this.J.setVisible(!1));var c=this.ud(),d=!!c&&$uh(c7(this.getContext()).H,c);ix(this.getElement(),"docos-docoview-resolve-button-visible",d);if(c=e7(c))a=a.bb("docos-anchoreddocoview-assigneecontainer",b),this.Ea.render(a),pAh(this,c);this.D&&(a=this.getElement(),
this.D.V=a);this.Pb&&(a=this.qa().bb("docos-unfocusedpresenceindicator-container",this.getElement()),this.Pb.render(a))};p.Ia=function(){J7.prototype.Ia.call(this);var a=this.ud();a&&e7(a)&&this.vf(this.Ea,qw(this,this.F));Uwh(this);2<=Md(this.ud().D)&&(a=qAh(this))&&rAh(this,a);this.$Y(!0);lAh(this);sAh(this);d7(d7(this,this,"show",this.uVa),this,"hide",this.tVa)};
p.vd=function(){var a=this.ud();if(a)if(this.D&&D7(this.D)){var b=this.D.getValue();a.R=b}else a.R=null;this.getHandler().Gc(this,"show",this.uVa);this.getHandler().Gc(this,"hide",this.tVa);J7.prototype.vd.call(this)};p.ah=function(a){this.qa().$h(this.getElement(),a)};function tAh(a,b){aAh(a.F,b);for(var c in a.H)aAh(a.H[c],b)}p.TMb=function(){var a=new Dth(this.getId(),this.Za),b=i7(this.getContext());b.tf("docos-before-highlight-doco").wb(a);F7(g7(this.R),this.getId());b.tf("docos-highlight-doco").wb(a)};
p.SMb=function(){this.O=null;if(Wwh(this)){var a=this.Ka.scrollHeight>this.Ka.offsetHeight,b=this.getElement();a&&!this.Ba&&b?(this.Ba=new vL(b),d7(this,this.Ba,"mousewheel",this.FHb)):!a&&this.Ba&&(this.Ba.dispose(),this.Ba=null);a=a?S4a():0;b=this.yd?282:240;Yv(this.getElement(),b+a);Yv(this.Ka,b+a)}};p.uVa=function(a){a.target instanceof Py&&(ex(this.getElement(),"docos-docomenu-visible"),a.stopPropagation())};
p.tVa=function(a){a.target instanceof Py&&(gx(this.getElement(),"docos-docomenu-visible"),a.stopPropagation())};p.mya=function(a){this.Qa&&P(this.Qa,a)};p.B8=m(!0);p.update=function(){J7.prototype.update.call(this);var a=this.Sk();this.Sk()?this.L||this.C.Pb||(this.L=new tB(this.getElement(),this.qa()),this.va(this.L),uB(this.L)):this.L&&(this.L.dispose(),this.L=null);a!=this.Wa&&uAh(this);this.Wa=a;sAh(this);if(a=e7(this.ud()))this.Ea.update(),pAh(this,a);this.V&&this.oxa()};
function sAh(a){var b=a.ud();null!=b.R&&(gAh(a),a.D.ready(b.R,!0),b.R=null)}p.expand=function(a){var b=!1;if(this.V){this.F.expand();for(var c in this.H)b=this.H[c],b.setVisible(!0),b.expand();this.V=!1;b=!0}else if(a){c=this.getId()==a?this.F:this.H[a];if(!c)return;c.expand()}else return;this.O=null;b&&this.J&&this.J.setVisible(!1);this.$Y(!0);lAh(this)};
p.collapse=function(){if(!this.V){this.F.collapse();for(var a in this.H)this.H[a].collapse();this.V=!0;this.O=null;if(a=qAh(this))this.J&&this.J.setVisible(!1),this.getElement().style.maxHeight="",this.Hb().style.maxHeight="",rAh(this,a),this.$Y(!0),lAh(this)}};p.Gya=function(){J7.prototype.Gya.call(this);this.D&&(this.getHandler().listen(this.D,["b","e","s"],v(this.$Y,this,!0)),this.getHandler().listen(this.D,"e",this.ZLa),this.getHandler().listen(this.D,"f",this.TMb))};
function qAh(a){var b=c7(a.getContext()).Ns;a=Wwh(a);!a&&b&&(a=.75*b.C.clientHeight);return a||null}
function rAh(a,b){var c=a.getElement(),d=Md(a.ud().D);if(!(2>d||c.offsetHeight<b)){var e=qw(a,a.F),f=1+Math.floor(d/2);a.J||(a.J=new fAh(a.getContext(),a.qa()),a.va(a.J),a.getElement()&&(a.J.render(a.getElement()),a.J.setVisible(!1)));a.vf(a.J,f+e);var h=a.J;h.F&&Eo(h.F,"N\u00e4yt\u00e4 kaikki kohteen "+(d+" vastaukset"));a.J.setVisible(!0);h=f-1;f+=1;for(var k=0;c.offsetHeight>b&&k<d;++k){var l=-1;0==k%2&&0<h?(l=h,h--):f<=d&&(l=f,f++);0<=l&&a.xc(l+e).setVisible(!1)}}}
p.oxa=function(){var a=this.Zc();this.V&&this.expand();this.collapse();var b=this.Zc();im(a,b)||this.dispatchEvent(new B7(this.getId()))};p.$Y=function(a){var b=Wwh(this);b&&(gAh(this),this.getElement().style.maxHeight=b+"px",b-=this.D.getElement().offsetHeight,200<=b?this.Hb().style.maxHeight=b+"px":this.Hb().style.maxHeight="",a&&(this.fb.scrollTop=this.fb.scrollHeight))};
p.RMb=function(a){var b=i7(this.getContext());switch(a.identifier){case "backToDocument":b.tf("docos-back-to-document").wb({Aj:this.getId()});break;case "resolve":Qzh(this.F);break;case "blur":this.ZLa();break;case "next":this.dispatchEvent("sn");break;case "prev":this.dispatchEvent("sp");break;case "speakComment":nAh(this);break;case "reply":this.D.focus()}};p.ZLa=function(){var a=i7(this.getContext());a.tf("docos-before-highlight-doco").wb(U6());F7(g7(this.R),null);a.tf("docos-highlight-doco").wb(U6())};
p.focus=function(){J7.prototype.focus.call(this);this.Wa=this.Sk();uAh(this)};function uAh(a){gAh(a);D7(a.D)||a.Wa||a.D.reset(!0);a.Sk()&&(a.expand(),a.eea());a.$Y(!0);a.dispatchEvent(new B7(a.getId()))}p.xR=function(a){J7.prototype.xR.call(this,a);this.$Y(!1)};p.Ja=function(){J7.prototype.Ja.call(this);delete this.Ta;delete this.Qa};function pAh(a,b){var c=a.xa;c&&(a=Rth(b,a.C),hx(c,["docos-assignee-you","docos-assignee-other","docos-assignee-none"]),ex(c,a))}p.FHb=function(a){this.Sk()&&a.stopPropagation()};function vAh(a,b,c,d,e){this.rs=a;this.Ue=void 0===b?null:b;this.P6a=void 0===c?null:c;this.cga=void 0===d?null:d;this.tcc=void 0===e?!1:e}p=vAh.prototype;p.getNewDocoType=g("rs");p.getText=g("Ue");p.getAssigneeEmail=g("P6a");p.getOriginatingDocoType=g("cga");p.getWasSmartTodo=g("tcc");function wAh(a,b,c,d){return vAh.call(this,"discussion",a,b,c,void 0===d?!1:d)||this}u(wAh,vAh);function K7(a,b,c,d,e,f,h){C7.call(this,a,b,c,e,f);this.Hq=d;this.Ea=this.Ta=null;this.D=new oyh(a,this.qa(),this,h);this.Ga(this.D);this.Uc(b)}u(K7,C7);p=K7.prototype;p.Ca=function(){this.Ea=new hA(this.getElement());this.va(this.Ea);var a=this.Ea;a.Ri("backToDocument",85);a.Ri("blur",27);a.Ri("next",74);a.Ri("next",Qs(["N","C"]));a.Ri("prev",75);a.Ri("prev",Qs(["P","C"]));a.Ri("reply",82)};
p.Ia=function(){C7.prototype.Ia.call(this);this.getHandler().listen(this.D,"p",this.KVa).listen(this.D,"c",this.Vva).listen(this.D,"s",this.eX).listen(this.D,"b",this.NMb).listen(this.D,"e",this.Wqa).listen(this.D,"f",this.PMb);this.getHandler().listen(this.Ea,"shortcut",this.OMb);var a=this.getElement();this.D.V=a;this.Ta=new tB(this.getElement(),this.qa());this.va(this.Ta);uB(this.Ta)};p.fgb=function(a,b,c,d,e){i7(this.getContext()).tf("docos-convert-doco").wb({Aj:a,Cm:b,Xo:c,TUa:d,bR:e})};
p.KVa=function(){var a=this.sua()?this.sua().getEmail():void 0,b=this.ud().getNewDocoType()?this.ud().getNewDocoType():void 0,c=this.N$();var d=this.ud().C;d=null!=K(d.C,20)?K(d.C,20):null;a=new wAh(c,a,b,1==d);c=x7(g7(this.getContext()),this.getId());ip(v(this.fgb,this,this.getId(),this.qQ(),c,a,b))};p.egb=function(a,b,c,d){i7(this.getContext()).tf("docos-delete-doco").wb({Aj:a,Cm:b,Xo:c,bR:d})};
p.Vva=function(){var a=x7(g7(this.getContext()),this.getId()),b=this.ud().getNewDocoType()?this.ud().getNewDocoType():void 0;ip(v(this.egb,this,this.getId(),this.qQ(),a,b))};p.Oo=m(!0);p.qQ=g("Hq");p.tua=m(!0);p.vRa=function(a){xAh(this);a.stopPropagation()};function xAh(a){var b=i7(a.getContext()),c=Ith(W6(V6(a.getId()),a.Za));b.tf("docos-before-highlight-doco").wb(X6(c));F7(g7(a.R),a.getId());b.tf("docos-highlight-doco").wb(X6(c))}
p.OMb=function(a){var b=i7(this.getContext());switch(a.identifier){case "backToDocument":b.tf("docos-back-to-document").wb({Aj:this.getId()});break;case "blur":b.tf("docos-before-highlight-doco").wb(U6());F7(g7(this.R),null);b.tf("docos-highlight-doco").wb(U6());break;case "next":this.dispatchEvent("sn");break;case "prev":this.dispatchEvent("sp");break;case "reply":this.D.focus()}};p.update=function(){Uwh(this);this.eea()};p.NMb=function(a){this.eX(a)};
p.Wqa=function(){var a=i7(this.getContext());a.tf("docos-before-highlight-doco").wb(U6());F7(g7(this.R),null);a.tf("docos-highlight-doco").wb(U6())};p.PMb=function(){this.Sk()||xAh(this)};p.focus=function(){this.Sk()&&(mf?ip(this.XWa,0,this):this.XWa())};p.eX=function(a){var b=Wwh(this);if(b){var c=this.getElement();c.style.maxHeight=b+"px";c.scrollTop=c.scrollHeight}C7.prototype.eX.call(this,a)};
p.XWa=function(){this.D.ready();var a=this.qa(),b=Ro(a);(mf&&!b||!a.contains(this.getElement(),b))&&ip(function(){this.Gb()&&this.getElement().focus()},0,this)};function yAh(a,b,c,d,e,f){K7.call(this,a,b,c,d,e,f);this.D.Ba="Vastaa\u2026";this.J=!1;this.F=this.H=null}u(yAh,K7);p=yAh.prototype;
p.Ca=function(){var a=this.qa(),b=this.C.ih(),c=Sx(Rwh,{author:b.getName(),sL:this.C.ma?b.getId():null,tA:!0,Oo:!0,Jj:this.C.Jj(),IH:this.C.Ha},void 0,a);this.jb(c);this.D.Va(a.bb("docos-docoview-input-pane",c));this.H=a.bb("docos-author",c);this.F=fW(a,"IMG","docos-replyview-avatar",c);var d=a.bb("docos-replyview-origin",c);P(d,!1);if(a=a.bb("docos-user-presence",c))if(c=this.C.zd)a.style.backgroundColor=c(b.getId());K7.prototype.Ca.call(this)};
p.Ia=function(){K7.prototype.Ia.call(this);Uwh(this);var a=this.ud().Uz();Bd(a)||this.D.ready(a,!0,!0);a=this.C.ih();Bwh(f7(this.getContext()),this.F,a.C,a7(a))};p.sua=function(){return kyh(this.D.H)};p.N$=function(){return this.D.getValue()};p.Wqa=function(a){D7(this.D)?this.eX(a):K7.prototype.Wqa.call(this,a)};
p.update=function(){K7.prototype.update.call(this);var a=this.Sk();a!=this.J&&(this.Sk()||D7(this.D)?this.dispatchEvent(new B7(this.getId())):this.Vva());a?this.getElement().setAttribute("guidedhelpid","comment_draft_box"):this.getElement().removeAttribute("guidedhelpid");this.J=a};p.vd=function(){K7.prototype.vd.call(this);i7(this.getContext()).tf("docos-edit-draft").wb({Aj:this.getId(),text:this.N$(),rDa:this.F})};p.Ja=function(){K7.prototype.Ja.call(this);delete this.H;delete this.F};function zAh(a,b,c,d,e,f){yAh.call(this,a,b,c,d,e,f);this.ud()}u(zAh,yAh);function AAh(a,b,c,d,e,f){yAh.call(this,a,b,c,d,e,f);this.ud()}u(AAh,yAh);AAh.prototype.L=function(a,b,c,d,e,f){this.dispatchEvent(new Dyh("sd",a,b,c,d,e,f))};AAh.prototype.KVa=function(){var a=x7(g7(this.getContext()),this.getId()),b=kyh(this.D.H);if(null!=b){Ri(this.C.C,38);var c=ruh(b)}ip(v(this.L,this,this.getId(),this.qQ(),a,this.N$(),"instant-doco"==this.ud().rs,c))};AAh.prototype.V=function(a,b,c,d){i7(a).tf("docos-cancel-insert-discussion").wb({Aj:b,Cm:c,Xo:d})};
AAh.prototype.Vva=function(){var a=x7(g7(this.getContext()),this.getId());ip(v(this.V,this,this.getContext(),this.getId(),this.qQ(),a))};function BAh(a,b,c,d,e,f){b=vAh.call(this,void 0===b?"draft":b,c,d,e,void 0===f?!1:f)||this;b.cd=a||null;return b}u(BAh,vAh);BAh.prototype.getPosition=g("cd");function CAh(a){this.cga=a}CAh.prototype.getOriginatingDocoType=g("cga");function DAh(a,b,c){this.cga=a;this.gQ=b;this.JKb=c;return this}u(DAh,CAh);DAh.prototype.isTodo=g("gQ");DAh.prototype.isWrongAssignee=g("JKb");function EAh(a,b,c,d,e,f){K7.call(this,a,b,c,d,e,f,!0);this.Ka=this.Ha=this.H=this.L=this.ma=this.J=this.F=this.Qa=this.V=this.Ba=null;this.Wa=$vh(a)}u(EAh,K7);p=EAh.prototype;
p.Ca=function(){var a=this.C,b=this.qa();a=Sx(Rwh,{Oo:!0,yW:!0,g8a:!!Ri(a.C,41),Jj:a.Jj(),Cn:"legacy"!=a.F},void 0,b);this.jb(a);this.D.$a=!1;this.D.Va(b.bb("docos-docoview-input-pane",a));this.Ba=b.bb("docos-input-assign-to-text",a);this.V=b.Fa("docos-smarttodoview-body",a);this.V.id=nw(this,"body");this.F=b.bb("docos-smarttodoview-feedback",a);this.Ha=b.bb("docos-smarttodoview-showfeedbackdialog-button",a);this.Ka=b.bb("docos-smarttodoview-writefeedback-link",a);var c=[];c.push("edit");c.push("disable");
c.push("help");this.H=new pvh(this.getContext(),this.getId(),b,"docos-overflowmenu",c);this.Ga(this.H);this.H.Va(b.Fa("docos-overflowmenu-outer",a));this.F&&(this.J=FAh(this,"docos-smarttodoview-feedback-notactionitem","docos-smarttodoview-feedback-notactionitem-label"),this.L=FAh(this,"docos-smarttodoview-feedback-wrongassignee","docos-smarttodoview-feedback-wrongassignee-label"),this.Qa=GAh(this,"docos-smarttodoview-feedback-cancel"),(this.ma=GAh(this,"docos-smarttodoview-feedback-submit"))&&this.mAa());
b=b.Fa("docos-smarttodoview-headertext",a);b.id=nw(this,"headertext");Pw(a,"labelledby",b.id);Pw(a,"describedby",this.V.id);K7.prototype.Ca.call(this)};function FAh(a,b,c){var d=a.qa(),e=a.getElement();b=d.bb(b,e);c=d.bb(c,e);e=null;b&&(e=new lS(!1,d),c&&e.Md(c),e.Va(b),a.va(e));return e}function GAh(a,b){var c=a.qa();b=c.bb(b,a.getElement());var d=null;b&&(d=new Oz(null,c),d.Va(b),Sw(b,d.Pk()),a.va(d));return d}
p.Ia=function(){K7.prototype.Ia.call(this);d7(d7(d7(this,this.H,"e",this.iNb),this.H,"i",this.gqb),this.H,"h",this.Ztb);this.F&&(this.Ha&&this.getHandler().Bf(this.Ha,Sn,this.uEb),this.Ka&&this.getHandler().Bf(this.Ka,Sn,this.QHb),this.J&&d7(this,this.J,"change",this.mAa),this.L&&d7(this,this.L,"change",this.mAa),this.Qa&&d7(this,this.Qa,"action",this.osb),this.ma&&d7(this,this.ma,"action",this.hNb));this.D.ready(void 0,void 0,!0);this.update()};
p.eea=function(){K7.prototype.eea.call(this);this.xa&&ex(this.xa,"docos-smarttodoview-arrow-inner")};p.update=function(){K7.prototype.update.call(this);var a=e7(this.ud());a=$6(a);a=Uth(a,this.C,!0);a=(new uA("M\u00e4\u00e4ritet\u00e4\u00e4nk\u00f6 teht\u00e4v\u00e4 k\u00e4ytt\u00e4j\u00e4lle {user}?")).format({user:a});Eo(this.Ba,a);P(this.Ba,!0);a=QM(new wgc(new xgc),this.ud().getContent());Je(this.V,a);this.resize()};
p.iNb=function(){var a=$6(this.ud().HA()).getEmail();a=new BAh(void 0,"client-integrated-draft",this.ud().Uz(),a,"smart-todo",!0);var b=x7(g7(this.getContext()),this.getId());i7(this.getContext()).tf("docos-convert-doco").wb({Aj:this.getId(),Xo:b,TUa:a,bR:"smart-todo"})};p.gqb=function(){i7(this.getContext()).tf("docos-disable-smart-todo-feature").wb()};
p.Ztb=function(){rw("https://support.google.com/docs/?p=action_items&hl=fi",{target:"_blank",noreferrer:!0});cwh(this.Wa,Jvh(Ivh(Hvh(Gvh(43029),this.ud().getId()),u7(this.ud()))))};p.uEb=function(){this.F&&P(this.F,!0);cwh(this.Wa,Jvh(Ivh(Hvh(Gvh(43025),this.ud().getId()),u7(this.ud()))))};p.QHb=function(){i7(this.getContext()).tf("docos-write-feedback").wb({source:"smart-todo"})};p.osb=function(){this.F&&P(this.F,!1);this.focus()};
p.mAa=function(){var a=null!=this.J&&this.J.isChecked(),b=null!=this.L&&this.L.isChecked();this.ma.Na(a||b)};p.hNb=function(){i7(this.getContext()).tf("docos-reject-doco-with-feedback").wb({Aj:this.getId(),Cm:this.qQ(),Xo:x7(g7(this.getContext()),this.getId()),bR:"smart-todo",Tfb:new DAh("smart-todo",!this.J.isChecked(),this.L.isChecked())})};p.sua=function(){return e7(this.ud())?$6(e7(this.ud())):null};p.N$=function(){return this.ud().Uz()};
p.Ja=function(){K7.prototype.Ja.call(this);delete this.Ba;delete this.V;delete this.F;delete this.H;delete this.Ha;delete this.Ka};function HAh(a,b,c,d){this.C=a;this.H=b;this.cb=c;this.D=d}HAh.prototype.F=function(a){a=g7(this.C).ud(a);var b=this.H.Lj().getId();switch(a.getNewDocoType()){case "draft":case "instant-doco":return new AAh(this.C,a.getId(),b,u7(a),this.cb,this.D);case "client-integrated-draft":return new zAh(this.C,a.getId(),b,u7(a),this.cb,this.D);case "smart-todo":return new EAh(this.C,a.getId(),b,u7(a),this.cb,this.D);default:return new oAh(this.C,a.getId(),b,this.cb,this.D)}};function IAh(a,b){this.C=a;this.D=b}IAh.prototype.clone=function(){return new IAh(this.C,this.D)};IAh.prototype.equals=function(a){return null!=a&&this.C==a.C&&this.D==a.D};function L7(a,b){Wn.call(this);this.cb=b;this.L=a;this.D=null;if(a=M7(this).L)this.D=new IAh(a,!0);this.xa=!a;this.Ba=!a;this.Bb=this.H=null}y(L7,Wn);p=L7.prototype;p.iya=da("O");p.Lj=function(){if(!this.O)throw Error("ViewManager.getComponent() returned undefined. setComponent() must be called first.");return this.O};p.EO=function(){return[]};p.gq=function(){return this.H?this.H.getId():null};p.yU=function(){return this.H?t7(this.H):null};p.zU=function(){var a=this.gq();return a?this.O.Cc(a):null};
p.qa=g("cb");function M7(a){return c7(a.L)}p.getContext=g("L");p.hF=function(){return this.Lj().getId()};p.E$=g("D");p.yha=function(a,b){var c=this.gq();return a||c?b==this.hF()||this.D&&this.D.C==a?!0:!Twh(this,a):!1};function Twh(a,b){if(a.gq()==b)return!0;a=a.yU();return!!a&&a==b}
p.bna=function(a,b,c){if(this.yha(a,b)){var d=Twh(this,a)?null:this.H;this.H=g7(this.L).ud(a)||null;var e=d&&a!=d.getId()&&(!t7(d)||a!=t7(d));if(e){var f=this.O.Cc(d.getId());f&&!l7(d.C)&&f.update()}d=!d||e;b=b==this.hF()&&(void 0===c||c);a&&(d||b)&&(d&&this.zXa(),(c=this.O.Cc(a))?(this.D=null,c.update(),b&&c.focus()):this.D=new IAh(a,b),d&&this.$va(a))}};p.zXa=ba();
p.ROa=function(a,b){var c=i7(this.L);c.tf("docos-before-highlight-doco").wb(a);F7(g7(this.L),b.getId());c.tf("docos-highlight-doco").wb(a);!this.xa&&(this.xa=!0,c=b.getId(),c==M7(this).L&&(a=M7(this).J["highlight-initial-doco"]))&&(b=(new Z6("highlight-initial-doco")).addAnchorId(u7(b)).addDocoHandle(x7(g7(this.getContext()),c)).setNonAnchored(!(b.Ry()&&!b.isResolved())).setUserInitiated(!0).build(),a(b))};p.highlightNext=function(a,b,c){JAh(this,!0,void 0,a,b,c)};
p.highlightPrevious=function(a,b,c){JAh(this,!1,void 0,a,b,c)};p.Nfa=ba();p.Lfa=ba();function JAh(a,b,c,d,e,f){var h=g7(a.L),k=KAh(a,h,b,!!d,!!e);k||!c||e||(k=KAh(a,h,!b,!!d,!1));b=i7(a.L);k&&(a=X6(Ith(Hth(Fth(W6(V6(k.getId()),a.hF())),void 0!==f?f:!0))),b.tf("docos-before-highlight-doco").wb(a),F7(h,k.getId()),b.tf("docos-highlight-doco").wb(a))}
function KAh(a,b,c,d,e){c=c?1:-1;var f=null,h=a.Lj().rc();if(0==h)return null;a:{var k=a.gq();if(k){var l=a.Lj();if(k=l.Cc(k)){l=qw(l,k);break a}}l=-1}0>l&&(l=0,f=a.Lj().xc(l));for(k=l;!f||d&&!owh(b,f.ud());){l+=c;if(!e&&(l>=h||0>l)){f=null;break}l=(l+h)%h;if(l==k){f=null;break}f=a.Lj().xc(l)}return f}
p.$va=function(a){if(a==M7(this).L){var b=this.O.Cc(a);b&&b.Sk()&&!this.Ba&&(this.Ba=!0,b=M7(this).J["linked-doco-highlighted"])&&(a=g7(this.L).ud(a),a=Jth("linked-doco-highlighted").addAnchorId(u7(a)).setUserInitiated(!0).build(),b(a))}};p.$$=function(a){for(var b=this.Lj(),c=b.rc(),d=c,e=0;e<c;++e){var f=b.xc(e);if(f&&0>=this.FT(a,f)){d=e;break}}return d};
function LAh(a){if(a.O1()){for(var b=a.Lj(),c=[],d=b.rc(),e=0;e<d;++e)c.push(b.xc(e));c.sort(v(a.FT,a));for(e=0;e<d;++e)b.xc(e)!=c[e]&&b.vf(c[e],e)}}p.oy=function(){Ewh(f7(this.getContext()))};p.kI=ba();p.ana=function(){for(var a=this.Lj().rc(),b=new tth,c,d=0;d<a;d++)c=this.Lj().xc(d),null!=c&&(c=c.ud(),null!=c&&Fyh(b,c));return uth(b)};p.OI=qa;p.x9=ee;p.v0=ee;p.w0=ba();p.Ja=function(){L7.Ua.Ja.call(this);this.H=null};
p.$ma=function(a){a=a.dU()||a;a instanceof L7&&(a.D=this.D?this.D.clone():null,a.xa=this.xa,a.Ba=this.Ba)};p.dU=m(null);p.hya=da("Bb");p.equals=function(a){if(null===a)a=!1;else if(a===this)a=!0;else if(a instanceof L7){var b=a.D;a=(this.D?this.D.equals(b):null==b)&&this.xa==a.xa&&this.Ba==a.Ba}else a=!1;return a};function MAh(a,b){Kn.call(this,a);this.KFa=b}y(MAh,Kn);function NAh(a){this.C=[];if(a)a:{if(a instanceof NAh){var b=a.Qe();a=a.Gd();if(0>=this.$d()){for(var c=this.C,d=0;d<b.length;d++)c.push(new hZ(b[d],a[d]));break a}}else b=Od(a),a=Nd(a);for(d=0;d<b.length;d++)OAh(this,b[d],a[d])}}function OAh(a,b,c){var d=a.C;d.push(new hZ(b,c));b=d.length-1;a=a.C;for(c=a[b];0<b;)if(d=b-1>>1,a[d].getKey()>c.getKey())a[b]=a[d],b=d;else break;a[b]=c}p=NAh.prototype;
p.remove=function(){var a=this.C,b=a.length,c=a[0];if(!(0>=b)){if(1==b)bd(a);else{a[0]=a.pop();a=0;b=this.C;for(var d=b.length,e=b[a];a<d>>1;){var f=2*a+1,h=2*a+2;f=h<d&&b[h].getKey()<b[f].getKey()?h:f;if(b[f].getKey()>e.getKey())break;b[a]=b[f];a=f}b[a]=e}return c.getValue()}};function PAh(a){return a.C[0]&&a.C[0].getKey()}p.Gd=function(){for(var a=this.C,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].getValue());return b};
p.Qe=function(){for(var a=this.C,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].getKey());return b};p.St=function(a){return Wc(this.C,function(b){return b.getValue()==a})};p.clone=function(){return new NAh(this)};p.$d=function(){return this.C.length};p.isEmpty=function(){return ad(this.C)};p.clear=function(){bd(this.C)};function QAh(){NAh.call(this)}y(QAh,NAh);function RAh(a,b){L7.call(this,a,b);this.V=g7(this.getContext());this.C={};this.R={};this.$a=new QAh;this.J=new Lth}y(RAh,L7);p=RAh.prototype;p.EO=function(){var a=RAh.Ua.EO.call(this);a.push("docos-layout-anchored");M7(this).Dd&&a.push("docos-layout-anchored-shadows");return a};p.jma=function(a){return(new HAh(this.getContext(),this,this.qa(),this)).F(a.getId())};
p.mT=function(a){if(this.V.R(a)){var b=a.getId(),c=x7(this.V,b),d=this.Coa(c,!1);if(d){var e=this.jma(a);this.R[c]&&delete this.R[c];c=this.$$(e);if(c<=this.Lj().rc()&&-1<c)for(SAh(this,e,d,c);!this.$a.isEmpty()&&PAh(this.$a)<=this.Lj().rc();)e=this.$a.remove(),SAh(this,e.view,e.position,e.index);else e=new TAh(e,d,c),OAh(this.$a,c,e)}else this.R[c]=a;b=Hth(V6(b),!a.yW());a.Zj()||W6(b,this.hF());d&&a.tA()&&Bd(a.Uz())&&(d=i7(this.getContext()),d.tf("docos-before-highlight-doco").wb(X6(b)),F7(this.V,
a.getId()),d.tf("docos-highlight-doco").wb(X6(b)));(d=this.E$())&&d.C==a.getId()&&(Hth(b,d.D),ip(v(this.ROa,this,X6(b),a),0))}};function SAh(a,b,c,d){var e=La();a.Lj().vf(b,d,!0);a.wfa(c.x,c.y,b,!1);b=La()-e;(a=M7(a).J["doco-rendered"])&&a(new Kth("doco-rendered",b))}p.nR=function(a){var b=this.Lj().Cc(a);a==this.gq()&&(this.H=null);if(b){var c=this.V.ud(a);c&&c.isResolved()&&b.Oo()&&M7(this).yd?UAh(this,a,b):(this.Lj().removeChild(b,!0),Hf(b));this.zI(this.C)}};
function UAh(a,b,c){function d(){q||(q=!0,Hf(c),vo(e),ex(h,"docos-resolve-highlight"),ip(function(){gx(h,"docos-resolve-highlight")},600))}var e=c.getElement(),f=Sv(e),h=M7(a).yd,k=$v(h),l=$v(e),n=Sv(h);n.x+=(k.width-l.width)/2;a.Lj().removeChild(c);ex(e,"docos-readonly");c.vd();e.style.zIndex=502;e.style.position="fixed";document.body.appendChild(e);var q=!1;mf?VAh(a,e,f,n,d,b):WAh(a,e,c.getId(),f,n,d)}
function WAh(a,b,c,d,e,f){Nth(a.J,c);b.style.left=d.x+"px";b.style.top=d.y+"px";ip(function(){Qn(b,gAa,f);ip(f,570);ex(b,"docos-resolve-animation");b.style.left=e.x+"px";b.style.top=e.y+"px"},0)}function VAh(a,b,c,d,e,f){var h=new QA(b,[c.x,c.y],[d.x,d.y],270),k=new gdb(b,270);k.play();Mth(a.J,f,h,270,function(){Hf(h);Hf(k);e()})}
function XAh(a){var b=[];a.Lj().Oe(function(c){var d=c.ud();null!=d&&null!=u7(d)?(d=x7(this.V,c.ud().getId()),this.Coa(d,!0)||this.R[d]||(this.R[d]=c.ud(),b.push(c.getId()))):b.push(c.getId())},a);0<b.length&&a.dispatchEvent(new MAh("rv",b))}p.w9=function(a){for(var b=Yd(this.C),c=0;c<a.length;c++)a[c]in b&&delete b[a[c]];this.zI(b)};p.cU=function(a){var b=Yd(this.C),c;for(c in a)b[c]=a[c];this.zI(b)};p.Coa=function(a){return this.C[a]||null};
p.x9=function(a){a=YAh(this,a);return a?(a=a?a.getElement():null)?new bm(a.offsetLeft,a.offsetTop):null:null};p.getDocoMaxHeight=function(a){return(a=YAh(this,a))?a.getDocoMaxHeight():null};p.Zma=function(a,b){(a=YAh(this,a))&&a.xR(b)};function YAh(a,b){return(b=A7(a.V,b))?a.Lj().Cc(b.getId()):null}p.Ja=function(){RAh.Ua.Ja.call(this);var a=this.J,b;for(b in a.C)a.C[b].stop();a.C={};a.D={}};function TAh(a,b,c){this.Aj=a.getId();this.view=a;this.position=b;this.index=c};function ZAh(a,b){RAh.call(this,a,b)}y(ZAh,RAh);p=ZAh.prototype;p.O1=m(!1);p.FT=m(0);p.ZY=qa;p.DI=function(){XAh(this)};p.oy=function(){ZAh.Ua.oy.call(this);this.Lj().Oe(function(a){var b=a.ud();b&&null!=u7(b)&&(b=x7(g7(this.getContext()),b.getId()),b=this.C[b],null!=b&&this.wfa(b.x,b.y,a,!1))},this)};p.zI=function(a){this.C=a;XAh(this);for(var b in this.C)(a=this.R[b])&&this.mT(a);this.oy()};p.wfa=function(a,b,c){(c=c.getElement())&&a6a(c,a,b,c7(this.getContext()).ej)};function N7(a,b,c,d,e,f){this.L=a;this.F=b;this.D=c;this.H=d;this.C=e;this.J=f&&!Bd(f)?f:null}oa("docos.api.Assignee",N7,void 0);N7.prototype.getToken=g("L");N7.prototype.getToken=N7.prototype.getToken;N7.prototype.getEmail=g("F");N7.prototype.getEmail=N7.prototype.getEmail;N7.prototype.getAffinity=g("D");N7.prototype.getAffinity=N7.prototype.getAffinity;N7.prototype.getMatchingMethod=g("H");N7.prototype.getMatchingMethod=N7.prototype.getMatchingMethod;N7.prototype.O=g("C");
N7.prototype.isMatchedOnEmailUserName=N7.prototype.O;N7.prototype.getName=g("J");N7.prototype.getName=N7.prototype.getName;function $Ah(a,b,c){this.C=a;this.L=b;this.D=!1;this.F=c.toLowerCase();a=c.split("@");this.J=2==a.length?a[0]:"";this.H=2==a.length?a[1]:""}function aBh(a,b,c,d){return new N7(a.C,b,d,a.L,a.D,c)}function bBh(a,b){return a.C.toLowerCase().replace(cBh,"")==b?a.D=!0:!1}$Ah.prototype.O=function(a,b){var c=[];b||a.resolve(c);for(var d=0;d<b.length;d++){var e=b[d];if(e&&dBh(this,e)){var f=cf(e.getEmail());Bd(f)||c.push(aBh(this,f,e.getName(),0))}}a.resolve(c)};
function dBh(a,b){if(b.getEmail())var c=cf(b.getEmail()).toLowerCase();else return!1;b=b.getName();var d=c.split("@"),e=d[0],f=d[1];if(!(d=2!=d.length||f!=a.H||0<=e.indexOf("-")||Yxh.contains(e.trim().toLowerCase()))&&(d=b)){a:{d=b.trim().toLowerCase().split(/\s/);for(f=0;f<d.length;f++)if($c(Xxh,d[f].trim().toLowerCase())){d=!0;break a}d=!1}d=d||b.toLowerCase()==e}if(d)return!1;d=a.C.toLowerCase().split(/\s/);f=b?b.toLowerCase().split(/\s/):[];for(var h=0;h<d.length;h++)if((d[h]==c||b&&$c(f,d[h]))&&
1<d[h].length)return!0;return bBh(a,e)}function eBh(a,b){for(var c=[],d=0;d<a.length;d++)c.push(new $Ah(a[d],"full-query",b));return c}function fBh(a,b){for(var c=[],d=0;d<a.length;d++)ld(c,gBh(a[d],b));return c}function gBh(a,b){return gyh(eyh,a).map(function(c){return new $Ah(c,"email",b)})}var cBh=/^[@+]|[@+]$/g;function hBh(a){this.C=a}oa("docos.api.AssigneeThenable",hBh,void 0);hBh.prototype.get=g("C");hBh.prototype.get=hBh.prototype.get;function iBh(a,b,c,d){this.C=a;this.D=b.getEmail();this.L=c;this.F=new sl;this.J=d}function jBh(a,b){var c=Yo();a.C.C?kBh(a,b,c):Pxh(a.C).then(v(function(d,e,f){f?kBh(this,d,e):e.reject()},a,b,c));return new hBh(c.C)}function kBh(a,b,c){var d=Ja(fBh,b,a.D);b=v(a.H,a,Ja(eBh,b,a.D),c,function(){return c.resolve(null)});a.H(d,c,b)}
iBh.prototype.H=function(a,b,c){a=a();for(var d=[],e=0;e<a.length;e++){var f=a[e];var h=this.C,k=Yo();Bd(f.C)?k.resolve([]):bBh(f,f.J)||f.C.toLowerCase()==f.F?k.resolve([aBh(f,f.F,null,Number.MAX_VALUE)]):h.On(f.C,5,v(f.O,f,k));f=k.C;ld(d,f)}lBh(this,d,b,c)};function lBh(a,b,c,d){Xo(b).then(function(e){for(var f=[],h=0;h<e.length;h++){var k=e[h];k.yO&&k.value&&ld(f,k.value)}ad(f)?d():mBh(a,f,c)})}
function mBh(a,b,c){if(a.J&&"full-query"==b[0].getMatchingMethod()){for(var d=[],e=[],f=0;f<b.length;f++){var h=b[f];h.C?e.push(h):d.push(h.getEmail())}ad(e)?(nBh(a,d),a.J(d).then(function(k){return oBh(a,b,c,k)})):pBh(a,e,c)}else pBh(a,b,c)}function pBh(a,b,c){b.sort(Ja(qBh,a.D));c.resolve(b[0])}function nBh(a,b){var c=a.F;vva(b,c.contains,c)||(tl(a.F,b),cwh(a.L,Jvh(Gvh(43026))))}
function oBh(a,b,c,d){for(var e=[],f={pZ:0};f.pZ<d.length;f={pZ:f.pZ},f.pZ++){var h=Yc(b,function(k){return function(l){return l.getEmail()==d[k.pZ]}}(f));h&&e.push(h)}ad(e)?c.resolve(null):pBh(a,e,c)}function qBh(a,b,c){var d=b.getEmail()==a;a=c.getEmail()==a;var e="full-query"==b.getMatchingMethod(),f="full-query"==c.getMatchingMethod();return(d||a)&&e&&f?d?-1:1:c.getAffinity()-b.getAffinity()};function rBh(a){this.i8a=a;return this}u(rBh,n5);rBh.prototype.getCancelAnchorId=g("i8a");rBh.prototype.getCancelAnchorId=rBh.prototype.getCancelAnchorId;function sBh(a,b,c,d,e,f){a=Y6.call(this,a,b,c,d,e,f||new n5)||this;a.C=!1;return a}u(sBh,Y6);sBh.prototype.canPreventDefault=m(!0);sBh.prototype.preventDefault=function(){this.C=!0};function tBh(a){return Z6.call(this,a)||this}u(tBh,Z6);tBh.prototype.build=function(){return new sBh(this.type,this.C,this.D,this.F,this.H,this.args?this.args:new n5)};function uBh(){this.D=!1}uBh.prototype.cancel=function(){this.C&&this.C.cancel();this.D=!0};uBh.prototype.Oj=function(){return!this.D&&(null==this.C||this.C.Oj())};function vBh(a,b,c){this.J=a;this.D=b;this.F=null;this.C=!1;this.H=Yo();this.L=c}y(vBh,A);function Pxh(a){if(!qJe())return Uo(!1);if(a.C)return Uo(!0);if(!a.F){var b=Yd(q$e);b.D=!0;b.L=3;b.xa=!0;b.F=0;a.F=a.D.On(b,function(c,d,e,f,h){a.C=!h&&0<c.length;a.H.resolve(a.C);if(a.C&&(h=c.length,c=a.J.R)){var k=new H9d;h=M(k,1,h);h=Dsh(h);c.$n("dacpc",La()-a.L,h.serialize())}})}return a.H.C}
vBh.prototype.On=function(a,b,c,d){var e=this;if(!qJe())return new l$e;var f=null!=d,h={token:a,C:b,H:!0,D:!0,R:f?1:0,J:f,filter:d};if(Te(a)&&this.F&&this.F.Oj()){var k=new uBh,l=La();this.H.C.then(function(){var n=e.J.R;if(k.Oj()){var q=e.D.On(h,c);n&&n.$n("dcrdtdr",La()-l);k.D||(k.C=q)}else n&&n.$n("dcrdc",La()-l)});return k}return this.D.On(h,c)};vBh.prototype.Ja=function(){delete this.D};function wBh(a){this.C=a}y(wBh,n5);oa("docos.api.OriginatingDocoTypeArgs",wBh,void 0);wBh.prototype.getOriginatingDocoTypeArgs=g("C");wBh.prototype.getOriginatingDocoTypeArgs=wBh.prototype.getOriginatingDocoTypeArgs;function O7(a,b,c){this.C=c;this.Hq=a;this.D=b}y(O7,wBh);oa("docos.api.ConvertDocoArgs",O7,void 0);O7.prototype.getAnchorId=g("Hq");O7.prototype.getAnchorId=O7.prototype.getAnchorId;O7.prototype.getNewDocoArgs=g("D");O7.prototype.getNewDocoArgs=O7.prototype.getNewDocoArgs;function P7(a,b,c){this.D=a;this.cd=void 0!==b?b:null;this.C=void 0==c?-1:c}y(P7,n5);P7.prototype.isInstantDoco=g("D");P7.prototype.getPosition=g("cd");P7.prototype.getInstantDocoSpacerIndex=g("C");P7.prototype.isInstantDoco=P7.prototype.isInstantDoco;P7.prototype.getInstantDocoSpacerIndex=P7.prototype.getInstantDocoSpacerIndex;function xBh(a){this.F=a}xBh.prototype.C=function(a,b){return b?(a=this.F.ud(b.Aj))?e7(a)?["Toimintokohde poistettiin."]:["Kommentti poistettu"]:[]:[]};xBh.prototype.D=m(0);function yBh(a,b){this.cd=a;this.Hq=b;return this}u(yBh,n5);yBh.prototype.getPosition=g("cd");yBh.prototype.getAnchorId=g("Hq");yBh.prototype.getPosition=yBh.prototype.getPosition;yBh.prototype.getAnchorId=yBh.prototype.getAnchorId;function zBh(a){A.call(this);this.C=a}u(zBh,A);function cwh(a,b){var c=c7(a.C).$a;if(c){var d=new vj,e=b.C;null!=b.L?M(d,1,2):null!=e?M(d,1,3):M(d,1,1);ABh(a,d,b.D);b.J&&(a=czh(g7(a.C)).C.clone(),cj(d,10,a));a=new bvh;b.Hq&&M(a,1,b.Hq);c(b.H,b.F||void 0,d,a)}}
function y7(a,b){var c=c7(a.C).$a;if(c){var d=b.ud();var e=new vj;var f=d.Lsa();e=M(e,2,f);null!=d.Qy()&&(f=uuh(d.Qy()).length,M(e,8,f));null!=b.wx&&(f=b.wx.Lsa(),M(e,3,f));if(null!=b.C){var h=b.C;switch(h.getOriginatingDocoType()){case "discussion":M(e,4,1);break;case "draft":M(e,4,2);break;case "instant-doco":M(e,4,3);break;case "smart-todo":M(e,4,4);f=new P5d;var k=new L5d;var l=!h.isTodo();k=M(k,1,l);h=h.isWrongAssignee();h=M(k,2,h);cj(f,2,h);cj(e,5,f);break;case "suggestion":M(e,4,5);break;default:M(e,
4,0)}}null!=b.D&&M(e,7,b.D);null!=c7(a.C).Qa&&(f=c7(a.C).Qa,cj(e,12,f));null!=c7(a.C).L&&(f=c7(a.C).L==d.getId(),M(e,13,f));f=d.vG();h=e7(d);null!=f?M(e,1,2):null!=h?M(e,1,3):M(e,1,1);ABh(a,e,d.getId());b.L&&(a=czh(g7(a.C)).C.clone(),cj(e,10,a));a=new bvh;d=u7(b.ud());a=M(a,1,d);c(b.J,b.H||void 0,e,a)}}function ABh(a,b,c){a=g7(a.C).O;null!=c&&b.Bg(null!=a&&c==a.getId())}zBh.prototype.Ja=function(){A.prototype.Ja.call(this)};function BBh(){}BBh.prototype.C=function(){return["Kommenttia muutettu"]};BBh.prototype.D=m(0);function CBh(a,b,c){b=ia(b);for(var d=b.next();!d.done;d=b.next())d=d.value,d.flags&c&&(d.Xo&&a.addDocoHandle(d.Xo),d.Cm&&a.addAnchorId(d.Cm));return a};function DBh(a,b){this.C=a;this.D=b}y(DBh,wBh);oa("docos.api.FeedbackArgs",DBh,void 0);DBh.prototype.getFeedback=g("D");DBh.prototype.getFeedback=DBh.prototype.getFeedback;function EBh(a){this.C=a}y(EBh,n5);oa("docos.api.HighlightDocoArgs",EBh,void 0);EBh.prototype.isOriginInStreamOrGutter=g("C");EBh.prototype.isOriginInStreamOrGutter=EBh.prototype.isOriginInStreamOrGutter;function FBh(a){var b=a.aJb,c=a.jc,d=a.MJb;a=a.bJb;return S('<div id="docs-instant-button-bubble" class="'+T("docs-material")+" "+(c?T("docs-instant-button-bubble-transformation-rtl"):T("docs-instant-button-bubble-transformation-ltr"))+(d?" "+T(d):"")+'" role="button" tabindex="-1"><div class="'+T("docs-instant-button-bubble-icon-container")+(a?" "+T(a):"")+'"><span class="'+T("docs-instant-button-bubble-icon")+(b?" "+T(b):"")+'"></span></div></div>')};function GBh(a,b,c,d){c=void 0===c?[]:c;d=void 0===d?[]:d;var e=ey(dy,0<c.length?c[0]:"docs-instant-button");gy.call(this,void 0,e,b);this.R=a;this.J=c;this.L=d;this.F=!1;this.H=0;this.O=-1;this.D=this.C=null;ly(this,2,!0)}u(GBh,gy);p=GBh.prototype;p.Ca=function(){var a=this.qa(),b={jc:!1};b.aJb=this.R.join(" ");ad(this.J)||(b.MJb=this.J.join(" "));ad(this.L)||(b.bJb=this.L.join(" "));this.jb(Sx(FBh,b,void 0,a))};
function HBh(a,b,c,d,e){var f=void 0;c=void 0===c?0:c;d=void 0===d?-1:d;f=void 0===f?1:f;if(a.Gb()){var h=0>=c;a.isVisible()||h?(IBh(a),JBh(a,b,d,f),e&&e()):(a.D=new KBh(b,d,f,e),b=!a.C,h||b||IBh(a),a.C||(a.C=ip(function(){JBh(a,a.D.F,a.D.D,a.D.getOpacity());var k=a.D.Ud;k&&k();a.D=null;a.C=null},c,a)))}}
p.nf=function(a){if(this.Gb()){if(void 0===a?0:a)Lv(this.getElement(),"top","0px"),ex(this.getElement(),"docs-instant-quick-hide");this.isVisible()&&(gx(this.getElement(),"docs-instant-button-visible"),bw(this.La(),0),this.F=!1);IBh(this)}};p.dg=function(a){this.isVisible()&&(gy.prototype.dg.call(this,a),a.stopPropagation())};p.gm=function(a){this.isVisible()&&(gy.prototype.gm.call(this,a),a.stopPropagation())};p.DP=function(a){this.isVisible()&&a.stopPropagation()};
function JBh(a,b,c,d){a.O=c;a.getElement().style.top=b+"px";a.getElement().style.opacity=d;gx(a.getElement(),"docs-instant-quick-hide");ex(a.getElement(),"docs-instant-button-visible");a.H=b;a.F=!0}function IBh(a){a.C&&(jp(a.C),a.C=null)}p.isVisible=function(){Vw(this.getElement(),"docs-instant-button-visible");return this.F};function KBh(a,b,c,d){this.F=a;this.D=b;this.C=c;this.Ud=d}KBh.prototype.getOpacity=g("C");function LBh(a,b){b7.call(this,a,b);this.D=null;this.F=a}u(LBh,b7);LBh.prototype.Ca=function(){b7.prototype.Ca.call(this);this.D=new GBh(["docos-icon-img","docos-icon-img-hdpi","docos-instant-icon-img","docos-icon-instant-docos-ltr","docos-instant-button-bubble-icon"],this.qa());this.D.render();this.Va(this.D.getElement())};
LBh.prototype.Ia=function(){b7.prototype.Ia.call(this);c7(this.F).D.C(this.getElement(),"Lis\u00e4\u00e4 kommentti");this.D.isVisible()||c7(this.F).D.D(this.getElement(),!0);this.D.Ia();d7(this,this.D,"action",this.H)};function MBh(a,b,c,d){fz(a.D.getElement(),"docos");c7(a.F).D.D(a.getElement(),!1);var e=a.D.H;HBh(a.D,b,c,d,function(){e!=b&&c7(a.F).D.nf(a.getElement())})}LBh.prototype.nf=function(a){this.D.isVisible()&&c7(this.F).D.D(this.getElement(),!0);this.D.nf(a)};
LBh.prototype.H=function(){this.nf();this.dispatchEvent("create-draft")};function NBh(a,b){A.call(this);this.D=a;this.F=c7(a);this.C=b;this.H=new Fz(this);a=i7(this.D);this.H.Nb(a.Ra("docos-edit-reply"),zs,this.d2b).Nb(a.Ra("docos-delete-reply"),zs,this.N1b).Nb(a.Ra("docos-edit-doco"),zs,this.$1b).Nb(a.Ra("docos-edit-draft"),zs,this.c2b)}u(NBh,A);function OBh(a,b,c,d,e,f){return Q7(a,v(a.IJb,a,b,c,d,e,void 0===f?!1:f))}p=NBh.prototype;p.IJb=function(a,b,c,d,e,f,h){if(PBh(h))return a=awh(this.C,a,b,c,d,e),f.zj.callback(a),a;f.zj.callback(0);return 0};
p.KJb=function(a,b,c,d,e,f){if(PBh(f))return a=dwh(this.C,a,b,c,d),e.zj.callback(a),a;e.zj.callback(0);return 0};p.HJb=function(a,b,c,d,e,f){if(PBh(f))return a=ewh(this.C,a,b,c,d),e.zj.callback(a),a;e.zj.callback(0);return 0};function QBh(a,b){return Q7(a,v(a.J6b,a,b))}p.c2b=function(a){var b=this,c=a.data;xp(Q7(this,v(this.b2b,this,c.Aj,c.text)),function(d){d&&c.rDa&&h7(f7(b.D),c.rDa);return d})};p.b2b=function(a,b,c,d){R7(v(this.C.a2b,this.C,a,b),c,d)};
p.J6b=function(a,b,c){R7(v(this.C.aab,this.C,a),b,c)};function RBh(a,b,c,d,e,f,h){return Q7(a,v(a.O5a,a,b,c,d,e,f,h))}
p.O5a=function(a,b,c,d,e,f,h,k){if(PBh(k)){k=this.C;var l,n;a&&(n=azh(g7(k.C),a))&&"instant-doco"==n.rs&&(l=31);var q=Gvh(43009);null!=n&&Hvh(q,n.getId());null!=l&&(q.F=l);n&&n.tA()&&a!=b&&fwh(g7(k.C),n.getId());a=ef();l=La();n=Uuh(Quh(n7(new m7(a)),l),k.F.ih());c&&o7(n,c,l);d&&(c=(new Tsh).setType("text/plain").setValue(d),cj(n.C,9,c));e&&(Puh(n,e),q.J=e);f&&(Tuh(n,f),q.C=f);e=w7(v7(n),!0);M(e.C,3,l);b&&(Qvh(e,b),Ivh(q,b));z7(g7(k.C),e);g7(k.C).flush();cwh(k.D,Jvh(q));b=x7(g7(k.C),a);h.zj.callback(b);
return b}h.zj.callback(0);return 0};p.$1b=function(a){var b=a.data;xp(Q7(this,v(this.Keb,this,b.id,b.text)),function(c){c||b.tna.dispatchEvent("c")})};p.Keb=function(a,b,c,d){R7(v(this.C.Jeb,this.C,a,b),c,d)};p.N1b=function(a){a=a.data;xp(Q7(this,v(this.M1b,this,a.Aj,a.Fxa)),ba())};p.M1b=function(a,b,c,d){R7(v(this.C.m$a,this.C,a,b),c,d)};p.d2b=function(a){var b=a.data;xp(Q7(this,v(this.Meb,this,b.Aj,b.Fxa,b.text)),function(c){c||b.tna.dispatchEvent("c")})};
p.Meb=function(a,b,c,d,e){R7(v(this.C.Leb,this.C,a,b,c),d,e)};p.P5a=function(a,b,c,d,e,f){R7(v(this.C.X$a,this.C,a,b,c,d),e,f)};p.ncc=function(a,b,c,d){R7(v(this.C.cab,this.C,a,b),c,d)};p.occ=function(a,b,c,d,e){R7(v(this.C.dab,this.C,a,b,c),d,e)};p.p7b=function(a,b,c,d,e){R7(v(this.C.bab,this.C,a,b,c),d,e)};function R7(a,b,c){PBh(c)?(a(),b.zj.callback(!0)):b.zj.callback(!1)}p.i$a=function(a,b,c,d){R7(v(this.C.Y$a,this.C,a,b),c,d)};
p.vbc=function(a,b,c){if(PBh(c))return a=gwh(this.C,a),b.zj.callback(a),a;b.zj.callback(0);return 0};p.Y8b=function(a,b,c,d){R7(v(this.C.PFa,this.C,a,b),c,d)};p.l$a=function(a,b,c){R7(v(this.C.$$a,this.C,a),b,c)};p.k$a=function(a,b,c){R7(v(this.C.Z$a,this.C,a),b,c)};function SBh(a,b,c,d){return Q7(a,v(a.v5a,a,b,c,d))}p.v5a=function(a,b,c,d,e){if(PBh(e))return a=lwh(this.C,a,b,c),d.zj.callback(a),a;d.zj.callback(0);return 0};
p.tCa=function(a,b,c,d){if(PBh(d))return a=pwh(this.C,a,b),c.zj.callback(a),a;a=[];c.zj.callback(a);return a};function Q7(a,b){var c=new vp,d={zj:c};(a=a.F.He)?a(d,b):b(d,"edit-not-intercepted");return c}function PBh(a){return"warning-accepted"==a||"edit-not-intercepted"==a?!0:!1};function TBh(a,b){A.call(this);this.C=[];this.F=new qth(a);this.D=rth(this.F,"user");this.J=rth(this.F,"control");this.Ed=new hp(b||50);this.Ed.start();Pn(this.Ed,"tick",this.fYa,!1,this);this.J.sf("setPeerReady_",v(this.b9b,this))}y(TBh,A);p=TBh.prototype;p.connect=function(a){a&&a()};p.isConnected=m(!0);p.fYa=function(){try{this.J.send("setPeerReady_",this.H?"1":"")}catch(a){throw this.Ed.stop(),a;}};p.sf=function(a,b,c){this.D.sf(a,b,c)};p.zL=function(a){this.D.zL(a)};
p.send=function(a,b){this.H?this.D.send(a,b):this.C.push({uY:a,Pl:b})};p.b9b=function(a){a?this.Ed.stop():this.Ed.start();if(!this.H){this.H=!0;this.fYa();for(a=0;a<this.C.length;a++){var b=this.C[a];this.D.send(b.uY,b.Pl)}this.C=null}};p.Ja=function(){Hf(this.F);Hf(this.Ed);TBh.Ua.Ja.call(this)};function UBh(a){Wn.call(this);this.C=a;this.Ma=new Xn(this);this.va(this.Ma);this.Ma.listen(this.C,"u",this.D);this.C.Td(this)}y(UBh,qwh);UBh.prototype.D=function(a){var b=fvh(a.Pl.p,"u");b&&(b.unshift("u"),this.dispatchEvent(new rwh("u",new kth(b))));a.stopPropagation()};function twh(a,b,c,d,e,f,h,k){var l;d&&(l=function(n){0<n.length&&wa(n[0])&&d(n[0])});a.C.RFa(b,c?c.Mf():void 0,l,e,f,h,k)};function VBh(a,b,c){hJe.call(this);c&&(this.D=c.F.C(this.D));this.C=a;this.va(this.C);this.C.zL(v(this.D,this));this.F=b}y(VBh,hJe);VBh.prototype.send=function(a,b){Aa(b)&&(b=Zl(b));this.C.send(a,{t:this.F,p:b})};VBh.prototype.D=function(a,b){iJe(this,a,b)};VBh.prototype.g9=function(a,b,c){b=VBh.Ua.g9.call(this,a,b,!0);if(!b)return null;var d=b.t;return d&&d==this.F?VBh.Ua.g9.call(this,a,b.p,c):null};function WBh(){Wn.call(this)}y(WBh,Wn);function XBh(a,b,c,d,e,f,h){c=void 0===c?[]:c;Wn.call(this);var k=this;this.C=null;this.H=a;this.R=c;this.L=e;this.J=new zn;this.va(this.J);An(this.J,this.H.getStatus().C,function(l){l.D.Xj()&&Rk(l.C)?k.dispatchEvent(new rwh("r")):Sk(l.C)&&k.dispatchEvent(new rwh("e"))});this.F=function(l){l&&k.dispatchEvent(new rwh("u",l))};d&&(this.C=d,this.C.subscribe("9",this.F));this.D=f;this.O=h;this.ma=0;this.V=b}u(XBh,WBh);
XBh.prototype.QFa=function(a){if(!this.D||!this.O)throw Error("Cannot create browser channel without Docos config and session ID.");if(this.D.t9)throw Error("Cannot control BrowserChannel if it is enabled in KeyData");this.C&&(this.C.unsubscribe("9",this.F),this.C.dispose(),this.C=null);if(a){a=new uIa;var b=this.D.ih().getId();a.R=b;HHa(a,this.D.u9,this.O,this.D.Yma);this.C=a;this.C.subscribe("9",this.F)}};
XBh.prototype.RFa=function(a,b,c,d,e,f,h){b=b?["p",Zl(b)]:[];YBh(this,b,"/docos/p/"+a,c,d,e,f,h)};function YBh(a,b,c,d,e,f,h,k){var l=["reqid",a.ma++];b=b?Pva(b):void 0;c=hq(a.H.Te(c),a.R.concat(l));0<b.length&&c.setContent(b);a.V&&c.Zp();h?Uk(c,h):Uk(c,3);d&&Wk(c,function(n){d(n.De())});e&&Vk(c,e,f);k&&jq(c,k);null!=a.L&&(c.Qa=a.L);c.Re()}XBh.prototype.Ja=function(){this.C&&(this.C.unsubscribe("9",this.F),this.C.dispose());WBh.prototype.Ja.call(this)};function ZBh(a,b,c){this.seq=$Bh++;this.type=a;this.payload=b||null;this.rseq=0;this.httpMethodHeader=c||null}var $Bh=1;function aCh(a){Wn.call(this);this.C=a;this.C.sf("recv",v(this.M3b,this),!0);this.C.sf("recvEvt",v(this.L3b,this),!0);this.D={}}y(aCh,WBh);p=aCh.prototype;p.M3b=function(a){var b=this.D[a.rseq];b&&(b(a.payload),delete this.D[a.rseq])};p.L3b=function(a){this.dispatchEvent(new rwh(a.type,a.payload))};p.QFa=function(a){this.C.send("connectBrowserChannel",a.toString())};p.RFa=function(a,b,c,d,e,f,h){a=new ZBh(a,b,h);c&&(this.D[a.seq]=c);this.C.send("send",a)};p.Ja=function(){aCh.Ua.Ja.call(this);delete this.C};function bCh(a){A.call(this);this.F=a;this.D=this.C=null}u(bCh,A);
function cCh(a){if(a.C)return a.C;var b=c7(a.F),c=b.Xma;if(void 0!==c)return c&&(a.C=new UBh(c),a.va(a.C)),a.C;if(b.MFa){var d=Wad();c=new tHa(new j4b,void 0,void 0,void 0,new hFa,void 0,void 0,gHa(cHa(d)));var e=b.Yma;e&&c.A4(e);var f=b.OFa;f&&CHa(c,f);b.IHa&&nFa(c.D,"anon","true");(f=b.KPa)&&nFa(c.D,"invite",f);f=null;if(b.t9){f=new uIa;var h=b.ih().getId();f.R=h;pFa(c.H,f);HHa(f,b.u9,d,e)}b=new XBh(c,!0,["id",b.u9],f,null!=b.u0?b.u0:6E4,b,d);b.va(c);a.C=new UBh(b);a.va(a.C);a.va(b);return a.C}b=
b.gWa;if(!b)throw Error("Peer missing.");c={};d=new Ll(window.location.href);(e=Ul(d,"docos-tp"))&&(c.tp=parseInt(e,10));"/"==b.charAt(0)&&(b=d.resolve(new Ll(b)).toString());d=Wad();b=(new Ll(b)).zc("ctoken",d).toString();c.pu=b;a.D=po("div");a.D.style.display="none";document.body.appendChild(a.D);b=new nX(c);sMe(b,a.D);b.connect();b=new TBh(b);c=Wth(a.F);b=new VBh(b,d,c);c=new aCh(b);a.C=new UBh(c);a.va(a.C);a.va(c);a.va(b);return a.C}
bCh.prototype.Ja=function(){delete this.C;this.D&&(document.body.removeChild(this.D),this.D=null);A.prototype.Ja.call(this)};function dCh(a,b){this.C=a;this.F=b}dCh.prototype[Rqa]=!0;function S7(a,b,c){var d=La();b();b=La()-d;a.F.$n(c,b)}p=dCh.prototype;p.bna=function(a,b,c){a=v(this.C.bna,this.C,a,b,c);S7(this,a,"dvmhd")};p.highlightNext=function(a,b,c){a=v(this.C.highlightNext,this.C,a,b,c);S7(this,a,"dvmhn")};p.highlightPrevious=function(a,b,c){a=v(this.C.highlightPrevious,this.C,a,b,c);S7(this,a,"dvmhp")};p.DI=function(){var a=v(this.C.DI,this.C);S7(this,a,"dvmla")};
p.oy=function(){var a=v(this.C.oy,this.C);S7(this,a,"dvmfl")};p.mT=function(a){a=v(this.C.mT,this.C,a);S7(this,a,"dvmadv")};p.ZY=function(a){a=v(this.C.ZY,this.C,a);S7(this,a,"dvmudv")};p.nR=function(a){a=v(this.C.nR,this.C,a);S7(this,a,"dvmrdv")};p.Lj=function(){return this.C.Lj()};p.iya=function(a){this.C.iya(a)};p.EO=function(){return this.C.EO()};p.gq=function(){return this.C.gq()};p.yU=function(){return this.C.yU()};p.zU=function(){return this.C.zU()};p.qa=function(){return this.C.qa()};
p.hF=function(){return this.C.hF()};p.E$=function(){return this.C.E$()};p.yha=function(a,b){return this.C.yha(a,b)};p.Nfa=function(){this.C.Nfa()};p.Lfa=function(){this.C.Lfa()};p.FT=function(a,b){return this.C.FT(a,b)};p.kI=function(a,b){this.C.kI(a,b)};p.ana=function(){return this.C.ana()};p.OI=function(a){this.C.OI(a)};p.x9=function(a){return this.C.x9(a)};p.v0=function(){return this.C.v0()};p.w0=function(a){this.C.w0(a)};p.dispose=function(){this.C.dispose()};p.isDisposed=function(){return this.C.isDisposed()};
p.listen=function(a,b,c,d){return this.C.listen(a,b,c,d)};p.Rc=function(a,b,c,d){return this.C.Rc(a,b,c,d)};p.Gc=function(a,b,c,d){return this.C.Gc(a,b,c,d)};p.iS=function(a){return this.C.iS(a)};p.dispatchEvent=function(a){return this.C.dispatchEvent(a)};p.oB=function(a){return this.C.oB(a)};p.Go=function(){return this.C.Go()};p.uO=function(a,b,c){return this.C.uO(a,b,c)};p.tJ=function(a,b){return this.C.tJ(a,b)};p.rC=function(a,b,c,d){return this.C.rC(a,b,c,d)};
p.hasListener=function(a,b){return this.C.hasListener(a,b)};p.dU=function(){return this.C.dU()||this.C};p.$ma=function(a){this.dU().$ma(a)};p.equals=function(a){return this===a};p.hya=function(a){this.dU().hya(a)};function eCh(a,b){dCh.call(this,a,b);this.D=a}u(eCh,dCh);p=eCh.prototype;p.w9=function(a){a=v(this.D.w9,this.D,a);S7(this,a,"davmddp")};p.cU=function(a){a=v(this.D.cU,this.D,a);S7(this,a,"davmudp")};p.zI=function(a){a=v(this.D.zI,this.D,a);S7(this,a,"davmfdp")};p.getDocoMaxHeight=function(a){return this.D.getDocoMaxHeight(a)};p.Zma=function(a,b){this.D.Zma(a,b)};function fCh(a,b,c){Wn.call(this);this.C=a;this.xa=b;this.V=c||null;this.Ma=new Xn(this);this.va(this.Ma);this.J=a.get("netIo");this.O=!0;this.F="not-in-progress";this.H=!1;this.L=this.D=this.R=null;this.ma=new Fz(this);this.va(this.ma);this.Ma.listen(this.J,"r",this.K3b).listen(this.J,"u",this.F4b).listen(this.J,"e",this.MMb);this.Ma.listen(g7(a),["dd"],this.LMb).listen(g7(a),"bu",this.KMb)}u(fCh,Wn);
function gCh(a,b){switch(a.F){case "in-progress":return a.D;case "blocked":return hCh(a,b),a.D;case "not-in-progress":return a.D||(a.D=new vp),a.F="in-progress",hCh(a,b),a.D;default:throw Error("Invalid status: "+a.F);}}function hCh(a,b){a.H?a.F="blocked":(a.F="in-progress",a.uRa(b))}function iCh(a,b,c){c=void 0===c?null:c;var d=a.D;a.D=null;a.F="not-in-progress";b?d.Kd(null):d.callback(c)}p=fCh.prototype;
p.uRa=function(a){for(var b=g7(this.C),c=dzh(b),d=[],e=0;e<c.length;e++){d.push(kj(c[e].F));var f=c[e].getId();fd(b.H,f)}b=new yth;d=ej(b,1,d);this.L&&M(d,2,this.L);c7(this.C).Cb&&(b=c7(this.C).Cb,M(d,5,b));twh(this.J,"sync",d,v(this.I2b,this),v(this.H2b,this),!1,a?a:void 0)};p.H2b=function(){this.O=!1;iCh(this,!0)};p.MMb=function(){this.dispatchEvent("net-error")};
p.I2b=function(a){a=new hth(a);var b=this.O;this.O=!1;var c=La();if(b){var d=T7(this.xa,"model-loaded");if(d){var e=(new Z6("model-loaded")).build();d(e)}}d=g7(this.C);try{if(jCh(this,a,b),this.L=K(a,2),ezh(d))ip(v(this.uRa,this));else{var f=La()-c;iCh(this,!1,b?f:void 0);this.V&&this.V.$n("dscat",f)}}catch(h){throw ip(function(){throw h;}),h;}};
function jCh(a,b,c){var d=g7(a.C),e=bzh(d),f=bj(b,T6,1);b=0<f.length;var h=g7(a.C),k=[];f=ia(f);for(var l=f.next();!l.done;l=f.next()){l=kj(l.value);var n=S6(l),q=Yyh(h,n.getId(),K(n,11));n=!0;if(q)a:{var r=a,w=g7(r.C);n=S6(l);delete e[q.getId()];var x=q.getId();if($c(w.H,x))n=!1;else{x=q.getId();if(x=$c(w.Ha,x)){if(l7(q.C)){kCh(r,q);n=!1;break a}r=q.getId();fd(w.Ha,r)}M(l,9,!1);M(n,12,!1);void 0===K(n,13)&&M(n,13,0);q=Yd(q.D);w=ia(R6(n));for(r=w.next();!r.done;r=w.next())r=r.value,M(r,12,!1),void 0===
K(r,13)&&M(r,13,0),delete q[r.getId()||""],delete q[K(r,11)||""];w=[];r=ia(Object.keys(q));for(x=r.next();!x.done;x=r.next())w.push(lCh(kj(q[x.value].C)));q=R6(n);ej(n,8,id(q,w));n=!0}}n&&k.push(new Pvh(l))}kwh(h,k,"n");h=ia(dzh(d));for(k=h.next();!k.done;k=h.next())k=k.value,l7(k.C)&&void 0===k.C.C.getId()&&kCh(a,k);if(c)for(a=ia(Object.keys(e)),h=a.next();!h.done;h=a.next())h=e[h.value],Nvh(h)||void 0===h.C.C.getId()&&!l7(h.C)||(b=!0,h=kj(h.F),S6(h),k=S6(h),ej(k,8,[]),f=La(),M(k,13,f),M(k,12,!1),
M(h,9,!1),z7(d,new Pvh(h),"n"));b&&d.flush(c)}function kCh(a,b){a=g7(a.C);var c=kj(b.F),d=S6(c);M(c,9,!1);M(d,12,!1);b=b.getId();fd(a.H,b);z7(a,new Pvh(c),"n")}function lCh(a){var b=La();M(a,13,b);M(a,12,!1);return a}p.K3b=function(){var a=12E4*Math.random();null!==this.R&&jp(this.R);this.R=ip(function(){gCh(this,c7(this.C).Ica?1:void 0)},a,this)};
p.F4b=function(a){if(a.Pl){var b=a.Pl;a=g7(this.C);var c=0;b=bj(b,T6,1);b=ia(b);for(var d=b.next();!d.done;d=b.next()){d=kj(d.value);var e=S6(d);e=Yyh(a,e.getId(),K(e,11));e&&e.cQ()||(z7(a,new Pvh(d),"n"),c++)}0<c&&g7(this.C).flush()}};p.LMb=function(a){"n"!=a.O&&Xyh(g7(this.C))&&gCh(this)};p.KMb=function(a){"n"!=a.source&&Xyh(g7(this.C))&&gCh(this)};p.Ja=function(){Wn.prototype.Ja.call(this);delete this.C;delete this.Ma;delete this.ma};function mCh(a,b,c){A.call(this);this.H=a;this.C=b;this.F=c;this.Ma=new Xn(this);this.va(this.Ma);this.D=null;this.O=!1;this.J=null}u(mCh,A);function nCh(a){if(!Gsh(a.H,"netIo"))return!1;a.D=new fCh(a.H,a.F,a.C.R||void 0);a.va(a.D);a.Ma.listen(a.D,"net-error",a.R);return!0}mCh.prototype.R=function(){oCh(this.F,"fe")};function pCh(a){a.O=!0;a.J=La();zp(xp(gCh(a.D,a.C.cD?1:void 0),a.L,a),a.V,a)}function qCh(a){if(jvh(a.C)){var b=a.D.D;b?xp(b,function(){return rCh(a)}):rCh(a)}}
mCh.prototype.L=function(a){var b=this.C.R;b&&b.Eya(czh(g7(this.H)).C.clone().serialize());if(b=T7(this.F,"sync-success")){var c=(new Z6("sync-success")).build();b(c)}(b=T7(this.F,"initial-anchored-render-done"))&&null!==a&&b(new Kth("initial-anchored-render-done",a));(a=T7(this.F,"initial-sync-and-render-complete"))&&a(new Kth("initial-sync-and-render-complete",La()-this.J));oCh(this.F,"s");oCh(this.F,"r")};
mCh.prototype.V=function(){var a=T7(this.F,"sync-error");if(a){var b=(new Z6("sync-error")).build();a(b)}oCh(this.F,"e")};function rCh(a){a.D.L=null;gCh(a.D,a.C.Ica?1:void 0)};function sCh(){}sCh.prototype.C=function(a,b){return b?b.t_?["Toimintokohde luotiin."]:["Kommentti luotu"]:[]};sCh.prototype.D=m(0);function tCh(){}tCh.prototype.C=function(){return["Vastaus lis\u00e4tty"]};tCh.prototype.D=m(0);function uCh(a){var b=a.f6a,c=a.hJb,d=a.E0b;a=S;var e='<div class="'+T("docos-notificationdialog-content")+'">',f='<div class="'+T("docos-notificationdialog-header")+'">';f=f+'Ilmoita seuraavista::</div><div><input type="radio" name="docos-notificationdialog-notify" value="all" id="'+(T(b)+'" class="'+T("docos-notificationdialog-control")+'"/><label for="'+T(b)+'" class="'+T("docos-notificationdialog-label")+'">');f=f+'Kaikki kommentit</label></div><div><input type="radio" name="docos-notificationdialog-notify" value="important" id="'+
(T(c)+'" class="'+T("docos-notificationdialog-control")+'"/><label for="'+T(c)+'" class="'+T("docos-notificationdialog-label")+'">');f=f+'Vain maininnat ja omien kommenttieni vastaukset</label></div><div><input type="radio" name="docos-notificationdialog-notify" value="none" id="'+(T(d)+'" class="'+T("docos-notificationdialog-control")+'"/><label for="'+T(d)+'" class="'+T("docos-notificationdialog-label")+'">');b=S(f+"Ei mit\u00e4\u00e4n</label></div>");b=e+b;c='<a class="'+T("docos-notificationdialog-help")+
'" href="https://support.google.com/docs?p=comments_guide" target="_blank">';c=S(c+"Ohje</a>");return a(b+c+"</div>")};function vCh(a){eX.call(this);this.V=a;this.Ha=c7(a);this.C=[];this.ma=this.R=this.O=null;this.setTitle("Ilmoitusasetukset")}u(vCh,eX);p=vCh.prototype;
p.Ca=function(){eX.prototype.Ca.call(this);ex(xx(this),"docos");var a=Da(xx(this));this.O="docos-notificationdialog-all"+a;this.R="docos-notificationdialog-important"+a;this.ma="docos-notificationdialog-none"+a;Qx(this.Hb(),uCh,{f6a:this.O,hJb:this.R,E0b:this.ma});Ox(this,"ok");a=this.Ha.Za;null!==a&&(Lv(this.nq(),"z-index",a),Lv(xx(this),"z-index",a+1))};
p.Ia=function(){eX.prototype.Ia.call(this);var a=this.qa();this.F=a.getElement(this.O);this.F.value="all";this.H=a.getElement(this.R);this.H.value="important";this.L=a.getElement(this.ma);this.L.value="none";this.C=[this.F,this.H,this.L];this.xa=Ex(this.D,"ok");Pn(this.F,"click",v(this.gAa,this));Pn(this.H,"click",v(this.gAa,this));Pn(this.L,"click",v(this.gAa,this))};
p.update=function(){this.xa.disabled=!0;wCh(Gwh(this.V)).then(function(a){for(var b=ia(this.C),c=b.next();!c.done;c=b.next())if(c=c.value,c.value==a){c.checked=!0;break}},void 0,this)};p.Oxa=function(){for(var a=null,b=0;b<this.C.length;b++)if(this.C[b].checked){a=this.C[b].value;break}xCh(Gwh(this.V),a)};p.gAa=function(){var a=this;wCh(Gwh(this.V)).then(function(b){for(var c=!0,d=ia(a.C),e=d.next();!e.done;e=d.next())if(e=e.value,e.value==b&&e.checked){c=!1;break}a.xa.disabled=!c},void 0,this)};
p.vd=function(){Vn(this.F);Vn(this.H);Vn(this.L)};p.Ja=function(){eX.prototype.Ja.call(this);delete this.xa;delete this.F;delete this.H;delete this.L};function yCh(a,b,c){this.key=a;this.data=b;this.dirty=c;this.key=this.key;this.data=this.data;this.dirty=this.dirty}oa("docos.api.StorageUpdate",yCh,void 0);function zCh(a,b){if(a){b||a.unshift(void 0);ACh(a[2],b);var c=a[5];c&&(b||c.unshift(void 0),BCh(c[2],b),zCh(c[3],b),b&&c.shift());b&&a.shift()}}function BCh(a,b){a&&(b?a.shift():a.unshift(void 0))}
function ACh(a,b){if(a){b||a.unshift(void 0);BCh(a[3],b);BCh(a[4],b);var c=a[5];c&&(b?c.shift():c.unshift(void 0));if(c=a[14]){b||c.unshift(void 0);var d=c[3];d&&(b?d.shift():d.unshift(void 0));(d=c[7])&&(b?d.shift():d.unshift(void 0));b&&c.shift()}if(a[8])for(c=0;c<a[8].length;c++)ACh(a[8][c],b);(c=a[9])&&(b?c.shift():c.unshift(void 0));if(c=a[18])b||c.unshift(void 0),(d=c[1])&&(b?d.shift():d.unshift(void 0)),b&&c.shift();(c=a[19])&&(b?c.shift():c.unshift(void 0));b&&a.shift()}};function CCh(a){A.call(this);this.D=a;this.C=c7(a).tc;this.H=[];this.F=[];c7(a).Vc||(this.Ma=new Xn(this),this.va(this.Ma),this.Ma.listen(g7(a),["f","dd"],this.fab).listen(g7(a),"bu",this.eab))}y(CCh,A);p=CCh.prototype;p.fab=function(a){if("o"!=a.O&&this.C)if("f"==a.type){if(this.H.length||this.F.length){a=kd(this.H);var b=kd(this.F);this.C.Q0a(a,b,v(this.RHb,this,a),v(this.PHb,this,b));this.H=[];this.F=[]}}else DCh(this,a.type,a.C,a.R)};
p.eab=function(a){if("o"!=a.source&&this.C)for(var b=ia(a.C),c=b.next();!c.done;c=b.next())c=c.value,DCh(this,a.type,c.Aj,c.C)};function DCh(a,b,c,d){if(c){var e;"bu"==b?e=g7(a.D).ud(c):e=g7(a.D).F[c];(b=e)&&l7(b.C)&&void 0===b.C.C.getId()?a.F.push(c):b&&!Nvh(b)&&(e=kj(b.F).Mf(),e=Zd(e),zCh(e,!1),b=new yCh(c,e,b.cQ()),a.H.push(b),d&&d!=c&&a.F.push(d))}}p.RHb=function(a){for(var b=0;b<a.length;b++);};
p.PHb=function(a,b,c){for(var d="",e=0;e<a.length;e++)d+="Put failure for docoId: "+a[e]+".\n";b&&(d+="Error message: "+b);ECh(this,d,c)};p.Fub=function(a,b){if(0<b.length){for(var c=g7(this.D),d=0;d<b.length;d++){wa(b[d]);var e=Zd(b[d]);zCh(e,!0);e=new T6(e);z7(c,new Pvh(e),"o")}c.flush(!0)}a()};p.Eub=function(a,b,c){var d="#inSync failure";b&&(d+=", message: "+b);ECh(this,d,c);a()};
function ECh(a,b,c){if(a=Wth(a.D))c&&void 0!==c.message?(c.message=b+"  Original message: "+c.message,a.C(c)):a.C(Error(b))}p.Ja=function(){CCh.Ua.Ja.call(this);delete this.D;delete this.Ma;delete this.C};function FCh(a,b){var c=new G$e(new v$e([["AIzaSyBuUpn1wi2-0JpM3S-tq2csYx0z2_m_pqc","ANVavNLWozk6oXyP9qguyx4QAuef5j_qQw4Y3Rw",741,"MINIMAL_DOMAIN_GROUP","DOCOS_MENTIONS",null,null,null,null,!1,!0,null,null,250,null,"person.name,person.photo,person.email,person.metadata"],[]]));I$e(c,b);b=c.D;a=null!=K(a.C,50)?K(a.C,50):4;M(b,5,GCh(a));return Zcf(c)}function GCh(a){switch(a){case 4:return 1;case 2:return 2;case 1:return 3;case 7:return 4;default:return 1}};function HCh(a,b){this.F=a;this.D=b;this.H=c7(this.D);this.C=null};function ICh(a){this.F=a}ICh.prototype.C=function(a,b){if(!b)return[];a=b.D;return(b=this.F.ud(b.C))?e7(b)?a?["Merkitty valmiiksi"]:["Toimintokohde avattiin uudelleen."]:a?["Kommentti ratkaistu"]:["Kommentti avattu uudelleen"]:[]};ICh.prototype.D=m(0);function JCh(a,b){this.F=a;this.H=g7(this.F);this.J=b}
JCh.prototype.C=function(a,b){var c=this.H.ud(b);if(!c)return[];a=this.F.get("relativeDateFormatter");if(c.tA())return["Kommenttiluonnos"];b=[];c=Lvh(c,!0);for(var d=c.length-1,e=0;e<c.length;e++){var f=c[e];if(f.Zj()){var h=this.J;var k=f.L1();null==k?h="":(h=h(k).C(),h=null==h?"":ttd(h,itd.getInstance()))}else h=f.Uz();k=h;h="";0<e&&(h="Vastaus "+(e+("/"+(d+" "))));f=k+(", tekij\u00e4: "+(a7(f.Lv())+(", p\u00e4iv\u00e4m\u00e4\u00e4r\u00e4: "+a.format(Luh(f)))));b.push(h+f)}return b};
JCh.prototype.D=m(0);function KCh(a){this.x9b=a;return this}u(KCh,n5);KCh.prototype.shouldOverrideHide=g("x9b");KCh.prototype.shouldOverrideHide=KCh.prototype.shouldOverrideHide;function LCh(a){this.C=a}y(LCh,n5);oa("docos.api.ToggleShowStreamPaneArgs",LCh,void 0);LCh.prototype.getDisplay=g("C");LCh.prototype.getDisplay=LCh.prototype.getDisplay;function MCh(a){hA.call(this,a);this.Ri("back-to-document",[85]);this.Ri("next-doco",[74]);this.Ri("prev-doco",[75]);this.Ri("prev-anch",[75,1]);this.Ri("next-anch",[74,1]);this.Ri("resolve",[69]);this.Ri("reopen",[69,1]);this.Ri("reply",[82]);this.Ri("speak-comment",Qs(["A","C"]));this.addEventListener("shortcut",this.Ea)}u(MCh,hA);MCh.prototype.Ea=function(a){this.dispatchEvent(a.identifier)};function NCh(a,b,c){b=c||b;var d=a.yI,e=a.s0b;c=a.f7a;var f=a.e7a,h=a.Cn,k='<div class="'+T("docos")+" "+T("docos-streampane-container")+'" role="dialog" aria-label="';k+=Cw("Kommenttihistorian laatikko");var l='"><div class="'+T("docos-streampane-content")+'">';e?(a='<div class="'+T("docos-streampane-header")+'"><div class="'+T("docos-new-comment-button")+'">',b=b={Cn:h},e="",b.Cn?(e+='<div class="'+T("docos-ns-caption")+'">'+S('<svg class="'+T("docos-ns-caption-icon")+'" width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H4V4h16v12zm-9-5H7V9h4V5h2v4h4v2h-4v4h-2v-4z" id="docos_add_comment_24"/></defs><g fill="none" fill-rule="evenodd"><g transform="translate(-2 -2)"><mask fill="#fff"><use xlink:href="#docos_add_comment_24"/></mask><use fill="#000000" fill-rule="nonzero" class="docos-new-comment-icon-path" xlink:href="#docos_add_comment_24"/></g></g></svg>')+
'<div class="'+T("docos-ns-caption-text")+'">',e+="Kommentti</div></div>"):(e+='<div class="'+T("docs-material")+'">'+R(Oth({lh:"docos-icon-add-comment",rA:"docos-icon-add-comment-size",Ce:"docos-new-comment-icon",fQ:!0})),e+="Kommentti</div>"),b=S(e),a=a+R(b)+"</div>",d?(d='<div class="'+T("docos-notification-settings")+'">',h=h={Cn:h},h=h.Cn,h=S('<div class="'+T("docos-ns-caption")+'">'+(h?S('<svg class="'+T("docos-ns-caption-icon")+'" width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M12 11V7.16666667c0-2.55833334-.6083333-4.7-3-5.26666667l-.75-.56666667C8.25.64166667 7.69166667 0 7 0S5.75.64166667 5.75 1.33333333L5 1.9c-2.38333333.56666667-3 2.7-3 5.26666667V11H0v2h14v-2h-2zm-2 0H4V7.16666667C4 5.1 4.925 3 7 3s3 2.1 3 4.16666667V11zm-3 5c.91666667 0 2-1.0833333 2-2H5c0 .9166667 1.08333333 2 2 2z" id="docos_notifications_20_a"/></defs><g fill="none" fill-rule="evenodd"><g transform="translate(3 2)"><mask fill="#fff"><use xlink:href="#docos_notifications_20_a"/></mask><use fill="#000000" fill-rule="nonzero" class="docos-gm-notification-icon-path" xlink:href="#docos_notifications_20_a"/></g></g></svg>'):
R(Oth({lh:"docos-icon-bell",rA:"docos-icon-bell-size",Ce:"docos-ns-caption-icon"})))+'<div class="'+T("docos-ns-caption-text")+'"><div class="'+T("docos-ns-caption-text-value")+'"></div></div></div>'),h=d+R(h)+"</div>"):h="",h=a+h+"</div>"):(d=b,b=a.QB,h=a.yI,a=a.IH,d='<div class="'+T("docos-streampane-entryarea")+" "+T("hide-on-readonly")+'">'+R(Pth({size:48,Ce:"docos-streampane-avatar"}))+'<div class="'+T("docos-streampane-entryarea-content")+'"><div class="'+T("docos-streampane-username")+" "+
T("goog-inline-block")+'">'+R(b)+"</div>"+R(Qwh({Ce:"docos-streampane-input-pane",H$b:!0,IH:a},d)),h&&(d+='<div class="'+T("docos-streampane-notificationslink")+'">',d+="Ilmoitusasetukset</div>"),h=S(d+"</div></div>"));k+=l+h;c&&(k+='<div class="'+T("docos-streampane-bannertext")+'">'+R(c),f&&(k+='<a target="_blank" rel="noreferrer" href="'+T(Dw(f))+'" class="'+T("docos-streampane-bannerlink")+'">',k+="Lis\u00e4tietoja</a>"),k+="</div>");k+='<div class="'+T("docos-streampane-readonlytext")+" "+T("show-on-readonly")+
" "+T("goog-inline-block")+'">';return S(k+"Sinulla ei ole oikeuksia lis\u00e4t\u00e4 kommentteja.</div></div></div>")}function OCh(){var a='<div class="'+T("docos-streampane-error")+'">';return S(a+"Kommenttien l\u00e4hett\u00e4minen ei onnistu verkkovirheen takia. P\u00e4ivit\u00e4 sivu.</div>")};function PCh(){return S('<div class="'+T("docos-spinner")+'" dir="ltr"><div class="'+T("docos-quantum-spinner")+" "+T("active")+'">'+QCh({aq:"spinner-blue"})+QCh({aq:"spinner-red"})+QCh({aq:"spinner-yellow"})+QCh({aq:"spinner-green"})+"</div></div>")}
function QCh(a){a=a.aq;return S('<div class="'+T("spinner-layer")+" "+T(a)+'"><div class="'+T("spinner-circle-clipper")+" "+T("spinner-left")+'"><div class="'+T("spinner-circle")+" "+T("spinner-fit")+'"></div></div><div class="'+T("spinner-gap-patch")+'"><div class="'+T("spinner-circle")+" "+T("spinner-fit")+'"></div></div><div class="'+T("spinner-circle-clipper")+" "+T("spinner-right")+'"><div class="'+T("spinner-circle")+" "+T("spinner-fit")+'"></div></div></div>')};function RCh(a,b){b7.call(this,a,b);this.D=null}y(RCh,b7);RCh.prototype.Ca=function(){var a=this.qa();this.D=Sx(PCh,{},void 0,a);this.jb(this.D)};RCh.prototype.nf=function(){this.D.parentElement.removeChild(this.D)};RCh.prototype.Ja=function(){delete this.D};function SCh(a,b){Xn.call(this);this.R=a;this.C=b;this.D=0;this.F=this.H=!1;this.J=i7(this.R);this.zg=null;this.V=new hA(this.C.qa().Yb());this.V.Ri("blur",27);this.ma=new Fz(this);this.va(this.ma);this.ma.Nb(this.J.Ra("docos-new-doco"),zs,this.EMb).Nb(this.J.Ra("docos-highlight-doco"),zs,this.DMb);this.listen(this.C,"bd",this.CMb).listen(this.C,"br",this.FMb)}u(SCh,Xn);
function TCh(a){0==a.D&&0<a.C.rc()&&(a.D=UCh(a,0));if(0!=a.D){for(var b=0,c=0;c<a.C.rc();c++)UCh(a,c)==a.D&&(b=c);VCh(a);U7(a.C,!1);b=a.C.xc(b).getId();b=new Dth(b,a.C.getId());a.J.tf("docos-before-highlight-doco").wb(b);a.J.tf("docos-highlight-doco").wb(b)}}function VCh(a){a.zg||(a.zg=new ox(a.C.qa().Yb()),a.va(a.zg));a.listen(a.zg,"focusin",a.AVa).listen(a.V,"shortcut",a.YLa)}p=SCh.prototype;
p.AVa=function(a){this.C.qa().contains(this.C.getElement(),a.target)||this.C.getElement().nextSibling==a.target||(this.H=this.F=!1,WCh(this,!0),U7(this.C,!0),this.Gc(this.zg,"focusin",this.AVa).Gc(this.V,"shortcut",this.YLa),a=U6(),this.J.tf("docos-before-highlight-doco").wb(a),this.J.tf("docos-highlight-doco").wb(a))};p.YLa=function(){U7(this.C,!1);WCh(this,!1)};
p.DMb=function(a){var b=a.data;if(a=b.C)if(a=this.C.Cc(a)){if(this.D=x7(g7(this.R),b.C),b.D==this.C.getId()){VCh(this);WCh(this,!1);a instanceof oAh&&(a.ah(!0),tAh(a,!0));U7(this.C,!1);if(0!=this.D&&this.H&&!this.F&&a instanceof oAh)a:if(gAh(a),a.D)a.D.ready(void 0,void 0,!0),a.D.O.focus();else{b=Lvh(a.ud(),!1);for(var c=b.length-1;0<=c;c--)if(bAh(a.H[b[c].getId()]))break a;bAh(a.F)||a.focus()}else a.focus();this.H=this.F=!1}}else this.H=this.F=!1;else this.H=this.F=!1,U7(this.C,!0),WCh(this,!0)};
p.EMb=function(a){a=a.data;var b=A7(g7(this.R),a.Xo);if(b){for(var c=0;c<this.C.rc();c++)if(b.getId()==this.C.xc(c).getId()){this.D=a.Xo;break}this.F=!0;U7(this.C,!1,!0);WCh(this,!1)}};p.CMb=function(){XCh(this)};p.FMb=function(){g7(this.R).V||XCh(this)};function XCh(a){if(1==a.C.rc())a.D=0,U7(a.C,!1);else{for(var b=0,c=0;c<a.C.rc();c++)if(UCh(a,c)==a.D){b=c;break}b==a.C.rc()-1?b--:b++;a.D=UCh(a,b);a.F=!0;U7(a.C,!1,!0);WCh(a,!1)}}
function WCh(a,b){for(var c=V4a(a.C),d=0;d<c.length;d++){var e=a.C.Cc(c[d]);e instanceof oAh&&(e.ah(b),tAh(e,b))}}function UCh(a,b){return x7(g7(a.R),a.C.xc(b).getId())};function YCh(a,b,c){this.D=a;this.F=b;this.C=c||null};function ZCh(a,b,c,d){b7.call(this,a,d);this.Ha=c;this.context=a;this.D=b;this.D.iya(this);this.O={};this.J=[];this.H=[];this.Ba=!1;this.ma=this.F=this.R=null;this.xa=new Fz(this);this.va(this.xa);a=g7(this.context);this.getHandler().listen(a,"bu",this.n1b).listen(a,"dd",this.O1b).listen(a,"f",this.o2b).listen(b,"rv",this.O6b).listen(this,"ra",this.E3b).listen(this,"sd",this.i4b).listen(this,"sr",this.j4b).listen(this,"sn",this.T3b).listen(this,"sp",this.U3b).listen(this,"bd",this.o1b).listen(this,
"ar",this.a1b).listen(this,"ph",this.G2b);Yth(this)}y(ZCh,b7);p=ZCh.prototype;
p.Ia=function(){ZCh.Ua.Ia.call(this);fz(this.getElement(),"docos");fx(this.getElement(),["docos","docos-stream-view"]);Nw(this.getElement(),"list");kvh(this.C)?ex(this.getElement(),"docos-stream-view-height"):(ex(this.getElement(),"docos-stream-view-legacy"),ex(this.getElement(),"docos-stream-view-height-legacy"));"legacy"!=this.C.F&&ex(this.getElement(),"docs-gm");"material_blue"==this.C.F?ex(this.getElement(),"docos-gm-blue"):"material_green"==this.C.F?ex(this.getElement(),"docos-gm-green"):"material_yellow"==
this.C.F&&ex(this.getElement(),"docos-gm-yellow");fx(this.Hb(),this.D.EO());this.getHandler().listen(this,"rd",this.mab);var a=i7(this.context);this.xa.Nb(a.Ra("docos-highlight-doco"),zs,this.Qfa);c7(this.context).Pb&&Vw(this.getElement(),"docos-layout-vertical")&&(this.R=new SCh(this.context,this),this.F=this.gb.createElement("DIV"),ex(this.F,"docos-tab-sentinel"),this.getHandler().listen(this.getElement(),"focus",this.sx).listen(this.F,"focus",this.W3b),$Ch(this).appendChild(this.F),this.ma=new gB);
this.zCa()};p.SFa=m(!0);p.Q8=function(){this.D.DI();aDh(this);this.D.OI(!0);this.dispatchEvent("ail")};p.sx=function(){TCh(this.R)};p.W3b=function(){var a=this.R;a.H=!0;TCh(a)};p.zCa=function(){var a=g7(this.context);if(Md(a.C)){this.D.OI(!1);a=Yd(a.C);for(var b in a)bDh(this,b);this.D.kI();this.Q8()}};p.qz=function(a,b){for(var c=this.rc()-1;0<=c;--c){var d=this.xc(c);a&&!a[d.getId()]||!b&&!d.isVisible()||d.qz()}};
p.Qfa=function(a){var b=a.data;a=b.C;var c=b.D;b=b.J;if(!this.context.V&&this.D.yha(a,c)){if(this.ma&&a&&this.D.gq()!=a){var d=this.rc();d="Kommentti "+(qw(this,this.Cc(a))+1+("/"+(d+" ")));hB(this.ma,d)}this.dispatchEvent("us");this.D.bna(a,c,b);aDh(this);this.dispatchEvent("ud")}};p.n1b=function(a){a=ia(a.C);for(var b=a.next();!b.done;b=a.next()){var c=b.value;b=c.Aj;c=c.C;b&&(g7(this.context).ud(b),(c=this.Cc(b)||c&&this.Cc(c))?(c.getId()!=b&&c.Uc(b),this.J.push(b)):this.O[b]=!0)}};p.O1b=function(a){this.H.push(a.C)};
function aDh(a){a.Ba||a.D.oy()}p.o2b=function(a){this.D.OI(!a.F);this.Ba=!0;for(var b=0;b<this.H.length;++b)cDh(this,this.H[b]);for(var c in this.O)bDh(this,c);Td(this.O)||this.D.kI();for(b=0;b<this.J.length;++b)dDh(this,this.J[b]);this.O={};this.J.length=0;this.H.length=0;a.F&&this.D.DI();this.D.oy();this.Ba=!1;this.D.OI(!0)};p.mab=function(a){this.Cc(a.Aj)&&(this.D.ZY(a.Aj),aDh(this))};
p.E3b=function(a){var b=g7(this.context).ud(a.Aj);if(a=c7(this.context).J.reanchor)b=u7(b),b=Jth("reanchor").addAnchorId(b).build(),a(b),this.context.V=!0};p.i4b=function(a){var b={text:a.C,Cm:a.Cm,Xo:a.Xo,Eab:a.Cm,t_:a.t_};a.Cm&&c7(this.context).Qc&&(b.quote=(0,c7(this.context).Qc)(a.Cm));a.Cm&&c7(this.context).Pa&&(b.Cm=(0,c7(this.context).Pa)(a.Cm));i7(this.context).tf("docos-new-doco").wb(b)};
p.j4b=function(a){var b=g7(this.context).ud(a.Aj);if(!b)throw Error(a.Aj+" not contained within appropriate stream.");var c=i7(this.context);b.isResolved()?c.tf("docos-resolve-doco").wb(new Zth(a.Aj,!1,a.C)):c.tf("docos-new-reply").wb(new YCh(a.Aj,a.C,a.t_))};p.T3b=function(){this.D.highlightNext()};p.U3b=function(){this.D.highlightPrevious()};p.o1b=function(){this.D.Nfa()};p.a1b=function(){this.D.Lfa()};
function bDh(a,b){var c=g7(a.context).ud(b);c&&a.Ha(c)&&!a.Cc(b)&&(a.dispatchEvent("us"),a.D.mT(c),a.dispatchEvent("ud"),a.R&&U7(a,!0))}function dDh(a,b){a.dispatchEvent("us");var c=a.Cc(b);if(c){var d=g7(a.context).ud(b);d&&a.Ha(d)?(c.update(),a.D.ZY(b)):cDh(a,b)}a.dispatchEvent("ud")}function cDh(a,b){b&&(a.dispatchEvent("us"),a.D.nR(b),a.dispatchEvent("ud"))}p.O6b=function(a){for(var b=a.KFa.length,c=0;c<b;++c)cDh(this,a.KFa[c])};p.t5=function(){for(var a=this.rc(),b=0;b<a;++b)this.xc(b).t5()};
function $Ch(a){return(a=a.getElement())?a.parentElement:null}function U7(a,b,c){if(!b&&!c||0!=a.rc())a.qa().$h(a.getElement(),b),a.F&&(b=null!=c?c:b,a.qa().$h(a.F,b))}p.Ja=function(){ZCh.Ua.Ja.call(this);delete this.xa};p.G2b=function(){var a=this.D.zU();null==a||a.isDisposed()||(a.update(),a.focus())};function eDh(a){A.call(this);this.C=[];this.D=!1;this.F=new Hp;this.H=a?!1:!0}u(eDh,A);eDh.prototype.start=function(){this.H=!0;fDh(this)};function fDh(a){!a.H||a.D||0>=a.C.length||(a.D=!0,a.F.fk(v(a.J,a)))}eDh.prototype.J=function(){this.C.shift()();this.D=!1;fDh(this)};eDh.prototype.Ja=function(){this.F.dispose();A.prototype.Ja.call(this)};function gDh(a,b,c,d){ZCh.call(this,a,b,c,d);this.Oa=new eDh;this.L=[];this.Ka=new RCh(a,d);this.Ea=!1;this.V=null}y(gDh,ZCh);p=gDh.prototype;p.SFa=g("Ea");p.Q8=function(){gDh.Ua.Q8.call(this);this.Ka.nf();this.Ea=!0;this.V&&this.Qfa(this.V)};p.CCa=function(){for(var a=0;0<this.L.length&&50>a;){var b=this.L.shift();this.Cc(b)||(bDh(this,b),a++)}0==this.L.length?this.Q8():(a=this.Oa,b=v(this.CCa,this),a.C.push(b),fDh(a))};
p.zCa=function(){var a=g7(this.context);if(Md(a.C)){this.Ka.render($Ch(this));this.D.OI(!1);a=Yd(a.C);for(var b in a)this.L.push(b);b=this.Oa;a=v(this.CCa,this);b.C.push(a);fDh(b)}};p.Qfa=function(a){this.Ea?gDh.Ua.Qfa.call(this,a):this.V=a};function hDh(a,b,c,d,e){J7.call(this,a,b,c,d,e);c=["edit","delete","reanchor","resolve"];c7(a).Lc&&(c=c.concat(["link"]));this.L=new pvh(a,b,d,"docos-actionmenu",c);this.Ga(this.L);this.Ga(this.F);gAh(this);this.Ha+=" docos-streamdocoview-input-pane";this.fc="Hylk\u00e4\u00e4 vastaus";this.Ba=this.V=this.Ka=this.Ta=this.Qa=this.Ea=null}u(hDh,J7);p=hDh.prototype;
p.Ca=function(){J7.prototype.Ca.call(this);var a=this.qa(),b=this.getElement();this.Ea=a.bb("docos-streamdocoview-inputcontainer",b);this.Qa=a.bb("docos-streamdocoview-reopen-control",b);this.Ta=a.bb("docos-streamdocoview-resolve-control",b);this.L.Va(a.bb("docos-actionmenu-outer",b));Sw(this.L.F.La(),"Lis\u00e4asetukset");this.Ka=a.bb("docos-author",b);this.V=fW(a,"IMG","docos-streamdocoview-avatar",b);this.Ba=fW(a,"IMG","docos-streamreplyview-avatar",this.Ea);a=this.qa();b=this.getElement();var c=
a.bb("docos-docoview-comment",b);c&&(c7(this.getContext()).D.C(c,"Vastaa t\u00e4h\u00e4n kommenttiin"),Sw(c,"Vastaa t\u00e4h\u00e4n kommenttiin"));if(c=a.bb("docos-docoview-resolve",b))c7(this.getContext()).D.C(c,"Merkitse ratkaistuksi ja piilota keskustelu"),Sw(c,"Merkitse ratkaistuksi ja piilota keskustelu");if(a=a.bb("docos-docoview-reopen",b))c7(this.getContext()).D.C(a,"Merkitse avatuksi ja palauta keskustelu dokumenttin\u00e4kym\u00e4\u00e4n"),Sw(a,"Merkitse avatuksi ja palauta keskustelu dokumenttin\u00e4kym\u00e4\u00e4n")};
p.Ia=function(){J7.prototype.Ia.call(this);iDh(this);var a=this.getElement();this.D.V=a;d7(d7(d7(d7(this,this.L,"d",this.BZa),this.L,"e",this.Y1b),this.L,"r",this.P3b),this.L,"ra",this.G3b);a=this.ud().Lv();jDh(this,a);kDh(this,a);a=c7(this.getContext()).ih();buh(f7(this.getContext()),this.Ba,a.C,a7(a));this.C.ma||(a=a.getName())&&this.Ba&&this.C.D.C(this.Ba,a)};p.Uc=function(a){J7.prototype.Uc.call(this,a);this.L&&rvh(this.L,a)};
p.update=function(){J7.prototype.update.call(this);var a=this.ud().Lv();jDh(this,a);kDh(this,a);this.L.update();iDh(this);this.Ea&&(a=!Td(this.H)||D7(this.D)||this.Sk(),P(this.Ea,a))};function jDh(a,b){var c=f7(a.getContext()),d=b.C;a.V&&vzh(b,a.ud().getOrigin())&&(d=Awh(c),a.V.classList.add("docos-avatar-unverified"),a.C.D.C(a.V,"Kirjoittaja tuodusta dokumentista"));buh(c,a.V,d,a7(b))}function kDh(a,b){(b=b.getName())&&!a.C.ma&&(a.Ka&&a.C.D.C(a.Ka,b),a.V&&a.C.D.C(a.V,b))}
function iDh(a){var b=a.ud();a.Qa&&P(a.Qa,b.isResolved());a.Ta&&P(a.Ta,!b.isResolved())}p.lVa=function(a){var b=this.getElement();a=a.target;Vw(a,"docos-docoview-comment")&&b?this.D.ready():Vw(a,"docos-docoview-resolve")&&b?lDh(this):Vw(a,"docos-docoview-reopen")&&b&&mAh(this)};p.Y1b=function(){Zzh(this.F)};p.P3b=function(){this.ud().isResolved()?mAh(this):lDh(this)};p.G3b=function(a){this.dispatchEvent(new Swh("ra",this.ud().getId()));a.stopPropagation()};
function lDh(a){var b=i7(a.getContext());a.dispatchEvent("br");var c=new Zth(a.getId(),!0,D7(a.D)?a.D.getValue():null);b.tf("docos-resolve-doco").wb(c);a.dispatchEvent("ar")}p.t5=function(){var a=this.F;a.Kb&&!a.H.Sk()||Uzh(a)};p.vd=function(){J7.prototype.vd.call(this);var a=f7(this.getContext());h7(a,this.V);h7(a,this.Ba)};p.Ja=function(){J7.prototype.Ja.call(this);delete this.L;delete this.Ka;delete this.V;delete this.Ba;delete this.Ea;delete this.Qa;delete this.Ta};function mDh(a,b,c,d){this.C=a;this.D=b;this.cb=c;this.H=d}mDh.prototype.F=function(a){a=g7(this.C).ud(a);var b=this.D.Lj().getId();return new hDh(this.C,a.getId(),b,this.cb,this.H)};function nDh(a,b){L7.call(this,a,b)}y(nDh,L7);p=nDh.prototype;p.O1=function(){return"none"!=c7(this.getContext()).fb};p.jma=function(a){return(new mDh(this.getContext(),this,this.qa(),this)).F(a.getId())};p.FT=function(a,b){a=a.ud();b=b.ud();if(!a||!b)throw Error("Doco view missing doco.");return("creation"==M7(this).fb?b.jx().getTime()-a.jx().getTime():b.WO().getTime()-a.WO().getTime())||(a.getId()<b.getId()?-1:b.getId()<a.getId()?1:0)};
p.mT=function(a){var b=this.Lj(),c=this.jma(a),d=0;this.O1()&&(d=this.$$(c));b.vf(c,d,!0);c.update();if(c=b=this.E$())b.C!=a.getId()?c=!1:(c=a.Ry()?u7(a):void 0,d=c7(this.getContext()).Oi,d=null!=c&&d(c),c=null==c||a.isResolved()||!!Ovh(a)||d);c&&(b=X6(Hth(W6(V6(a.getId()),this.hF()),b.D)),this.ROa(b,a))};p.nR=function(a){this.Lj().Cc(a)&&(a=this.Lj().removeChild(a),Hf(a))};p.ZY=function(a){if(this.O1()){var b=this.Lj();if(a=b.Cc(a)){var c=qw(b,a),d=this.$$(a);c!=d&&b.vf(a,d)}}};
p.Nfa=function(){JAh(this,!0,!0)};p.Lfa=function(){if(this.H&&this.gq()){var a=this.gq();F7(g7(this.getContext()),a);this.hF()&&i7(this.getContext()).tf("docos-highlight-doco").wb(X6(Fth(W6(V6(a),this.hF()))))}};p.DI=function(){LAh(this)};function oDh(a){a=a||{};var b=a.F7b,c=a.G7b,d=a.U7a,e=a.T7a;a=a.a$a;if(zw(d)||zw(c)){var f;zw(a)&&zw(c)?f='<a href="'+T(Dw(c))+'" title="'+T(b)+'" target="_blank">'+R(a)+"</a>":a?f=R(a):f="";b='<div class="'+T("docos-build-info")+'">'+(d?'<span title="'+(e?"CL #"+T(e)+" built at...":"No CL #")+'">'+R(d)+"</span>":"")+" "+f+"</div>"}else b="";return S(b)};function pDh(a,b){Q.call(this,b);this.C=a}u(pDh,Q);pDh.prototype.Ca=function(){this.jb(Sx(oDh,{T7a:K(this.C,4),U7a:this.C.Xm(),a$a:K(this.C,5),F7b:K(this.C,2),G7b:K(this.C,1)},void 0,this.qa()))};function qDh(a,b){b7.call(this,a,b);i7(a);this.Nc=new Py(b);this.F=a;for(var c in sth){a=sth[c];a:{switch(a){case "all":var d="kaikki";break a;case "important":d="Vain omat";break a;case "none":d="ei mit\u00e4\u00e4n";break a}throw Error("Unexpected notification settings value.");}a=new wQ(d,a,b);this.Nc.Ga(a,!0)}this.D=new Xy("",this.Nc,IP.getInstance(),b);Yy(this.D,new Ty(null,9));this.D.lH=!0;this.Ga(this.D)}y(qDh,b7);p=qDh.prototype;
p.Ia=function(){qDh.Ua.Ia.call(this);var a=this.qa(),b=a.bb("docos-ns-caption",this.getElement());a=a.bb("docos-ns-caption-text-value",b);this.D.setContent(b);this.D.render(this.getElement());this.qa().Je(a,"Ilmoitukset");b=c7(this.F).D;b.C(this.D.getElement(),"Muuta t\u00e4m\u00e4n asiakirjan s\u00e4hk\u00f6posti-ilmoitusasetuksia.");for(a=0;a<this.Nc.rc();a++){var c=this.Nc.xc(a),d=c.getElement();a:{switch(c.Sa()){case "all":c="Saat ilmoituksen jokaisesta kommentista.";break a;case "important":c=
"Saat ilmoituksen vain kommenteista, joissa olet mukana.";break a;case "none":c="Ei ilmoituksia.";break a}throw Error("Unexpected notification settings value.");}b.C(d,c)}d7(this,this.D,"action",this.pab);d7(this,this.C,"r",this.cna);d7(this,this.getElement(),"keyup",this.agb);d7(this,this.Nc,"show",this.oab);d7(this,this.Nc,"hide",this.nab);this.cna()};p.oab=function(){0<this.Nc.rc()&&this.Nc.qh(0)};p.nab=function(a){a.stopPropagation()};
p.agb=function(a){32==a.keyCode&&a.stopPropagation();27==a.keyCode&&a.stopPropagation()};p.pab=function(a){var b=a.target.Sa(),c=Gwh(this.F);b!=wCh(c)&&xCh(c,b);this.cna();a.stopPropagation()};p.cna=function(){var a=this;!this.C.V&&this.C.yI()?wCh(Gwh(this.F)).then(function(b){for(var c=0;c<a.Nc.rc();++c){var d=a.Nc.xc(c);d.Zb(d.Sa()==b)}b=!a.C.V&&a.C.yI();a.D.Na(b)},void 0,this):this.D.Na(!1)};function rDh(a,b,c,d){b7.call(this,a,b);this.H=new nDh(a,b);this.va(this.H);this.D=c?new gDh(a,this.H,yfa(Mvh),b):new ZCh(a,this.H,yfa(Mvh),b);this.Ga(this.D);this.J=a;this.ma=null;this.Ea=!!d;Ri(this.C.C,30)||(this.F=new oyh(a,b),this.va(this.F),this.Ga(this.F),this.F.Ba="Lis\u00e4\u00e4 kommentti");this.O=null;Ri(this.C.C,30)&&this.C.yI()&&!this.C.xa&&(this.O=new qDh(a,b),this.Ga(this.O));this.L=null;Ri(this.C.C,30)&&(this.L=new Oz("",b,"legacy"!=this.C.F?4:void 0),this.Ga(this.L));this.xa=new Fz(this);
this.va(this.xa);this.V=new pDh(N(this.C.C,A4e,2)||new A4e,b);this.Ga(this.V);this.Ba=!1;this.R=null;Yth(this)}y(rDh,b7);p=rDh.prototype;p.HWa=0;p.py=null;p.v9=null;p.bU=null;p.cC=null;p.gO=null;
p.Ca=function(){var a="legacy"!=this.C.F,b=this.qa(),c=Sx(NCh,{QB:this.C.ih().getName(),yI:this.C.yI(),s0b:!!Ri(this.C.C,30),IH:this.C.Ha,f7a:this.C.Ny,e7a:this.C.My,Cn:a},void 0,b);Ri(this.C.C,30)&&ex(c,"docos-enable-docs-header");a&&ex(c,"docs-gm");"material_blue"==this.C.F?ex(c,"docos-gm-blue"):"material_green"==this.C.F?ex(c,"docos-gm-green"):"material_yellow"==this.C.F&&ex(c,"docos-gm-yellow");this.jb(c);a=b.bb("docos-streampane-content",c);this.D.render(a);this.gO=Ri(this.C.C,30)?this.D.Hb():
this.C.O;this.V.render(c);this.v9=b.bb("docos-streampane-username",c);this.bU=fW(b,"IMG","docos-streampane-avatar",c)};
p.Ia=function(){rDh.Ua.Ia.call(this);var a=this.qa(),b=this.getElement();this.F&&this.F.Va(a.bb("docos-streampane-input-pane",b));if(this.O){var c=a.bb("docos-notification-settings",b);this.O.Va(c)}c=c7(this.J).D;this.L&&(a=a.bb("docos-new-comment-button",b),this.L.Va(a),c.C(a,this.C.Oa?"Kommentin lis\u00e4\u00e4minen ei k\u00e4ytett\u00e4viss\u00e4":"Lis\u00e4\u00e4 kommentti"),d7(this,this.L,"action",this.gab),this.t0a(),this.getHandler().listen(this.C,"r",this.t0a));this.C.Ba&&(b=this.C.Ba,this.F&&
(this.F.V=b));Fo(b,!0);this.cC=new MCh(b);Pn(this.cC,"next-doco",this.c3b,!0,this);this.cC.addEventListener("prev-doco",this.v3b,!0,this);Pn(this.cC,"resolve",v(this.u5a,this),!0);Pn(this.cC,"reopen",v(this.lab,this),!0);Pn(this.cC,"back-to-document",this.$6a,!0,this);Pn(this.cC,"speak-comment",this.R$b,!0,this);b=i7(this.J);a=this.C.Oa?this.z2b:this.jab;this.xa.Nb(b.Ra("docos-highlight-doco"),zs,a);this.F&&d7(this,this.F,"p",this.Z0b);d7(d7(d7(d7(d7(d7(d7(d7(this,this.getElement(),"click",this.hab),
this.D,"f",this.p2b),this.D,"b",this.r1b),this.D,"e",this.f2b),this.D,"us",this.h4b),this.D,"ud",this.g4b),this.D,"ail",this.f4b),this,["aftershow","afterhide"],this.iab);b=this.C.ih();Bwh(f7(this.J),this.bU,b.C,a7(b));this.v9&&(a=b.getName())&&this.C.D.C(this.v9,a);this.bU&&(a=b.getName())&&this.C.D.C(this.bU,a);this.Ea||(this.ma=new tB(this.getElement(),this.qa()),this.va(this.ma),uB(this.ma));sDh(this)};
p.iab=function(a){var b="aftershow"==a.type?"dialog-opened":"dialog-closed",c=this.C.J[b];if(c){a=a.target instanceof $9e;var d=(new Z6(b)).setNonAnchored(!0).setApiEventArgs(new KCh(a)).build();c(d);a&&"dialog-closed"==b&&this.C.Ba&&this.C.Ba.focus()}};p.t5=function(){this.D.t5()};p.hab=function(a){Vw(a.target,"docos-streampane-notificationslink")&&!this.C.V&&this.dispatchEvent("dnd")};
p.Z0b=function(){var a=this.F.getValue();Bd(a)||(i7(this.J).tf("docos-new-doco").wb({text:a,Cm:null,Xo:0,quote:null}),this.py=null)};p.p2b=function(a){if(a=a.target)this.py=a.getElement()};p.r1b=function(a){tDh(this,a)};p.f2b=function(a){tDh(this,a)};function tDh(a,b){(b=b.target)&&b.getElement()==a.py&&(a.py=null)}p.h4b=function(){null!=this.py&&(this.HWa=this.py.offsetTop)};p.g4b=function(){null!=this.py&&this.gO&&(this.gO.scrollTop+=this.py.offsetTop-this.HWa)};p.f4b=function(){this.dispatchEvent("initial-load-complete")};
p.jab=function(a){a=a.data;(a.D&&a.D!=this.D.getId()||a.O)&&uDh(this,a.C||null);if(a=a.C?this.D.Cc(a.C):null)this.py=a.getElement()};p.z2b=function(a){a=a.data;var b=a.C||null,c=this.C.J["toggle-show-stream-pane"];c&&(b=b?g7(this.J).ud(b):null)&&(b=(new Z6("toggle-show-stream-pane")).addAnchorId(u7(b)).addDocoHandle(x7(g7(this.J),b.getId())).setNonAnchored(!(b.Ry()&&!b.isResolved())).setUserInitiated(!0).setApiEventArgs(new LCh(!0)).build(),c(b));uDh(this,a.C||null)};
function uDh(a,b){(b=b?a.D.Cc(b):null)?(a.py=b.getElement(),a.gO&&(a.gO.scrollTop=b.getElement().offsetTop)):a.py=null}p.c3b=function(){this.H.highlightNext()};p.v3b=function(){this.H.highlightPrevious()};p.u5a=function(){var a=this.H.zU(),b=this.H.gq();b=b?g7(this.J).ud(b):null;a&&b&&(a=a.F,b.Zj()?Szh(a):Rzh(a,!0))};p.lab=function(){var a=this.H.zU();a&&Rzh(a.F,!1)};p.$6a=function(){var a=i7(this.J),b=this.H.gq();a.tf("docos-back-to-document").wb({Aj:b})};p.R$b=function(){var a=this.H.zU();a&&nAh(a)};
function sDh(a){if(a.Ba&&!a.R&&a.Gb()){var b=Sx(OCh);a.R=new Q;a.R.Va(b);a.vf(a.R,0)}}p.t0a=function(){this.L.Na(this.C.Qf)};p.gab=function(){this.dispatchEvent("create-draft")};p.vd=function(){rDh.Ua.vd.call(this);h7(f7(this.J),this.bU)};p.Ja=function(){rDh.Ua.Ja.call(this);delete this.v9;delete this.bU;delete this.py;delete this.gO;delete this.V;delete this.F;delete this.H;delete this.D;delete this.xa;this.cC&&(delete this.cC,this.cC=null)};function vDh(a){A.call(this);this.H=a;a=c7(a);null!=K(a.C,44)&&null!=K(gZ(a.C),39)&&Ri(gZ(a.C),39)?a=null:a=(a=N(a.C,fZ,7))?a:new fZ;this.C=a;this.D=null;this.F=Yo();Gsh(this.H,"netIo")&&this.F.resolve()}y(vDh,A);function wCh(a){if(a.C)return Uo(wDh(a.C));a.D||(a.D=a.F.C.then(function(){return new To(function(b,c){twh(a.H.get("netIo"),"uc",void 0,function(d){return b(new eth(d))},c,void 0,void 0,"GET")},a)},void 0,a));return a.D.then(function(b){a.C=b.Io();a.D=null;return wDh(a.C)},void 0,a)}
function xCh(a,b){var c="all"==b;b="none"==b;var d=(new fZ).Na(!0);c=M(d,3,c);c=M(c,4,!b);b=M(c,5,!b);b=M(b,6,!0);a.C=b;b=new wth;b=cj(b,1,a.C);twh(a.H.get("netIo"),"uc",b)}function wDh(a){return Ui(a,2,!0)?Ri(a,3)?"all":Ui(a,4,!0)||Ui(a,5,!0)?"important":"none":"none"};function xDh(a,b){var c=a.ud(),d=b.ud();a=a.getPosition();b=b.getPosition();if(a.y!=b.y)return a.y-b.y;if(a.x!=b.x)return a.x-b.x;if(null!=c&&null!=d){b=c.jx();a=d.jx();if(b&&a&&b.getTime()!=a.getTime())return b.getTime()-a.getTime();if(!b&&a)return 1;if(b&&!a)return-1;c=c.getId();d=d.getId();return c<d?-1:c>d?1:0}return null!=c?1:null!=d?-1:0}function yDh(a,b){this.C=a;this.cd=b}yDh.prototype.ud=g("C");yDh.prototype.getPosition=g("cd");function zDh(a,b,c,d){this.C=a;this.J=b;this.L=c;this.H=d;this.F=[];this.D=0}function ADh(a,b){return a.C().xc(b).getId()}function BDh(a,b){for(var c=a.C().rc(),d=0;d<c;++d)a.H(ADh(a,d),Infinity);a.layout(b||[])}p=zDh.prototype;p.layout=function(a){do{var b=a;CDh(this,0,this.C().rc(),1,-Infinity,this.Cgb,this.Dgb,b);b=a;CDh(this,this.C().rc()-1,-1,-1,Infinity,this.b7a,this.c7a,b);a.pop()}while(0<a.length)};function DDh(a,b){0==a.D&&(a.D=1);a.F=id(b,a.F);nd(a.F)}
function EDh(a){0!=a.D&&(2==a.D?BDh(a,a.F):a.layout(a.F),a.F=[],a.D=0)}function CDh(a,b,c,d,e,f,h,k){for(;b!=c;b+=d){var l=ADh(a,b);var n=b;n=a.C().xc(n).getHeight();var q=a;var r=b;r=q.C().xc(r).ud().getId();q=q.J(r);r=a.L(l);e=$c(k,l)?q:h(n,q,r,e);a.H(l,e);e=f(n,e)}}p.Cgb=function(a,b){return b+a+10};p.b7a=function(a,b){return b-10};p.Dgb=function(a,b,c,d){return Math.max(Math.min(c,b),d)};p.c7a=function(a,b,c,d){return Math.min(Math.max(c,b),d-a)};function FDh(a,b){var c=this;RAh.call(this,a,b);this.F={};this.ma={};this.Ea=new zDh(v(this.Lj,this),v(this.yRa,this),v(this.poa,this),v(this.E8b,this));this.Ta=c7(a).Rn;this.Ha=new wM;this.fb=!0;this.Pb=new Qp(this.Wbc,500,this);this.Oa=this.Pa=null;this.Ka=Hwh(a);this.Kb=new zn;this.va(this.Kb);An(this.Kb,this.Ka.D,function(){c.Qa=!0;c.Za&&GDh(c,c.Za);EDh(c.Ea);c.Cb&&c.oy();c.Qa=!1});this.Cb=!1;this.Za=null;this.Wa=this.Qa=!1}y(FDh,RAh);var HDh=null;p=FDh.prototype;
p.EO=function(){var a=FDh.Ua.EO.call(this);a.push("docos-layout-vertical");return a};p.O1=m(!0);p.OI=da("fb");p.FT=function(a,b){a=a.ud();b=b.ud();if(!a||!b)throw Error("Doco view missing doco.");var c=x7(g7(this.getContext()),a.getId()),d=x7(g7(this.getContext()),b.getId());return xDh(new yDh(a,this.C[c]||new bm(Number.MAX_VALUE,Number.MAX_VALUE)),new yDh(b,this.C[d]||new bm(Number.MAX_VALUE,Number.MAX_VALUE)))};p.ZY=function(a){this.kI(a,!1)};p.$va=function(a){FDh.Ua.$va.call(this,a);this.oy()};
p.zXa=function(){for(var a=this.Lj(),b=a.rc(),c=0;c<b;c++){var d=a.xc(c);d.getId()!=this.gq()&&d.getId()!=this.yU()&&d.B8()&&d.collapse()}};p.DI=function(){XAh(this);LAh(this);for(var a=this.Lj(),b=a.rc(),c=0;c<b;++c){var d=a.xc(c);d.B8()&&!d.Sk()&&d.oxa()}a=[];(b=this.gq())&&a.push(b);this.Ka.C||this.Qa?(b=this.Ea,b.D=2,DDh(b,a||[])):BDh(this.Ea,a);IDh(this)};p.w0=function(a){this.Pa=a.clone();this.Oa&&this.Oa.contains(a)?this.Pb.start():(a=this.Pb,a.stop(),a.Apa())};
p.Wbc=function(){if(this.O){this.Oa=this.Pa.clone();var a=this.Lj();this.Oa.expand(500,0,500,0);var b=a.rc(),c="";0<b&&(c=a.xc(b-1).getId());for(var d=0;d<b;d++){var e=a.xc(d),f=this.ma[e.getId()];f=JDh(e,this.Oa,f.y,c);e.setVisible(f)}}};
p.oy=function(){FDh.Ua.oy.call(this);if(this.Ka.C)this.Cb=!0;else{EDh(this.Ea);var a=this.Lj(),b;for(b in this.F){var c=a.Cc(b);if(c){var d=b==this.gq()||b==this.yU()?-10:this.Ta,e=!c.tua();b!=this.gq()&&b!=this.yU()&&this.Bb&&(e=e&&this.Bb.Wa);this.wfa(d,this.F[b],c,e)}else delete this.F[b],delete this.ma[b]}IDh(this);this.Cb=!1}};function JDh(a,b,c,d,e){if(a.getId()==d)return!0;d=e||0;return a.Sk()||Math.max(b.top-d,c)<=Math.min(b.bottom+d,c+a.getHeight())}
function IDh(a){var b=M7(a).J.bounds;b&&(a=a.v0(),!HDh&&!a||td(HDh,a)||(HDh=a,a=(new Z6("bounds")).setUserInitiated(!0).build(),b(a)))}p.poa=function(a){if(a&&!(a in this.F))if(M7(this).Ta){var b=this.yRa(a);null!==b&&(this.F[a]=b)}else if(b=this.Lj().Cc(a))this.F[a]=b.getElement().offsetTop;return a in this.F?this.F[a]:null};p.E8b=function(a,b){this.F[a]=b};p.kI=function(a){XAh(this);if(M7(this).Ta)KDh(this);else{var b=[];this.gq()&&b.push(this.gq());a&&b.push(a);LDh(this,b)}};
function KDh(a){M7(a).Ta&&(a.F={});var b=a.gq();LDh(a,b?[b]:[])}function LDh(a,b){a.Ka.C||a.Qa?DDh(a.Ea,b):a.Ea.layout(b)}p.zI=function(a){var b=Od(a),c=Md(this.C),d=b.length!=c;this.Wa=b.length>c;b=ia(b);for(c=b.next();!c.done;c=b.next()){c=c.value;var e=this.C[c];if(!e||a[c].y!==e.y){d=this.Wa=!0;break}}d&&(this.Ka.C?this.Za=a:GDh(this,a))};
function GDh(a,b){a.C=b;MDh(a);XAh(a);a.Wa&&(LAh(a),a.Wa=!1);KDh(a);b=a.Ha.Qe();for(var c=0;c<b.length;c++){var d=a.R[b[c]];d&&a.mT(d)}a.kI();a.oy();a.Za=null}function MDh(a){var b=Object.keys(a.C);b.sort(v(a.I5b,a));a.Ha.clear();for(var c=g7(a.getContext()),d=0;d<b.length;d++){var e=b[d],f=A7(c,parseInt(e,10));f&&c.R(f)&&a.Ha.set(e,a.Ha.$d())}}
p.I5b=function(a,b){var c=parseInt(a,10),d=parseInt(b,10);b=this.C[c];a=this.C[d];c=A7(g7(this.getContext()),c);d=A7(g7(this.getContext()),d);return xDh(new yDh(c,b),new yDh(d,a))};p.nR=function(a){FDh.Ua.nR.call(this,a);MDh(this)};p.$$=function(a){a=x7(g7(this.getContext()),a.getId()).toString();var b=this.Ha.get(a);null==b&&(MDh(this),b=this.Ha.get(a));return b};
p.wfa=function(a,b,c,d){var e=c.getElement();if(e){var f=!0;if(this.Pa){var h=this.Lj();f=h.rc();h=h.xc(f-1).getId();f=JDh(c,this.Pa,b,h,500)}f&&c.setVisible(!0);h=c.getId();var k=!1,l=!1;if(d&&this.ma[h]&&(k=1<Math.abs(a-this.ma[h].x),l=1<Math.abs(b-this.ma[h].y),!k&&!l))return;l=this.fb&&l&&this.Lj().rc()<NDh(this);k=this.fb&&k;if((d=d&&(l||k)&&c.isVisible()&&f)||this.J.C[h]){f=500;d||(f=(1-this.J.C[h].progress)*this.J.getDuration(h));Nth(this.J,h);var n=new oth(e,[a,b],f,XN);Mth(this.J,h,n,f,function(){return Hf(n)})}else Pv(e,
a,b),f||c.setVisible(!1);c.tc=-10==a;this.ma[h]=new bm(a,b);this.F[h]=b}};function ODh(a,b){return(a=a.C[b])?a.y:null}p.yRa=function(a){a=x7(g7(this.getContext()),a);return ODh(this,a)};p.Coa=function(a,b){a=ODh(this,a);return null===a?null:new bm(b?-10:this.Ta,a)};
p.v0=function(){var a=this.Lj();if(!a||!a.Gb())return null;var b=a.rc();if(!b)return null;var c=a.xc(0);b=a.xc(b-1);a=b.getElement();c=this.poa(c.getId());b=this.poa(b.getId());return null!=c&&null!=b?[c,210+this.Ta,b+a.offsetHeight,this.Ta]:null};function NDh(a){a=M7(a);return(a=null!=K(a.C,47)?K(a.C,47):null)?a:100};function PDh(a){this.C=a}y(PDh,n5);oa("docos.api.WriteFeedbackArgs",PDh,void 0);PDh.prototype.getSource=g("C");PDh.prototype.getSource=PDh.prototype.getSource;if(!QDh)var QDh=m("");if(!RDh)var RDh=m("");function V7(a,b){var c=this;A.call(this);this.yd=La();this.J={};this.F=new Fwh;var d=V7.__default_config;d&&$d(this.J,d);a&&$d(this.J,a);this.D=new ivh(this.J,b);this.F.sf("config",this.D);this.ma={};Ri(this.D.C,17)&&(this.Ya=new swh,this.F.sf("errorReporter",this.Ya),this.qua=this.Ya.F.C(this.qua));this.xa=null;this.V={};this.Ha=null;this.Wa=!1;this.Za=!0;this.R=new mCh(this.F,this.D,this);SDh(this,"s",function(){c.C.Oa=!0;if(0<Md(c.C.C)){TDh(c);var e=c.D.Yk;e&&e(43082,3E4)}});SDh(this,"fe",v(this.Kia,
this));this.fc=new HCh(this,this.F);Esh();this.qua()}y(V7,A);oa("Docos",V7,void 0);oa("docos.api.connect",function(a){return new V7(a)},void 0);p=V7.prototype;p.U_a=!1;p.hR=null;p.Ya=null;p.g5=null;p.Ot=null;p.Dm=null;p.Bs=null;p.hVa=!1;p.vza=null;p.jt=null;p.pQ=null;
p.qua=function(){if(this.Ya)for(var a in V7.prototype)Ba(this[a])&&(this[a]=this.Ya.F.C(this[a]));this.$a=new ywh(this.D);this.F.sf("imageManager",this.$a);a=new vDh(this.F);this.F.sf("subscriptionManager",a);this.Ba=new zBh(this.F);this.F.sf("impressionRecorder",this.Ba);this.fb=Yfd(ao());this.va(this.fb);this.zd=new uwh(this.fb);this.F.sf("relativeDateFormatter",this.zd);this.C=new Tyh(this.D);this.F.sf("stream",this.C);this.Pa=new bCh(this.F);this.va(this.Pa);this.Ma=new Xn(this);this.va(this.Ma);
this.Ea=null;this.L=new Zvh(this.F);this.F.sf("controller",this.L);this.H=new NBh(this.F,this.L);if(Ri(this.D.C,19)){this.Ea=new CCh(this.F);this.va(this.Ea);a=this.Ea;var b=v(this.Vc,this),c=v(this.Oa,this);a.C?a.C.LFa(v(a.Fub,a,b),v(a.Eub,a,c)):c()}else this.Oa();this.pQ=UDh(this);this.F.sf("contactStore",this.pQ);this.Ta=this.D.ih().getEmail()?new iBh(this.pQ,this.D.ih(),this.Ba,this.D.El):null;a=i7(this.F);this.O=this.tc=null;eo("docs-aria-speakable")&&(this.tc=new edf(void 0,!0),this.O=new k$e(this.tc,
a),this.O.bind("docos-new-doco",new sCh),this.O.bind("docos-new-reply",new tCh),this.O.bind("docos-delete-doco",new xBh(this.C)),this.O.bind("docos-resolve-doco",new ICh(this.C)),this.O.bind("docos-speak-doco",new JCh(this.F,this.J.quoterenderfn)),this.O.bind("docos-edit-doco",new BBh));this.Qa=new Fz(this);this.va(this.Qa);this.Qa.Nb(a.Ra("docos-cancel-insert-discussion"),zs,this.v1b).Nb(a.Ra("docos-delete-doco"),zs,this.HMb).Nb(a.Ra("docos-reject-doco-with-feedback"),zs,this.K1b).Nb(a.Ra("docos-convert-doco"),
zs,this.H1b).Nb(a.Ra("docos-before-highlight-doco"),zs,this.Tva).Nb(a.Ra("docos-highlight-doco"),zs,this.pua).Nb(a.Ra("docos-new-doco"),zs,this.IMb).Nb(a.Ra("docos-resolve-doco"),zs,this.JMb).Nb(a.Ra("docos-back-to-document"),zs,this.l1b).Nb(a.Ra("docos-new-reply"),zs,this.b3b).Nb(a.Ra("docos-write-feedback"),zs,this.S4b).Nb(a.Ra("docos-disable-smart-todo-feature"),zs,this.P1b).Nb(a.Ra("docos-vote-doco"),zs,this.O4b).Nb(a.Ra("docos-vote-reply"),zs,this.P4b).Nb(a.Ra("mouse-hover-doco-view"),zs,this.Y2b);
this.Ma.listen(this.C,"dd",this.V2b).listen(this.C,"af",this.$0b).listen(this.C,"bu",this.U2b).listen(this.C,"p",this.k3b).listen(this.D,"r",this.Fja)};function UDh(a){var b=Fid("client").then(function(){var c=pa("gapi.config.update");a.D.Wma&&c("googleapis.config/sessionIndex",a.D.Wma);c("googleapis.config/auth/useFirstPartyAuth",!0);c("googleapis.config/auth/useFirstPartyAuthV2",!0);return pa("gapi.client")});return new vBh(a.D,FCh(a.D,b),a.yd)}
function TDh(a){a.pQ&&!a.pQ.C&&avh(a.D.H)&&mvh(a.D)&&Pxh(a.pQ)}function VDh(a){a.Bs||(WDh(a),a.Bs=new rDh(a.F,ao(a.D.O),a.D.Am,a.D.ge),a.Ma.listen(a.Bs,"dnd",a.mqb),a.Ma.listen(a.Bs,"initial-load-complete",a.fFb),a.Ma.listen(a.Bs,"create-draft",a.He));return a.Bs}p.mqb=function(){this.Bb()};p.fFb=function(){var a=T7(this,"initial-pane-render-done");if(a&&this.vza){var b=La()-this.vza;a(new Kth("initial-pane-render-done",b))}};
p.find=function(a){var b=this.C.J;this.C.J=a;var c=this.C,d=this.D,e={},f=c.J;c=Yd(c.C);if(f&&0!=f.length)for(var h in c){var k=c[h];if(!k.isResolved()&&k.Ry()&&!Nvh(k)){var l=izh(k,f,d);k=Yd(k.D);for(var n in k)l+=izh(k[n],f,d);0<l&&(e[h]=l)}}a!=b&&(a=this.V,$d(a,e),this.Ot.qz(a));this.V=e;e={};for(var q in this.V)e[x7(this.C,q)]=this.V[q];return e};V7.prototype.find=V7.prototype.find;V7.prototype.Sd=function(){this.C.J&&(this.C.J=null,this.Ot.qz(this.V,!0),this.V={})};V7.prototype.clearFind=V7.prototype.Sd;
V7.prototype.Dy=function(){var a=this.D;var b=hzh(this.C,a);b?(b=b.getKey(),a=(a=kzh(b,a))?ro(a).textContent:null):a=null;return a};V7.prototype.getSelectedMatchA11yContext=V7.prototype.Dy;V7.prototype.highlightNext=function(a,b,c){this.Dm&&this.Dm.highlightNext(!!a,b,c)};V7.prototype.highlightNext=V7.prototype.highlightNext;V7.prototype.highlightPrevious=function(a,b,c){this.Dm&&this.Dm.highlightPrevious(!!a,b,c)};V7.prototype.highlightPrevious=V7.prototype.highlightPrevious;
V7.prototype.select=function(a,b){var c=A7(this.C,a);a=c?c.getId():"";b=c?new hZ(a,b):null;c=this.C.ma;if(!(!b&&!c||b&&c&&b.getKey()==c.getKey()&&b.getValue()==c.getValue())){var d=this.C;b&&(b.getKey(),b.getValue());d.ma=b;b=c?this.Ot.Cc(c.getKey()):null;c=this.Ot.Cc(a);b&&b!=c&&b.qz();if(c){c.B8()&&(b=gzh(g7(this.F),this.D),c.expand(b?b.getKey():void 0));c.qz();b=fzh(this.C,this.Ot);d=i7(this.F);var e=Gth(V6(a));e.C=b?b.start:0;e=X6(e);d.tf("docos-before-highlight-doco").wb(e);F7(g7(this.F),a);
d.tf("docos-highlight-doco").wb(e);if(b&&Wwh(c)&&(a=c.Hb())){c=$v(a).height;d=a.scrollTop;e=b.getLength()<=c;var f=0>b.start,h=b.end>c;a.scrollTop=d+(e&&f||!e&&!f?b.start:e&&h||!e&&!h?b.end-c:0)}}}};V7.prototype.select=V7.prototype.select;V7.prototype.L1a=function(){var a=this.C.ma;if(a){this.C.ma=null;(a=this.Ot.Cc(a.getKey()))&&a.qz();a=i7(this.F);var b=Gth(V6(""));b.C=0;b=X6(b);a.tf("docos-before-highlight-doco").wb(b);F7(g7(this.F),null);a.tf("docos-highlight-doco").wb(b)}};
V7.prototype.unselect=V7.prototype.L1a;V7.prototype.k2a=function(){var a=this.C,b=new Iyh(a,"c"),c;for(c in a.C)b.C.push(new Gyh(c,void 0,void 0,void 0,void 0));a.dispatchEvent(Jyh(b));a.flush(!0)};V7.prototype.updateAll=V7.prototype.k2a;V7.prototype.QZ=function(){return!!Ri(this.D.C,19)&&!!this.D.tc&&!this.D.Vc};V7.prototype.isSavingToOfflineStorage=V7.prototype.QZ;V7.prototype.WM=function(){return 0<yyh.$d()};V7.prototype.hasUnpostedDocos=V7.prototype.WM;
V7.prototype.XM=function(){for(var a=Od(this.C.L),b=0,c;c=a[b];b++){var d=this.C;if((c=azh(d,c))&&(c.Zj()?owh(d,c):d.R(c)))return!0}return!1};V7.prototype.hasVisibleAnchoredDocos=V7.prototype.XM;V7.prototype.rbc=function(a){var b=this.C,c=b.V;b.V=a;if(c!=b.V&&this.Ot&&(a=this.Ot,b=g7(a.context),Md(b.C))){for(c=a.rc()-1;0<=c;--c){var d=a.xc(c).getId();dDh(a,d)}b=Yd(b.C);for(d in b)bDh(a,d);a.D.DI();aDh(a);a.D.kI()}};
V7.prototype.Fja=function(){XDh(this);0<Md(this.C.C)&&TDh(this);if(this.Bs)if("none"!=this.D.fb){var a=this.Bs.D;a.D.DI();aDh(a)}else this.Bs.t5()};V7.prototype.setResolvedAnchoredDocosVisible=V7.prototype.rbc;V7.prototype.RZ=function(a,b,c){return YDh(this,a,b?b:void 0,c)};V7.prototype.newDoco=V7.prototype.RZ;
V7.prototype.xS=function(a,b,c){if(null==a||Bd(a))throw Error("Doco anchor data cannot be empty or null.");switch(b.getNewDocoType()){case "instant-doco":case "draft":case "client-integrated-draft":var d=b.getPosition()?b.getPosition():void 0,e=b.getText()?b.getText():void 0,f=b.getAssigneeEmail()?b.getAssigneeEmail():void 0;a=ZDh(this,a,d,b.getNewDocoType(),e,f,b.getWasSmartTodo());xp(a,c);break;case "smart-todo":d=b.getText();e=b.getAssigneeEmail();f=this.H;b=b.Sgb();a=Q7(f,v(f.KJb,f,a,d,e,b));
xp(a,c);break;case "discussion":d=b.getText();e=b.getAssigneeEmail()?b.getAssigneeEmail():void 0;f=this.H;b=b.getWasSmartTodo();a=Q7(f,v(f.HJb,f,a,d,e,b));xp(a,c);break;default:throw Error("Unknown NewDocoArgs type.");}};V7.prototype.interceptingNewDoco=V7.prototype.xS;function YDh(a,b,c,d,e,f,h){$Dh(a,b,c);b=awh(a.L,b,d||"draft",e,f,h);c&&0<b&&(d={},d[b]=c,W7(a).cU(d));return b}
function ZDh(a,b,c,d,e,f,h){$Dh(a,b,c);return xp(OBh(a.H,b,d||"draft",e,f,h),function(k){if(c&&0<k){var l={};l[k]=c;W7(a).cU(l)}return k})}function $Dh(a,b,c){if(!b)throw Error("Doco anchor data cannot be empty or null.");a.Cb();c&&(a.xa=c)}
V7.prototype.VZ=function(a,b){if(null==a||Bd(a))throw Error("Doco anchor data cannot be empty or null.");switch(b.getNewDocoType()){case "instant-doco":case "draft":case "client-integrated-draft":var c=b.getPosition()?b.getPosition():void 0,d=b.getText()?b.getText():void 0,e=b.getAssigneeEmail()?b.getAssigneeEmail():void 0;return YDh(this,a,c,b.getNewDocoType(),d,e,b.getWasSmartTodo());case "smart-todo":return c=b.getText(),d=b.getAssigneeEmail(),dwh(this.L,a,c,d,b.Sgb());case "discussion":return c=
b.getText(),d=b.getAssigneeEmail()?b.getAssigneeEmail():void 0,ewh(this.L,a,c,d,b.getWasSmartTodo());default:throw Error("Unknown NewDocoArgs type.");}};V7.prototype.newDoco2=V7.prototype.VZ;V7.prototype.yS=function(a,b,c){var d=this;if(!a||!b)throw Error("Anchor data and suggestion id cannot be empty or null.");xp(xp(RBh(this.H,void 0,a,void 0,void 0,b,void 0),function(e){0<e&&d.Kb(e);return e}),c)};V7.prototype.interceptingNewSuggestion=V7.prototype.yS;
V7.prototype.$M=function(a,b,c){var d=this;xp(xp(SBh(this.H,a,!0,b),function(e){aEh(d,a);return e}),c)};V7.prototype.interceptingAcceptSuggestion=V7.prototype.$M;V7.prototype.Dd=function(a){return pwh(this.L,a,!0)};V7.prototype.acceptSuggestions=V7.prototype.Dd;V7.prototype.zS=function(a,b,c){var d=this;xp(xp(SBh(this.H,a,!1,b),function(e){aEh(d,a);return e}),c)};V7.prototype.interceptingRejectSuggestion=V7.prototype.zS;V7.prototype.aI=function(a,b){var c=this.H;a=Q7(c,v(c.tCa,c,a,!0));xp(a,b)};
V7.prototype.interceptingAcceptSuggestions=V7.prototype.aI;V7.prototype.Tja=function(a,b){b=lwh(this.L,a,!1,b);aEh(this,a);return b};V7.prototype.rejectSuggestion=V7.prototype.Tja;function aEh(a,b){(b=A7(a.C,b))&&a.Dm&&a.Dm.nR(b.getId())}V7.prototype.Nka=function(a){return pwh(this.L,a,!1)};V7.prototype.rejectSuggestions=V7.prototype.Nka;V7.prototype.DS=function(a,b){var c=this.H;a=Q7(c,v(c.tCa,c,a,!1));xp(a,b)};V7.prototype.interceptingRejectSuggestions=V7.prototype.DS;
V7.prototype.wS=function(a,b){var c=this.H;a=Q7(c,v(c.l$a,c,a));xp(a,b)};V7.prototype.interceptingDeleteReply=V7.prototype.wS;V7.prototype.uS=function(a,b){var c=this.H;a=Q7(c,v(c.k$a,c,a));xp(a,b)};V7.prototype.interceptingDeleteReplies=V7.prototype.uS;V7.prototype.Pi=function(a){return(a=A7(this.C,a))?u7(a):null};V7.prototype.getAnchorData=V7.prototype.Pi;V7.prototype.My=function(a){return(a=A7(this.C,a))?a.vG():null};V7.prototype.getSuggestionId=V7.prototype.My;V7.prototype.Fl=function(){return this.D.ih().getId()};
V7.prototype.getCurrentAuthor=V7.prototype.Fl;V7.prototype.Yk=function(a){return(a=A7(this.C,a))?a.Lv().getId():null};V7.prototype.getAuthor=V7.prototype.Yk;V7.prototype.El=function(a){return(a=A7(this.C,a))?a.Lv().getName():null};V7.prototype.getAuthorName=V7.prototype.El;V7.prototype.yn=function(a){"string"===typeof a&&(a=this.Ka(a));return bEh(this).D.x9(a)};V7.prototype.getDocoPosition=V7.prototype.yn;V7.prototype.getDocoMaxHeight=function(a){return W7(this).getDocoMaxHeight(a)};
V7.prototype.getDocoMaxHeight=V7.prototype.getDocoMaxHeight;V7.prototype.XKb=function(a,b){W7(this).Zma(a,b)};V7.prototype.setDocoMaxHeight=V7.prototype.XKb;V7.prototype.Lh=function(a){a=cEh(this,a);W7(this).zI(a)};V7.prototype.flushAnchors=V7.prototype.Lh;V7.prototype.Mh=function(a){W7(this).zI(a)};V7.prototype.flushDocoPositions=V7.prototype.Mh;V7.prototype.t2a=function(a){a=cEh(this,a);W7(this).cU(a)};V7.prototype.updateAnchors=V7.prototype.t2a;V7.prototype.A2a=function(a){W7(this).cU(a)};
V7.prototype.updateDocoPositions=V7.prototype.A2a;V7.prototype.Xe=function(a){W7(this).w9(Tc(a,this.Ka,this))};V7.prototype.deleteAnchors=V7.prototype.Xe;V7.prototype.zf=function(a){W7(this).w9(a)};V7.prototype.deleteDocoPositions=V7.prototype.zf;V7.prototype.E2a=function(a){this.Dm?this.Dm.w0(a):this.Ha=a};V7.prototype.updateViewport=V7.prototype.E2a;V7.prototype.Qf=da("Wa");V7.prototype.enableAnchoredDocoAnimations=V7.prototype.Qf;
V7.prototype.Fs=function(){var a=this.D.L;return(a=a?this.C.ud(a):void 0)?u7(a):""};V7.prototype.getLinkedAnchor=V7.prototype.Fs;V7.prototype.Ns=function(){var a=this.D.L;return null===a?0:x7(this.C,a)};V7.prototype.getLinkedDoco=V7.prototype.Ns;V7.prototype.ZS=function(){var a=this.D.L;return null===a?!1:!!this.C.F[a]};V7.prototype.isLinkedDocoDeleted=V7.prototype.ZS;function cEh(a,b){var c={};Hd(b,function(d,e){(e=this.Ka(e))&&(c[e]=d)},a);return c}V7.prototype.MKb=function(a){this.C.Ka=a};
V7.prototype.setActiveSuggestions=V7.prototype.MKb;V7.prototype.Rn=function(){var a=this.C.O;return a&&a.Zj()?a.getId():null};V7.prototype.getHighlightedSuggestionDocoId=V7.prototype.Rn;V7.prototype.Ka=function(a){return(a=azh(this.C,a))?x7(this.C,a.getId()):0};V7.prototype.Pfb=function(){if(!this.D.O)throw Error("Pane div not specificed in config.");this.vza=La();VDh(this).Gb()&&(Hf(this.Bs),this.Bs=null);gIe(this.D.O,!1);VDh(this).render(this.D.O)};V7.prototype.renderPaneSurface=V7.prototype.Pfb;
V7.prototype.aT=function(){return VDh(this).D.SFa()};V7.prototype.isPaneSurfaceRendered=V7.prototype.aT;function W7(a){a.Dm||(a.Dm=dEh(a),a.Ha&&(a.Dm.w0(a.Ha),a.Ha=null));return a.Dm}function bEh(a){if(!a.Ot){WDh(a);var b=W7(a);a.Ot=new ZCh(a.F,b,v(a.C.R,a.C),b.qa())}return a.Ot}function WDh(a){if(!a.U_a){a.U_a=!0;var b=a.D.O,c=a.D.Ea;b&&(a.D.Dc||dw(gJd(""),b),a.D.D.install(b));!c||b&&co(b)==co(c)||(a.D.Dc||dw(gJd(""),c),a.D.D.install(c))}}
V7.prototype.sla=function(){if(!this.D.Ea)throw Error("Anchor surface div not specified in config.");bEh(this).Gb()&&(Hf(this.Ot),this.Ot=null,dEh(this));gIe(this.D.Ea,!1);bEh(this).render(this.D.Ea)};V7.prototype.renderAnchorSurface=V7.prototype.sla;
function dEh(a){var b=a.D.xj,c=FDh;"absolute"==b&&(c=ZAh);if(a.Dm&&(a.Dm instanceof c||a.Dm.dU()instanceof c))return a.Dm;var d=ao(a.D.Ea);c=new c(a.F,d);d=a.D.R;!d||b&&"vertical"!=b||(c=new eCh(c,d));a.Dm&&(a.Dm.$ma(c),Hf(a.Dm));a.Dm=c;a.Dm.hya(a);a.va(a.Dm);return a.Dm}
V7.prototype.xma=function(){if(!this.D.Wa)throw Error("Instant docos div not specified in config.");this.jt&&this.jt.Gb()&&(Hf(this.jt),this.jt=null);this.jt||this.J["enable-gsuite-embedding"]||(this.jt=new LBh(this.F,ao(this.D.Wa)),this.Ma.listen(this.jt,"create-draft",this.Dc),this.jt.render(this.D.Wa))};V7.prototype.renderInstantDocosButton=V7.prototype.xma;V7.prototype.Qcc=function(a,b,c){this.jt&&MBh(this.jt,a,b,c)};V7.prototype.showInstantDocosButtonAt=V7.prototype.Qcc;
V7.prototype.Cb=function(a){this.jt&&this.jt.nf(a)};V7.prototype.hideInstantDocosButton=V7.prototype.Cb;V7.prototype.ej=function(){return this.Dm?this.Dm.v0():null};V7.prototype.getAnchorSurfaceBounds=V7.prototype.ej;V7.prototype.setOption=function(a,b){this.J[a]!==b&&(this.J[a]=b,this.D.t0(this.J))};V7.prototype.setOption=V7.prototype.setOption;V7.prototype.cD=function(){if(this.Bs){var a=this.Bs;a.C.Ba&&a.C.Ba.focus()}};V7.prototype.grabFocus=V7.prototype.cD;
V7.prototype.q6b=function(a,b,c){this.J.listeners||(this.J.listeners={});this.J.listeners[a]=c?v(b,c):b;this.D.t0(this.J)};V7.prototype.setListener=V7.prototype.q6b;function eEh(a,b){return b&&a.C.R(b)?b.getId():null}V7.prototype.Tm=function(a){return(a=A7(this.C,a))?a.jx()?a.jx().getTime():null:null};V7.prototype.getDocoCreationTime=V7.prototype.Tm;
V7.prototype.YM=function(a,b){var c=i7(this.F);a=azh(this.C,a);a=eEh(this,a);var d=Gth(V6(a||""));b&&(b=this.D.Oa?this.Bs.D.getId():bEh(this).getId(),W6(d,b));c.tf("docos-before-highlight-doco").wb(X6(d));F7(g7(this.F),a);c.tf("docos-highlight-doco").wb(X6(d))};V7.prototype.highlightAnchor=V7.prototype.YM;
V7.prototype.Kb=function(a,b){var c=i7(this.F);a=A7(this.C,a);a=eEh(this,a);var d=Gth(V6(a||""));b&&(b=this.D.Oa?this.Bs.D.getId():bEh(this).getId(),d=W6(d,b));c.tf("docos-before-highlight-doco").wb(X6(d));F7(g7(this.F),a);c.tf("docos-highlight-doco").wb(X6(d))};V7.prototype.highlightDoco=V7.prototype.Kb;V7.prototype.K2a=function(a){var b=i7(this.F);a=A7(this.C,a);a=eEh(this,a);if(null!=a){var c=this.C.ud(a);c&&y7(this.Ba,s7(r7(q7(43045),c)));b.tf("docos-speak-doco").wb(a)}};
V7.prototype.verbalizeDoco=V7.prototype.K2a;V7.prototype.xL=function(a){return!!azh(this.C,a)};V7.prototype.hasDocoForAnchorId=V7.prototype.xL;V7.prototype.RD=function(a){return!!A7(this.C,a)};V7.prototype.hasDoco=V7.prototype.RD;V7.prototype.Yu=function(a){return(a=azh(this.C,a))?a.Zj()?!owh(this.C,a):a.isResolved():!1};V7.prototype.getResolvedForAnchorId=V7.prototype.Yu;V7.prototype.NS=function(a){return(a=A7(this.C,a))?a.isResolved():!1};V7.prototype.isDocoResolved=V7.prototype.NS;
V7.prototype.Sl=function(){var a=czh(this.C),b={3:{},1:{},2:{}};b.draft=K(a.C,2);b["smart-todo"]=K(a.C,14);b.total=K(a.C,1);var c=b[3];c.open=K(a.C,11);c.resolved=K(a.C,8);c.total=K(a.C,5);c=b[1];c.open=K(a.C,9);c.resolved=K(a.C,6);c.total=K(a.C,3);c=b[2];c.accepted=K(a.C,12);c.open=K(a.C,10);c.rejected=K(a.C,13);c.resolved=K(a.C,7);c.total=K(a.C,4);return b};V7.prototype.getDocoCounts=V7.prototype.Sl;V7.prototype.Am=function(){return czh(this.C).C.clone().serialize()};
V7.prototype.getDocoCounts2=V7.prototype.Am;V7.prototype.xj=function(){return W7(this).ana().C.clone().serialize()};V7.prototype.getAnchoredDocoCounts=V7.prototype.xj;V7.prototype.ek=function(){return Od(this.C.L)};V7.prototype.getAnchors=V7.prototype.ek;V7.prototype.getDocoHandles=function(){return this.C.getDocoHandles()};V7.prototype.getDocoHandles=V7.prototype.getDocoHandles;V7.prototype.Bb=function(){this.D.yI()&&(this.g5||(this.g5=new vCh(this.F),this.va(this.g5)),this.g5.setVisible(!0))};
V7.prototype.displayNotificationControlDialog=V7.prototype.Bb;V7.prototype.Lc=function(a){return a.x};V7.prototype.Qc=function(a){return a.y};function XDh(a){if(a.hVa&&!Gsh(a.F,"netIo")){var b=cCh(a.Pa);b&&(a.F.sf("netIo",b),a.Ya&&(a.Ya.H=b),b=a.R,jvh(b.C)?b.C.Pd?oCh(b.F,"r"):nCh(b)&&pCh(b):b.L(null),Gsh(a.F,"subscriptionManager")&&Gwh(a.F).F.resolve())}}V7.prototype.ge=function(a){this.R.H.get("netIo").C.QFa(a)};V7.prototype.connectBrowserChannel=V7.prototype.ge;
V7.prototype.Kia=function(){var a=T7(this,"net-error");a&&a((new Z6("net-error")).build());this.D.qy&&(this.setOption("accessLevel","readonly"),a=VDh(this),a.Ba||(a.Ba=!0,sDh(a)))};V7.prototype.Vc=function(){oCh(this,"r");this.Oa()};V7.prototype.Oa=function(){this.hVa=!0;XDh(this)};V7.prototype.Kja=function(a){SDh(this,"r",a)};V7.prototype.onReady=V7.prototype.Kja;V7.prototype.Ija=function(a){SDh(this,"s",a)};V7.prototype.onInitialSyncSuccess=V7.prototype.Ija;
V7.prototype.Gja=function(a){SDh(this,"e",a)};V7.prototype.onInitialSyncError=V7.prototype.Gja;V7.prototype.He=function(){var a=this.D.J["create-draft"];if(a){var b=(new Z6("create-draft")).setApiEventArgs(new P7(!1)).build();a(b)}else throw Error("Can not create a discussion because the editor did not provide a handler.");};V7.prototype.Dc=function(){var a=this.D.J["create-draft"];if(a){var b=(new Z6("create-draft")).setApiEventArgs(new P7(!0,new bm(0,this.jt.D.H),this.jt.D.O)).build();a(b)}};
function SDh(a,b,c){if(b in a.ma){var d=a.ma[b];null===d?c():a.ma[b]=he(d,c)}else a.ma[b]=c}function oCh(a,b){var c=a.ma[b];null!=c&&c();a.ma[b]=null}V7.prototype.Ucc=function(){this.Pb()};V7.prototype.tickle=V7.prototype.Ucc;V7.prototype.Pb=function(){a:{var a=this.R;if(jvh(a.C)){if(!a.O){if(!a.D&&!nCh(a))break a;pCh(a)}gCh(a.D,a.C.Ica?1:void 0)}}};V7.prototype.sync=V7.prototype.Pb;V7.prototype.Oi=function(){qCh(this.R)};V7.prototype.fullSync=V7.prototype.Oi;
V7.prototype.Pd=function(){var a=this.R;jvh(a.C)&&(a.D.H=!0)};V7.prototype.blockFutureSync=V7.prototype.Pd;V7.prototype.c1a=function(){var a=this.R;jvh(a.C)&&(a.D.H=!1)};V7.prototype.unblockFutureSync=V7.prototype.c1a;V7.prototype.YS=function(){var a=this.R;return jvh(a.C)?a.D.H:!1};V7.prototype.isFutureSyncBlocked=V7.prototype.YS;V7.prototype.qy=function(){var a=this.D;return null!=a.u0?a.u0:6E4};V7.prototype.getRetryBackoffThreshold=V7.prototype.qy;V7.prototype.JS=function(){return this.D.t9};
V7.prototype.isBrowserChannelEnabled=V7.prototype.JS;V7.prototype.XS=function(){return!!Ri(this.D.C,30)};V7.prototype.isDocsStreamHeaderEnabled=V7.prototype.XS;V7.prototype.$S=function(){return kvh(this.D)};V7.prototype.isNewDocosStreamPaneUiEnabled=V7.prototype.$S;V7.prototype.nM=function(){return Xyh(this.C)};V7.prototype.hasPendingContent=V7.prototype.nM;p=V7.prototype;
p.v1b=function(a){var b=this,c=a.data;a=Hvh(Gvh(43011),c.Aj);var d=null!=c.Cm;d&&Ivh(a,c.Cm);cwh($vh(this.F),Jvh(a));xp(QBh(this.H,c.Aj),function(e){if(e){e=(e=b.C.O)&&e.getId()!==c.Aj;e||(b.Tva(new As(d?new Dth("",void 0,void 0,void 0,c.Cm):U6())),b.pua(new As(d?new Dth("",void 0,void 0,void 0,c.Cm):U6())));var f=T7(b,"deleted");if(f&&c.Cm&&c.Xo){var h=(new Z6("deleted")).addAnchorId(c.Cm).addDocoHandle(c.Xo).setUserInitiated(!0).build();f(h);b.hR=null}e&&(b.hR=b.C.O)}})};
p.HMb=function(a){a=a.data;fEh(this,a.Xo,a.Aj,a.bR)};p.K1b=function(a){a=a.data;fEh(this,a.Xo,a.Aj,a.bR,a.Tfb)};function fEh(a,b,c,d,e){var f=T7(a,"before-doco-deleted");if(f&&b){var h=u7(A7(a.C,b));d=e?new DBh(d,e):new wBh(d);b=(new tBh("before-doco-deleted")).addAnchorId(h).addDocoHandle(b).setUserInitiated(!0).setApiEventArgs(d).build();f(b);if(b.C)return}gEh(a,c,!0,e)}
p.H1b=function(a){var b=a.data;if((a=T7(this,"converted"))&&b){var c=u7(A7(this.C,b.Xo)),d=new O7(c,b.TUa,b.bR);b=(new tBh("converted")).addAnchorId(c).addDocoHandle(b.Xo).setUserInitiated(!0).setApiEventArgs(d).build();a(b)}};p.GMb=function(a){(a=A7(this.C,a))&&gEh(this,a.getId(),!1)};V7.prototype.deleteDoco=V7.prototype.GMb;function gEh(a,b,c,d){var e=a.C.ud(b),f=x7(a.C,b);e=u7(e);var h=a.H;b=Q7(h,v(h.i$a,h,b,d));xp(b,v(a.Q2a,a,e,f,c))}
V7.prototype.Q2a=function(a,b,c,d){if(d){d=T7(this,"before-selected");var e=T7(this,"selected"),f=T7(this,"deleted");if(a&&b){if(d){var h=(new Z6("before-selected")).setUserInitiated(c).build();d(h)}e&&(h=(new Z6("selected")).setUserInitiated(c).build(),e(h));f&&(h=(new Z6("deleted")).addAnchorId(a).addDocoHandle(b).setUserInitiated(c).build(),f(h));this.hR=null}}};V7.prototype.k1a=function(a){return gwh(this.L,a)};V7.prototype.undoDeleteDoco=V7.prototype.k1a;
V7.prototype.T0b=function(a){this.Za=a;P(bEh(this).getElement(),a)};V7.prototype.setDocosGutterVisibility=V7.prototype.T0b;V7.prototype.TS=g("Za");V7.prototype.isDocosGutterVisible=V7.prototype.TS;V7.prototype.Vg=function(){var a=this.fc;a.C=a.H.H.C;a.F.setOption("accessLevel","readonly")};V7.prototype.enterReanchorMode=V7.prototype.Vg;V7.prototype.lIb=function(){var a=this.fc;a.D.V=!1;null!=a.C&&(a.F.setOption("accessLevel",a.C),a.C=null)};V7.prototype.resetReanchorMode=V7.prototype.lIb;
V7.prototype.HS=function(a,b){var c=this.H;a=Q7(c,v(c.vbc,c,a));xp(a,b)};V7.prototype.interceptingUndoDeleteDoco=V7.prototype.HS;V7.prototype.gcc=function(a,b){this.L.PFa(a,new O6(b))};V7.prototype.setSuggestionQuote=V7.prototype.gcc;V7.prototype.FS=function(a,b){var c=this.H;b=new O6(b);Q7(c,v(c.Y8b,c,a,b))};V7.prototype.interceptingSetSuggestionQuote=V7.prototype.FS;
V7.prototype.Ny=function(a){a=A7(this.C,a);if(!a)return null;if(!a.Zj())throw Error("Attempting to get model diff summary from a non-suggestion.");return a.L1()};V7.prototype.getSuggestionQuote=V7.prototype.Ny;V7.prototype.oh=function(a){return this.Ta?jBh(this.Ta,a):new hBh(Uo())};V7.prototype.findAssignee=V7.prototype.oh;V7.prototype.Scc=function(){Hwh(this.F).C=!0};V7.prototype.startBatchEvent=V7.prototype.Scc;V7.prototype.Jg=function(){var a=Hwh(this.F);a.C&&(a.C=!1,a.D.dispatchEvent(null))};
V7.prototype.endBatchEvent=V7.prototype.Jg;p=V7.prototype;p.JMb=function(a){a=a.data;var b=this.H;b=Q7(b,v(b.p7b,b,a.C,a.D,a.F));xp(b,v(this.L5b,this,a))};
p.L5b=function(a,b){if(b){b=T7(this,"before-selected");var c=T7(this,"selected");if(c){var d=this.C.ud(a.C),e=x7(this.C,a.C);d&&d.Ry()&&e&&(a.D?(b&&(a=(new Z6("before-selected")).setUserInitiated(!0).build(),b(a)),a=(new Z6("selected")).setUserInitiated(!0).build(),c(a),this.hR=null):(b&&(a=(new Z6("before-selected")).addAnchorId(u7(d)).addDocoHandle(e).setUserInitiated(!0).build(),b(a)),a=(new Z6("selected")).addAnchorId(u7(d)).addDocoHandle(e).setUserInitiated(!0).build(),c(a),this.hR=d))}}};
p.O4b=function(a){a=a.data;var b=this.H;Q7(b,v(b.ncc,b,a.C,a.D))};p.P4b=function(a){a=a.data;var b=this.H;Q7(b,v(b.occ,b,a.C,a.D,a.F))};p.l1b=function(a){var b=this.D.zf;b&&(a=this.C.ud(a.data.Aj))&&b(u7(a),!0)};
function hEh(a,b,c){var d=T7(a,c);if(d){var e=a.C.ud(b.C)||null,f=b.F;if(e!=a.hR||"number"===typeof f){var h=new Z6(c),k=x7(a.C,b.C);e&&e.Ry()&&k&&h.addAnchorId(u7(e)).addDocoHandle(k);k=new n5;var l=b.R;null!=l?k=new rBh(l):"number"===typeof f?k=new jLg(f):void 0!==b.H&&(k=new EBh(b.H));f=!!e&&!a.C.R(e);h.setNonAnchored(f).setUserInitiated(b.L).setApiEventArgs(k);d(h.build())}"selected"==c&&(a.hR=e)}}p.Tva=function(a){hEh(this,a.data,"before-selected")};
p.pua=function(a){var b=a.data;hEh(this,b,"selected");if(a=this.C.ud(b.C)){b="number"===typeof b.F?4:b.D==bEh(this).getId()?1:b.D==VDh(this).D.getId()?2:3;var c=this.Ba;a=r7(q7(43044),a);a.H=b;y7(c,s7(a))}};p.b3b=function(a){a=a.data;var b=a.C,c=this.H;Q7(c,v(c.P5a,c,a.D,a.F,null,b?b:void 0))};p.S4b=function(a){var b=a.data;if(a=T7(this,"write-feedback"))b=(new Z6("write-feedback")).setUserInitiated(!0).setApiEventArgs(new PDh(b.source)).build(),a(b)};
p.P1b=function(){var a=T7(this,"disable-smart-todo-feature");if(a){var b=(new Z6("disable-smart-todo-feature")).setUserInitiated(!0).build();a(b)}};p.IMb=function(a){var b=this,c=a.data;xp(RBh(this.H,c.Eab,c.Cm,c.text,c.quote,c.Pha,c.t_),function(d){if(0<d){var e=c.Cm,f=c.Xo,h=T7(b,"posted");h&&e&&f&&(e=(new Z6("posted")).addAnchorId(e).addDocoHandle(f).setUserInitiated(!0).build(),h(e));b.Tva(new As(U6()));b.pua(new As(U6()))}return d})};
p.Y2b=function(a){var b=T7(this,"hover");if(b){a=a.data;var c=Jth("hover").setNonAnchored(!a.WJb).setUserInitiated(!0);if(a.eKb){var d=this.C.ud(a.Aj);c.addAnchorId(d?u7(d):"");c.addDocoHandle(x7(this.C,a.Aj))}b(c.build())}};p.V2b=function(a){if("dd"==a.type){var b=T7(this,"deleted");if(b&&a.C&&a.D&&(a.Hq||this.D.Ka)&&a.V&16){var c=(new Z6("deleted")).addDocoHandle(a.D);a.Hq&&c.addAnchorId(a.Hq);a=c.build();b(a)}}};
p.U2b=function(a){if("bu"==a.type){var b=Jth("created");this.xa&&(b.setApiEventArgs(new yBh(this.xa,a.C[0].Cm)),this.xa=null);var c=Jth("resolved"),d=Jth("unresolved");b=CBh(b,a.C,8);c=CBh(c,a.C,2);d=CBh(d,a.C,4);iEh(this,"created",b);iEh(this,"resolved",c);iEh(this,"unresolved",d)}};p.k3b=function(a){if("p"==a.type&&(a=T7(this,"pending"))){var b=(new Z6("pending")).setUserInitiated(!0).build();a(b)}};
p.$0b=function(){var a=T7(this,"view-updated");if(a){var b=(new Z6("view-updated")).setUserInitiated(!0).build();a(b)}};function iEh(a,b,c){a=T7(a,b);!c.isEmpty()&&a&&a(c.build())}function T7(a,b){return a.isDisposed()?null:a.D.J[b]||null}
p.Ja=function(){delete this.Dm;delete this.D;delete this.pQ;delete this.L;delete this.Ya;delete this.Ma;delete this.$a;delete this.Pa;delete this.g5;delete this.Ea;delete this.C;delete this.Qa;Hf(this.jt);delete this.jt;Hf(this.Ot);delete this.Ot;Hf(this.Bs);delete this.Bs;V7.Ua.Ja.call(this);Hf(this.F);delete this.F};oa("Docos",V7,void 0);oa("Docos.Point",bm,void 0);oa("Docos.Point.getX",V7.prototype.Lc,void 0);oa("Docos.Point.getY",V7.prototype.Qc,void 0);
oa("Docos.AbstractAlteredDocoArgs",vAh,void 0);oa("Docos.NewDraftArgs",BAh,void 0);oa("Docos.LayoutType.ABSOLUTE","absolute",void 0);oa("Docos.LayoutType.VERTICAL","vertical",void 0);oa("Docos.UiVersion.LEGACY","legacy",void 0);oa("Docos.UiVersion.MATERIAL_BLUE","material_blue",void 0);oa("Docos.UiVersion.MATERIAL_GREEN","material_green",void 0);oa("Docos.UiVersion.MATERIAL_YELLOW","material_yellow",void 0);oa("Docos.OptionName.ACCESS_LEVEL","accessLevel",void 0);
oa("Docos.OptionName.ACL_CHECK_FN","acl-check-fn",void 0);oa("Docos.OptionName.ACL_FIX_FN","acl-fix-fn",void 0);oa("Docos.OptionName.ANCHOR_DIV","anchordiv",void 0);oa("Docos.OptionName.ANCHOR_IS_ORPHANED_FN","anchor-is-orphaned-fn",void 0);oa("Docos.OptionName.ANCHOR_MUTATE_FN","anchor-mutate-fn",void 0);oa("Docos.OptionName.ANCHOR_SHADOW","anchor-shadow",void 0);oa("Docos.OptionName.AUTO_COMPLETE_FACTORIES","auto-complete-factories",void 0);
oa("Docos.OptionName.BROWSER_APP_CLIPBOARD","browser-app-clipboard",void 0);oa("Docos.OptionName.DRIVE_ID","drive-id",void 0);oa("Docos.OptionName.DOCO_LINK_BASE_URL","doco-link-base-url",void 0);oa("Docos.OptionName.DEFER_FIRST_SYNC","defer-first-sync",void 0);oa("Docos.OptionName.DELETE_DIALOG_SHOW","delete-dialog-show",void 0);oa("Docos.OptionName.DIALOG_CLOSED","dialog-closed",void 0);oa("Docos.OptionName.DIALOG_OPENED","dialog-opened",void 0);
oa("Docos.OptionName.DISABLE_FOCUS","disable-focus",void 0);oa("Docos.OptionName.DISABLE_STREAM_PANE_FOCUS_WRAPPING","disable-spfw",void 0);oa("Docos.OptionName.DOC_SCROLLER","docscroller",void 0);oa("Docos.OptionName.ENABLE_COMMENT_BUTTON","enable-comment-button",void 0);oa("Docos.OptionName.ENABLE_GSUITE_EMBEDDING","enable-gsuite-embedding",void 0);oa("Docos.OptionName.ENABLE_INSTANT_MENTIONS","enable-instant-mentions",void 0);oa("Docos.OptionName.ENABLE_LAZY_LOADING","enable-lazy-loading",void 0);
oa("Docos.OptionName.ENABLE_PRESENCE_MODAL","enable-presence-modal",void 0);oa("Docos.OptionName.ENABLE_NEW_DELETE_UI","enable-new-delete-ui",void 0);oa("Docos.OptionName.ENABLE_ALL_DOCOS_IN_ANCHORED_STREAM","enable-all-docos-in-anchored-stream",void 0);oa("Docos.OptionName.ENABLE_ROVING_TABINDEX","enable-roving-tabindex",void 0);oa("Docos.OptionName.ENABLE_TRACK_MOUSE_POSITIONS_IN_DOCO_VIEW","enable-track-mouse-positions-in-doco-view",void 0);
oa("Docos.OptionName.ENABLE_DOCOS_PEOPLE_HOVERCARD","enable-docos-people-hovercard",void 0);oa("Docos.OptionName.FATAL_READONLY","fatal-readonly",void 0);oa("Docos.OptionName.HIDE_NOTIFICATION_SETTINGS","hide-notification",void 0);oa("Docos.OptionName.HIDE_PROMO_FN","hidepromofn",void 0);oa("Docos.OptionName.IGNORE_POSITIONAL_HISTORY","iph",void 0);oa("Docos.OptionName.IMPRESSION_RECORDER_FN","impression-recorder-fn",void 0);oa("Docos.OptionName.INACTIVE_DOCO_INDENT","inactive-doco-indent",void 0);
oa("Docos.OptionName.INSTANT_DOCOS_DIV","instant-docos-div",void 0);oa("Docos.OptionName.INTERCEPT_DOCO_EDIT_FN","intercept-docos-edit-fn",void 0);oa("Docos.OptionName.IS_AN_ILLEGAL_WRITE_FUNCTION","is-an-illegal-write-fn",void 0);oa("Docos.OptionName.IO","i",void 0);oa("Docos.OptionName.IS_UNTRUSTED_IFRAME","untrusted-iframe",void 0);oa("Docos.OptionName.KEY_DATA","kd",void 0);oa("Docos.OptionName.LATENCY_REPORTER","latency-reporter",void 0);
oa("Docos.OptionName.MEMORY_MONITOR_FN","memory-monitor-fn",void 0);oa("Docos.OptionName.LAYOUT","layout",void 0);oa("Docos.OptionName.LAYOUT_RTL","layoutrtl",void 0);oa("Docos.OptionName.LINK_OPENER","link-opener",void 0);oa("Docos.OptionName.LISTENERS","listeners",void 0);oa("Docos.OptionName.LOAD_ACL_FIXER_FN","load-acl-fixer-fn",void 0);oa("Docos.OptionName.LOCAL","l",void 0);oa("Docos.OptionName.LOG_LATENCY_EVENT_FN","log-latency-event-fn",void 0);
oa("Docos.OptionName.MAX_DOCO_HEIGHT","maxheight",void 0);oa("Docos.OptionName.MODAL_DIALOG_Z_INDEX","modal-dialog-z-index",void 0);oa("Docos.OptionName.OFFLINE","offline",void 0);oa("Docos.OptionName.OVERFLOW_MENU_ITEMS","overflow-menu-items",void 0);oa("Docos.OptionName.OVERFLOW_MENU_SHOW_LINK","overflow-menu-show-link",void 0);oa("Docos.OptionName.PANE_DIV","panediv",void 0);oa("Docos.OptionName.PANE_KB_DIV","panekbdiv",void 0);oa("Docos.OptionName.PRESENCE_MODAL_SHOW","presence-modal-show",void 0);
oa("Docos.OptionName.SHOW_ERRORS","showerrors",void 0);oa("Docos.OptionName.TOOLTIP_MANAGER","tooltip-manager",void 0);oa("Docos.OptionName.QUOTE_FN","quotefn",void 0);oa("Docos.OptionName.QUOTE_RENDER_FN","quoterenderfn",void 0);oa("Docos.OptionName.READONLY","readonly",void 0);oa("Docos.OptionName.RESOLVE","resolve",void 0);oa("Docos.OptionName.SCROLL_CONTAINER","container",void 0);oa("Docos.OptionName.SCROLL_CONTAINER_DIV","containerdiv",void 0);
oa("Docos.OptionName.SET_TOTAL_DOCOS_COUNTS_FN","set-total-docos-counts-fn",void 0);oa("Docos.OptionName.SHOW_PROMO_FN","showpromofn",void 0);oa("Docos.OptionName.SORT_PANE","sortpane",void 0);oa("Docos.OptionName.SORT_PANE_BY","sortpaneby",void 0);oa("Docos.OptionName.STORAGE","storage",void 0);oa("Docos.OptionName.STORAGE_IS_READ_ONLY","storage-ro",void 0);oa("Docos.OptionName.STREAM_BUTTON","stream-button",void 0);
oa("Docos.OptionName.STREAM_PANE_BANNER_LEARN_MORE_URL","stream-pane-banner-learn-more-url",void 0);oa("Docos.OptionName.STREAM_PANE_BANNER_MESSAGE","stream-pane-banner-message",void 0);oa("Docos.OptionName.SYNC_ONCE","so",void 0);oa("Docos.OptionName.UI_VERSION","ui-version",void 0);oa("Docos.OptionName.USER_COLOR_FROM_NAME_PROVIDER_FN","user-color-provider-from-name-fn",void 0);oa("Docos.OptionName.USER_COLOR_PROVIDER_FN","user-color-provider-fn",void 0);
oa("Docos.OptionName.STATIC_INPUT_PANE_MESSAGE","static-input-pane-message",void 0);oa("Docos.EventType.BEFORE_DOCO_DELETED","before-doco-deleted",void 0);oa("Docos.EventType.BEFORE_SELECTED","before-selected",void 0);oa("Docos.EventType.BEFORE_SUGGESTION_ACCEPTED","before-suggestion-accepted",void 0);oa("Docos.EventType.BEFORE_SUGGESTION_REJECTED","before-suggestion-rejected",void 0);oa("Docos.EventType.BOUNDS_UPDATED","bounds",void 0);oa("Docos.EventType.CONVERTED","converted",void 0);
oa("Docos.EventType.CREATE_DRAFT","create-draft",void 0);oa("Docos.EventType.CREATED","created",void 0);oa("Docos.EventType.DELETED","deleted",void 0);oa("Docos.EventType.DISABLE_SMART_TODO_FEATURE","disable-smart-todo-feature",void 0);oa("Docos.EventType.DOCO_RENDERED","doco-rendered",void 0);oa("Docos.EventType.HIGHLIGHT_INITIAL_DOCO","highlight-initial-doco",void 0);oa("Docos.EventType.HOVER","hover",void 0);oa("Docos.EventType.INITIAL_ANCHORED_RENDER_DONE","initial-anchored-render-done",void 0);
oa("Docos.EventType.INITIAL_PANE_RENDER_DONE","initial-pane-render-done",void 0);oa("Docos.EventType.INITIAL_SYNC_ERROR","sync-error",void 0);oa("Docos.EventType.INITIAL_SYNC_SUCCESS","sync-success",void 0);oa("Docos.EventType.INITIAL_SYNC_AND_RENDER_COMPLETE","initial-sync-and-render-complete",void 0);oa("Docos.EventType.LINKED_DOCO_HIGHLIGHTED","linked-doco-highlighted",void 0);oa("Docos.EventType.MODEL_LOADED","model-loaded",void 0);oa("Docos.EventType.NETWORK_ERROR","net-error",void 0);
oa("Docos.EventType.PENDING","pending",void 0);oa("Docos.EventType.POSTED","posted",void 0);oa("Docos.EventType.REANCHOR","reanchor",void 0);oa("Docos.EventType.RESOLVED","resolved",void 0);oa("Docos.EventType.SELECTED","selected",void 0);oa("Docos.EventType.TOGGLE_SHOW_STREAM_PANE","toggle-show-stream-pane",void 0);oa("Docos.EventType.UNRESOLVED","unresolved",void 0);oa("Docos.EventType.VIEW_FLUSHED","view-updated",void 0);oa("Docos.EventType.WRITE_FEEDBACK","write-feedback",void 0);
oa("Docos.AccessLevel.READONLY","readonly",void 0);oa("Docos.AccessLevel.SUGGEST","suggest",void 0);oa("Docos.AccessLevel.FULL","full",void 0);oa("Docos.NewDocoType",jod,void 0);oa("Docos.NewDocoType.CLIENT_INTEGRATED_DRAFT","client-integrated-draft",void 0);oa("Docos.NewDocoType.DISCUSSION","discussion",void 0);oa("Docos.NewDocoType.DRAFT","draft",void 0);oa("Docos.NewDocoType.INSTANT_DOCO","instant-doco",void 0);oa("Docos.NewDocoType.SMART_TODO","smart-todo",void 0);
oa("Docos.NewDocoType.SUGGESTION","suggestion",void 0);oa("Docos.prototype.dispose",V7.prototype.dispose,void 0);oa("Docos.CountField.ACCEPTED","accepted",void 0);oa("Docos.CountField.DRAFT","draft",void 0);oa("Docos.CountField.OPEN","open",void 0);oa("Docos.CountField.REJECTED","rejected",void 0);oa("Docos.CountField.RESOLVED","resolved",void 0);oa("Docos.CountField.TOTAL","total",void 0);oa("Docos.FeedbackSource.SMART_TODO","smart-todo",void 0);
window.closure_verification&&(window.closure_verification.dcs_main_js={});function jEh(){aMg.apply(this,arguments)}u(jEh,aMg);NK("docosbundled",jEh);
