$W.prototype.MU=ZF(417,function(a){this.Bqa=a;this.resize()});FSc.prototype.getDocoMaxHeight=ZF(406,function(a){return this.D.getDocoMaxHeight(wS(this.F,a))});OL.prototype.getOriginatingDocoType=ZF(382,function(){return L(this,4)});Ooa.prototype.b1=ZF(23,function(){throw ph("setValue not supported").D;});sja.prototype.H=ZF(20,function(){throw ph("remove").D;});Nja.prototype.H=ZF(19,function(){ki(this.O,this.J);this.J--});
Koa.prototype.H=ZF(18,function(){pja(0<=this.J);Toa(this.O,this.R[this.J]);Uoa(this.O);--this.J});function $Lf(a,b){a.FI=b.FI;return a}function aMf(a,b,c){for(a=a.$f();a.D();){var d=a.F();if(Sg(b,d))return c&&a.H(),!0}return!1}function bMf(a,b,c){return a.lM(b)?a.zea(b,c):null}function cMf(a,b){var c=b.po();b=b.qo();var d=a.get(c);return!Sg(b,d)||null==d&&!a.lM(c)?!1:!0}function dMf(a){return a?a.qo():null}
function eMf(a){if(a.J.D())return!0;if(!hg(a.J,a.W))return!1;a.J=a.R.D.$f();return a.J.D()}function fMf(a,b){return(a=a.D.get(b))?a:[]}function gMf(a,b){for(var c=0;c<b.length;c++){var d=b[c];if(Sg(a,d.po()))return d}return null}function hMf(a,b){var c=a.D.get(b);if(void 0===c)a.F++;else{var d=a.D;d["delete"].call(d,b);a.H--}return c}function iMf(a,b,c){var d=a.D.get(b);a.D.set(b,void 0===c?null:c);void 0===d?a.H++:a.F++;return d}
function jMf(a,b){for(b=b.$f();b.D();){var c=b.F().qo();if(Sg(a,c))return!0}return!1}function kMf(){this.O=this.J=0}x(kMf,E);kMf.prototype.D=function(){return this.J<this.R.size()};kMf.prototype.F=function(){this.D();return this.R.o$(this.O=this.J++)};kMf.prototype.H=function(){this.R.O3(this.O);this.J=this.O;this.O=-1};function lMf(){kMf.call(this)}x(lMf,kMf);function mMf(){this.O=!1}x(mMf,E);mMf.prototype.D=p("O");
mMf.prototype.F=function(){this.D();this.V=this.J;var a=this.J.F();this.O=eMf(this);return a};mMf.prototype.H=function(){this.V.H();this.V=null;this.O=eMf(this)};function nMf(){}x(nMf,E);nMf.prototype.D=function(){return this.J.D()};nMf.prototype.F=function(){return this.J.F().qo()};nMf.prototype.H=function(){this.J.H()};function oMf(){}x(oMf,E);oMf.prototype.D=function(){return this.J.D()};oMf.prototype.F=function(){return this.J.F().po()};oMf.prototype.H=function(){this.J.H()};
function pMf(){this.J=this.O=0}x(pMf,E);pMf.prototype.D=function(){return this.O<this.R.D.length};pMf.prototype.F=function(){this.D();this.J=this.O++;return this.R.D[this.J]};pMf.prototype.H=function(){this.R.O3(this.O=this.J);this.J=-1};function qMf(a){var b;null==a?b=0:b=Wg(a)|0;return b}function rMf(a,b){for(var c=qMf(b),d=fMf(a,c),e=0;e<d.length;e++){var f=d[e];if(Sg(b,f.po()))return 1==d.length?(d.length=0,b=a.D,b["delete"].call(b,c)):d.splice(e,1),a.F--,f.qo()}return null}
function sMf(){this.J=0}x(sMf,E);sMf.prototype.D=function(){if(this.J<this.O.length)return!0;var a=this.W.next();return a.done?!1:(this.O=a.value[1],this.J=0,!0)};sMf.prototype.F=function(){return this.R=this.O[this.J++]};sMf.prototype.H=function(){rMf(this.V,this.R.po());0!=this.J&&this.J--};function tMf(){this.F=0}x(tMf,E);tMf.prototype.$f=function(){var a=new sMf;a.V=this;a.W=a.V.D.entries();a.J=0;a.O=[];a.R=null;return a};
function uMf(a){var b=0;for(a=a.$f();a.D();){var c=a.F();b+=Vg(c);b|=0}return b}function vMf(){}x(vMf,E);vMf.prototype.Fa=function(a){return null!=a&&a.SN?Sg(this.po(),a.po())&&Sg(this.qo(),a.qo()):!1};vMf.prototype.Yf=function(){return Vg(this.po())^Vg(this.qo())};vMf.prototype.toString=function(){return F(this.po())+"="+F(this.qo())};vMf.prototype.SN=!0;function wMf(){this.H=0}x(wMf,vMf);wMf.prototype.po=function(){return this.D.value[0]};
wMf.prototype.qo=function(){return this.F.F!=this.H?this.F.D.get(this.D.value[0]):this.D.value[1]};wMf.prototype.b1=function(a){return iMf(this.F,this.D.value[0],a)};function xMf(){}x(xMf,E);xMf.prototype.D=function(){return!this.O.done};xMf.prototype.F=function(){this.V=this.O;this.O=this.R.next();var a=new wMf,b=this.V,c=this.J.F;a.F=this.J;a.D=b;a.H=c;return a};xMf.prototype.H=function(){hMf(this.J,this.V.value[0])};function yMf(){this.F=this.H=0}x(yMf,E);
yMf.prototype.$f=function(){var a=new xMf;a.J=this;a.R=a.J.D.entries();a.O=a.R.next();return a};function zMf(a){var b=new tMf;b.D=new Map;b.H=a;a.D=b;b=new yMf;b.D=new Map;b.J=a;a.F=b}function AMf(a,b){return hg(b,a)?"(this Map)":F(b)}function BMf(){}x(BMf,E);BMf.prototype.toString=function(){return this.D?wh(this.F)?this.D.toString():F(this.D.toString())+F(this.F):this.O};function CMf(a,b){var c=new BMf;c.J=", ".toString();c.H=a.toString();c.F=b.toString();c.O=F(c.H)+F(c.F);return c}
function DMf(a,b){a.D?dh(a.D,a.J):a.D=zia(a.H);a=a.D;a.Sm=F(a.Sm)+F(b)}function EMf(){}x(EMf,E);w=EMf.prototype;w.po=p("F");w.qo=p("D");w.b1=function(a){var b=this.D;this.D=a;return b};w.Fa=function(a){return null!=a&&a.SN?Sg(this.F,a.po())&&Sg(this.D,a.qo()):!1};w.Yf=function(){return Vg(this.F)^Vg(this.D)};w.toString=function(){return F(this.F)+"="+F(this.D)};w.SN=!0;function FMf(){}x(FMf,EMf);function GMf(a,b){var c=new FMf;c.F=a;c.D=b;return c}
function HMf(a,b,c){var d=qMf(b),e=fMf(a,d);if(0==e.length)a.D.set(d,e);else if(d=gMf(b,e))return d.b1(c);e[e.length]=GMf(b,c);a.F++;return null}function IMf(a,b,c){for(a=a.FA().$f();a.D();){var d=a.F();if(Sg(b,d.po()))return c&&(d=GMf(d.po(),d.qo()),a.H()),d}return null}function JMf(){}x(JMf,E);w=JMf.prototype;w.add=function(){throw ph("Add not supported on this collection").D;};w.clear=function(){for(var a=this.$f();a.D();)a.F(),a.H()};w.contains=function(a){return aMf(this,a,!1)};
w.isEmpty=function(){return 0==this.size()};w.remove=function(a){return aMf(this,a,!0)};w.Cf=function(){return this.dva(Array(this.size()))};w.dva=function(a){var b=this.size();a.length<b&&(a=$Lf(Array(b),a));for(var c=a,d=this.$f(),e=0;e<b;++e){var f=d.F();c[e]=f}a.length>b&&(a[b]=null);return a};w.toString=function(){for(var a=CMf("[","]"),b=this.$f();b.D();){var c=b.F();DMf(a,hg(c,this)?"(this Collection)":F(c))}return a.toString()};function KMf(){}x(KMf,JMf);KMf.prototype.clear=function(){this.D.clear()};
KMf.prototype.contains=function(a){return this.D.kr(a)};KMf.prototype.$f=function(){var a=this.D.FA().$f(),b=new nMf;b.J=a;return b};KMf.prototype.size=function(){return this.D.size()};function LMf(){}x(LMf,JMf);LMf.prototype.Fa=function(a){if(hg(a,this))return!0;if(null==a||!a.mja)return!1;if(a.size()!=this.size())a=!1;else a:{for(a=a.$f();a.D();){var b=a.F();if(!this.contains(b)){a=!1;break a}}a=!0}return a};LMf.prototype.Yf=function(){return uMf(this)};LMf.prototype.mja=!0;function MMf(){}
x(MMf,LMf);w=MMf.prototype;w.clear=function(){this.D.clear()};w.contains=function(a){return null!=a&&a.SN?cMf(this.D,a):!1};w.$f=function(){var a=new mMf;a.R=this.D;a.W=a.R.F.$f();a.J=a.W;a.O=eMf(a);return a};w.remove=function(a){return this.contains(a)?(this.D.remove(a.po()),!0):!1};w.size=function(){return this.D.size()};function NMf(){}x(NMf,LMf);w=NMf.prototype;w.clear=function(){this.D.clear()};w.contains=function(a){return this.D.lM(a)};
w.$f=function(){var a=this.D.FA().$f(),b=new oMf;b.J=a;return b};w.remove=function(a){return this.D.lM(a)?(this.D.remove(a),!0):!1};w.size=function(){return this.D.size()};function OMf(){}x(OMf,E);w=OMf.prototype;w.clear=function(){this.FA().clear()};w.lM=function(a){return!!IMf(this,a,!1)};w.kr=function(a){for(var b=this.FA().$f();b.D();){var c=b.F().qo();if(Sg(a,c))return!0}return!1};
w.Fa=function(a){if(hg(a,this))return!0;if(null==a||!a.kDa||this.size()!=a.size())return!1;for(a=a.FA().$f();a.D();){var b=a.F();if(!cMf(this,b))return!1}return!0};w.get=function(a){return dMf(IMf(this,a,!1))};w.Yf=function(){return uMf(this.FA())};w.isEmpty=function(){return 0==this.size()};w.j7a=function(){var a=new NMf;a.D=this;return a};w.zea=function(){throw ph("Put not supported on this map").D;};w.remove=function(a){return dMf(IMf(this,a,!0))};w.size=function(){return this.FA().size()};
w.toString=function(){for(var a=CMf("{","}"),b=this.FA().$f();b.D();){var c=b.F();c=F(AMf(this,c.po()))+"="+F(AMf(this,c.qo()));DMf(a,c)}return a.toString()};w.values=function(){var a=new KMf;a.D=this;return a};w.replace=function(a,b){return bMf(this,a,b)};w.kDa=!0;function PMf(){}x(PMf,OMf);w=PMf.prototype;w.clear=function(){zMf(this)};w.lM=function(a){var b;zh(a)?b=null==a?!!gMf(null,fMf(this.D,qMf(null))):void 0!==this.F.D.get(a):b=!!gMf(a,fMf(this.D,qMf(a)));return b};
w.kr=function(a){return jMf(a,this.F)||jMf(a,this.D)};w.FA=function(){var a=new MMf;a.D=this;return a};w.get=function(a){var b;zh(a)?b=null==a?dMf(gMf(null,fMf(this.D,qMf(null)))):this.F.D.get(a):b=dMf(gMf(a,fMf(this.D,qMf(a))));return b};w.zea=function(a,b){var c;zh(a)?c=null==a?HMf(this.D,null,b):iMf(this.F,a,b):c=HMf(this.D,a,b);return c};w.remove=function(a){var b;zh(a)?b=null==a?rMf(this.D,null):hMf(this.F,a):b=rMf(this.D,a);return b};w.size=function(){return this.D.F+this.F.H};
w.replace=function(a,b){return bMf(this,a,b)};function QMf(){}x(QMf,PMf);QMf.prototype.replace=function(a,b){return bMf(this,a,b)};function RMf(){}x(RMf,JMf);w=RMf.prototype;w.add=function(a){this.Wka(this.size(),a);return!0};w.Wka=function(){throw ph("Add not supported on this list").D;};w.clear=function(){this.bva(0,this.size())};w.Fa=function(a){if(hg(a,this))return!0;if(null==a||!a.lja||this.size()!=a.size())return!1;a=a.$f();for(var b=this.$f();b.D();){var c=b.F(),d=a.F();if(!Sg(c,d))return!1}return!0};
w.Yf=function(){for(var a=1,b=this.$f();b.D();){var c=b.F();a=31*a+Vg(c);a|=0}return a};w.indexOf=function(a){for(var b=0,c=this.size();b<c;++b)if(Sg(a,this.o$(b)))return b;return-1};w.$f=function(){var a=new kMf;a.R=this;a.J=0;a.O=-1;return a};w.lastIndexOf=function(a){for(var b=this.size()-1;-1<b;--b)if(Sg(a,this.o$(b)))return b;return-1};w.O3=function(){throw ph("Remove not supported on this list").D;};
w.bva=function(a,b){var c=new lMf;c.R=this;c.J=0;c.O=-1;this.size();for(c.J=a;a<b;++a)c.F(),c.H()};w.lja=!0;function SMf(){}x(SMf,RMf);w=SMf.prototype;w.add=function(a){this.D[this.D.length]=a;return!0};w.Wka=function(a,b){this.D.splice(a,0,b)};w.clear=function(){this.D=[]};w.contains=function(a){return-1!=this.indexOf(a)};w.o$=function(a){return this.D[a]};w.indexOf=function(a){a:{for(var b=0;b<this.D.length;++b)if(Sg(a,this.D[b])){a=b;break a}a=-1}return a};
w.$f=function(){var a=new pMf;a.R=this;a.O=0;a.J=-1;return a};w.isEmpty=function(){return 0==this.D.length};w.lastIndexOf=function(a){a:{for(var b=this.size()-1;0<=b;--b)if(Sg(a,this.D[b])){a=b;break a}a=-1}return a};w.O3=function(a){this.D.splice(a,1)};w.remove=function(a){a=this.indexOf(a);if(-1==a)return!1;this.O3(a);return!0};w.size=function(){return this.D.length};w.Cf=function(){var a=this.D,b=a.slice(0,this.D.length);return $Lf(b,a)};
w.dva=function(a){var b=this.D.length;a.length<b&&(a=$Lf(Array(b),a));for(var c=0;c<b;++c)a[c]=this.D[c];a.length>b&&(a[b]=null);return a};w.bva=function(a,b){this.D.splice(a,b-a)};w.lja=!0;function TMf(){var a=QB.Ma(),b=(1E9*Math.random()>>>0).toString(36);a.D=b}function UMf(a,b){return!(!a.D[b]&&!a.O[b])}function VMf(a){var b=new lkc;return Fj(b,6,a)}function WMf(a){a.FAa=!1;a.EAa=!1}function XMf(a,b,c){a.Ka=b;c&&(a.qa=c)}function YMf(a){return a.D[0]&&a.D[0].getKey()}var ZMf=[2];
function $Mf(a){K(this,a,0,-1,ZMf,null)}A($Mf,J);function aNf(a){K(this,a,0,-1,null,null)}A(aNf,J);function bNf(a){K(this,a,0,1,null,null)}A(bNf,J);function cNf(a){K(this,a,0,-1,null,null)}A(cNf,J);cNf.prototype.getName=function(){return L(this,1)};cNf.prototype.Xd=function(a){return N(this,1,a)};cNf.prototype.getId=function(){return L(this,9)};cNf.prototype.Sc=function(a){return N(this,9,a)};function dNf(a){K(this,a,0,-1,null,null)}A(dNf,J);dNf.prototype.getWidth=function(){return L(this,2)};
dNf.prototype.getHeight=function(){return L(this,3)};function eNf(a){K(this,a,0,-1,null,null)}A(eNf,J);function Y3(a){K(this,a,0,-1,null,null)}A(Y3,J);Y3.prototype.getType=function(){return L(this,1)};Y3.prototype.getValue=function(){return L(this,2)};Y3.prototype.$a=function(a){return N(this,2,a)};function fNf(a){K(this,a,0,-1,null,null)}A(fNf,J);fNf.prototype.getType=function(){return L(this,1)};fNf.prototype.getValue=function(){return L(this,2)};fNf.prototype.$a=function(a){return N(this,2,a)};
function gNf(a){K(this,a,0,-1,null,null)}A(gNf,J);var hNf=[8];function iNf(a){K(this,a,0,-1,hNf,null)}A(iNf,J);w=iNf.prototype;w.getId=function(){return L(this,1)};w.Sc=function(a){return N(this,1,a)};w.Ad=function(){return O(this,Y3,3)};w.Fc=function(a){return Fj(this,3,a)};w.gm=function(){return L(this,17)};function Z3(a){K(this,a,0,-1,null,null)}A(Z3,J);Z3.prototype.getId=function(){return L(this,1)};Z3.prototype.Sc=function(a){return N(this,1,a)};function jNf(a){K(this,a,0,-1,null,null)}
A(jNf,J);jNf.prototype.getId=function(){return L(this,1)};jNf.prototype.Sc=function(a){return N(this,1,a)};jNf.prototype.getTitle=function(){return O(this,Y3,2)};jNf.prototype.setTitle=function(a){return Fj(this,2,a)};function kNf(a){K(this,a,0,-1,null,null)}A(kNf,J);kNf.prototype.H=function(a){N(this,2,a)};var lNf=[5];function mNf(a){K(this,a,0,-1,lNf,null)}A(mNf,J);function nNf(a,b){return N(a,1,b)}function oNf(a,b){return N(a,1,b)}function $3(a){return bG(a,iNf,8)}
function a4(a){return O(a,fNf,9)}function b4(a){return O(a,iNf,2)}function pNf(a){K(this,a,0,-1,null,null)}A(pNf,J);pNf.prototype.Pa=function(a){return N(this,2,a)};function qNf(a){K(this,a,"gs",-1,null,null)}A(qNf,J);qNf.$d="gs";qNf.prototype.Tpa=function(){return O(this,pNf,1)};var rNf=[1,2];function sNf(a){K(this,a,"u",-1,rNf,null)}A(sNf,J);sNf.$d="u";function tNf(a){K(this,a,"tf",-1,null,null)}A(tNf,J);tNf.$d="tf";function uNf(a){K(this,a,0,-1,null,null)}A(uNf,J);
uNf.prototype.Em=function(){return L(this,3)};var vNf=[1];function wNf(a){K(this,a,"sr",-1,vNf,null)}A(wNf,J);wNf.$d="sr";function c4(a){return O(a,tNf,44)}function xNf(){}x(xNf,LMf);w=xNf.prototype;w.add=function(a){return null==this.D.zea(a,this)};w.clear=function(){this.D.clear()};w.contains=function(a){return this.D.lM(a)};w.isEmpty=function(){return this.D.isEmpty()};w.$f=function(){return this.D.j7a().$f()};w.remove=function(a){return null!=this.D.remove(a)};w.size=function(){return this.D.size()};
w.mja=!0;var yNf=[3,11];function zNf(a){K(this,a,0,-1,yNf,null)}A(zNf,J);function ANf(a){K(this,a,0,-1,null,null)}A(ANf,J);function BNf(a){K(this,a,0,-1,null,null)}A(BNf,J);function CNf(a){K(this,a,0,-1,null,null)}A(CNf,J);CNf.prototype.getType=function(){return L(this,2)};function DNf(a,b,c,d){LM.call(this,a,[a.offsetLeft,a.offsetTop],b,c,d)}A(DNf,LM);DNf.prototype.Lt=function(){this.Cv=[this.F?aoc(this.D):this.D.offsetLeft,this.D.offsetTop];DNf.Ia.Lt.call(this)};function ENf(){}
ENf.prototype.Bga=!1;var FNf={$ob:"all",Fub:"important",NONE:"none"},GNf=/([\S\s]*?)(\b(?:mailto:)?([\w.!#$%&'*+-/=?^_`{|}~]+@[A-Za-z0-9.-]+\.(?:com|org|net|edu|gov|aero|biz|cat|coop|info|int|jobs|mobi|museum|name|pro|travel|arpa|asia|xxx|[a-z][a-z])\b)|\b(?:(https?|ftp):\/\/|www\.)[\w#-;!=?@\[\\\]_`{|}~]+|$)/gi,HNf=/^(.*?)([':;,\.?}\]\)!]+)$/;
function INf(a){if(-1==a.indexOf("@")&&-1==a.indexOf("://")&&-1==a.indexOf("www.")&&-1==a.indexOf("Www.")&&-1==a.indexOf("WWW."))return vc(a);var b={},c;for(c in void 0)b[c]=(void 0)[c]?(void 0)[c]:null;"rel"in b||(b.rel="nofollow");"target"in b||(b.target="_blank");var d=[];a.replace(GNf,function(e,f,g,k,l){d.push(f);if(!g)return"";e="";k?(e="mailto:",g=k,k=""):(l||(e="http://"),(k=g.match(HNf))&&!sb(g,"(")?(g=k[1],k=k[2]):k="");b.href=e+g;d.push(wc("a",b,g));d.push(k);return""});return yc(d)}
var JNf=[1,2,3,4];function KNf(a){K(this,a,0,-1,JNf,null)}A(KNf,J);function LNf(){this.aa=this.W=this.O=this.R=this.D=this.J=this.V=this.H=this.F=0}LNf.prototype.build=function(){var a=new kkc,b=this.H+this.V,c=this.D+this.R,d=this.J+c,e=this.O+this.W;N(a,1,this.F+b+d+e+this.aa);N(a,2,this.F);N(a,14,this.aa);N(a,9,this.H);N(a,6,this.V);N(a,3,b);N(a,10,this.J);N(a,12,this.D);N(a,13,this.R);N(a,7,c);N(a,4,d);N(a,11,this.O);N(a,8,this.W);N(a,5,e);return new cAe(a)};
function MNf(a){K(this,a,0,-1,null,null)}A(MNf,J);MNf.prototype.Tpa=function(){return O(this,pNf,1)};function NNf(a){K(this,a,0,-1,null,null)}A(NNf,J);NNf.prototype.getMessage=function(){return L(this,1)};NNf.prototype.Tj=function(){return L(this,3)};var ONf=[1];function PNf(a){K(this,a,0,-1,ONf,null)}A(PNf,J);PNf.prototype.ke=function(){return L(this,5)};
var QNf={dwb:"docos-insert-discussion",Cpb:"docos-cancel-insert-discussion",iBb:"docos-new-doco",jBb:"docos-new-reply",sqb:"docos-delete-doco",uqb:"docos-delete-reply",jrb:"docos-edit-doco",mrb:"docos-edit-reply",krb:"docos-edit-draft",npb:"docos-before-highlight-doco",wub:"docos-highlight-doco",ZDb:"docos-speak-doco",oDb:"docos-resolve-doco",kpb:"docos-back-to-document",Lob:"docos-accept-suggestion",lDb:"docos-reject-suggestion",aqb:"docos-convert-doco",tqb:"docos-reject-doco-with-feedback",WRITE_FEEDBACK:"docos-write-feedback",
DISABLE_SMART_TODO_FEATURE:"docos-disable-smart-todo-feature",oGb:"docos-vote-doco",pGb:"docos-vote-reply",QAb:"mouse-hover-doco-view"};function RNf(a,b,c,d,e,f,g,k){this.D=a;this.F=void 0===b?null:b;this.V=void 0===c?!1:c;this.R=void 0===d?!0:d;this.W=void 0===e?null:e;this.O=void 0===f?!0:f;this.H="number"===typeof g?g:null;this.J=void 0===k?!1:k}function d4(){return new RNf("")}function e4(a){return new SNf(a)}function SNf(a){this.V=a;this.R=void 0;this.O=!1;this.F=this.H=!0;this.D=void 0;this.J=!1}function f4(a,b){a.R=b;return a}function TNf(a){a.O=!0;return a}function UNf(a){a.H=!1;return a}function VNf(a,b){a.F=b;return a}
function WNf(a){a.J=!0;return a}SNf.prototype.build=function(){return new RNf(this.V,this.R,this.O,this.H,void 0,this.F,this.D,this.J)};function g4(a,b,c,d,e,f){this.type=a;this.anchors=b;this.docos=c;this.F=b;this.H=c;this.nonAnchored=d;this.userInitiated=e;this.args=f;this.type=this.type;this.anchors=this.anchors;this.docos=this.docos;this.nonAnchored=this.nonAnchored;this.userInitiated=this.userInitiated;this.args=this.args}na("docos.Event",g4,void 0);na("docos.api.Event",g4,void 0);g4.prototype.getType=p("type");g4.prototype.getType=g4.prototype.getType;g4.prototype.getAnchors=p("anchors");g4.prototype.getAnchors=g4.prototype.getAnchors;
g4.prototype.getDocos=p("docos");g4.prototype.getDocos=g4.prototype.getDocos;g4.prototype.isNonAnchored=p("nonAnchored");g4.prototype.isNonAnchored=g4.prototype.isNonAnchored;g4.prototype.isUserInitiated=p("userInitiated");g4.prototype.isUserInitiated=g4.prototype.isUserInitiated;g4.prototype.getArgs=p("args");g4.prototype.getArgs=g4.prototype.getArgs;g4.prototype.canPreventDefault=t(!1);g4.prototype.canPreventDefault=g4.prototype.canPreventDefault;
g4.prototype.preventDefault=function(){throw Error("dJ");};g4.prototype.preventDefault=g4.prototype.preventDefault;g4.prototype.getAnchorIds=p("F");g4.prototype.getAnchorIds=g4.prototype.getAnchorIds;g4.prototype.getDocoHandles=p("H");g4.prototype.getDocoHandles=g4.prototype.getDocoHandles;function XNf(a){return new p4(a)}g4.builder=XNf;function p4(a){this.type=a;this.D=[];this.F=[];this.J=this.H=!1;this.args=null}na("docos.api.Event.Builder",p4,void 0);
p4.prototype.addAnchorId=function(a){this.D.push(a);return this};p4.prototype.addAnchorId=p4.prototype.addAnchorId;p4.prototype.setAnchorIds=function(a){this.D=a;return this};p4.prototype.setAnchorIds=p4.prototype.setAnchorIds;p4.prototype.addDocoHandle=function(a){this.F.push(a);return this};p4.prototype.addDocoHandle=p4.prototype.addDocoHandle;p4.prototype.setDocoHandles=function(a){this.F=a;return this};p4.prototype.setDocoHandles=p4.prototype.setDocoHandles;
p4.prototype.setNonAnchored=function(a){this.H=a;return this};p4.prototype.setNonAnchored=p4.prototype.setNonAnchored;p4.prototype.setUserInitiated=function(a){this.J=a;return this};p4.prototype.setUserInitiated=p4.prototype.setUserInitiated;p4.prototype.setApiEventArgs=function(a){this.args=a;return this};p4.prototype.setApiEventArgs=p4.prototype.setApiEventArgs;p4.prototype.isEmpty=function(){return Sa(this.D)&&Sa(this.F)&&!this.args};p4.prototype.isEmpty=p4.prototype.isEmpty;
p4.prototype.build=function(){return new g4(this.type,this.D,this.F,this.H,this.J,this.args?this.args:new qZ)};p4.prototype.build=p4.prototype.build;function YNf(a,b){g4.call(this,a,[],[],!1,!1,new qZ);this.interval=this.interval=b}A(YNf,g4);na("docos.api.TimedEvent",YNf,void 0);function ZNf(){this.D={};this.F={}}function $Nf(a,b,c,d,e){var f=a.D,g=a.F;f[b]&&f[b].stop();f[b]=c;g[b]=d;c.play();Ue(c,"end",function(){delete f[b];delete g[b];e()})}function aOf(a,b){(a=a.D[b])&&a.stop()}ZNf.prototype.getDuration=function(a){return this.F[a]};function q4(a){var b=a.Of,c=a.yw,d=a.$e;a=a.hH;return T('<div class="'+V("docos-icon")+" "+V("goog-inline-block")+(d?" "+V(d):"")+" "+V(c)+'"><div class="'+V("docos-icon-img")+" "+V("docos-icon-img-container")+" "+V(b)+(a?" "+V("docos-icon-img-hdpi"):"")+'" aria-hidden="true"></div></div>')};function bOf(a){var b=a.size,c=a.$e,d=a.dJa;a=a.I8;return T('<img class="'+V("docos-avatar")+(c?" "+V(c):"")+'" width="'+V(b)+'" height="'+V(b)+'" alt=""'+(d?' src="'+V(zN(d))+'"':"")+(a?' data-hovercard-id="'+V(a)+'"':"")+"/>")};function cOf(a,b,c){b=c||b;c=a.Ela;var d=a.oi,e=a.Qj;a='<div class="'+V("docos-assigneeview")+'"><table><tr><td class="'+V("docos-assigneeview-avatar-container")+'">'+X(bOf({size:32,$e:"docos-assigneeview-avatar"}))+'</td><td class="'+V("docos-assigneeview-assigneeinfo")+'"><div class="'+V("docos-assigneeview-label")+'">';a+="Vastaanottaja";c='</div><div class="'+V("docos-assigneeview-assignee-text")+'">'+X(c)+'</div></td><td class="'+V("hide-on-readonly")+'">';e=e={oi:d,Qj:e};d=e.oi;e=e.Qj;var f=
'aria-label="'+NF("Merkitse valmiiksi ja piilota keskustelu.");b=""+X(gP({Hc:"docos-mark-done-button",title:"Merkitse valmiiksi ja piilota keskustelu",attributes:LF(f+'"'),style:e?4:0,content:KF(""+X(q4({Of:"docos-icon-accept-checkmark-black",yw:"docos-icon-accept-checkmark-size",$e:"docos-icon-checkmark jfk-button-img"}))),HB:d},b));b=T(b);return T(a+(c+b+"</td></tr></table></div>"))};function dOf(a,b){var c;a?c=a&&eOf(r4(a),b)?"docos-assignee-you":"docos-assignee-other":c="docos-assignee-none";return c}function fOf(a,b){a=r4(a);return gOf(a,b)}function hOf(a,b,c){a=gOf(a,b,!0);return c?(new ER("M\u00e4\u00e4rit\u00e4 uudelleen k\u00e4ytt\u00e4j\u00e4lle {user}")).format({user:a}):(new ER("M\u00e4\u00e4rit\u00e4 k\u00e4ytt\u00e4j\u00e4lle {user}")).format({user:a})}function gOf(a,b,c){return eOf(a,b)?c?"sin\u00e4":"Sin\u00e4":s4(a)}
function eOf(a,b){return null!=a.getEmail()&&null!=b.mg().getEmail()&&a.getEmail()==b.mg().getEmail()};function t4(a,b){S.call(this,b);this.Tb=iOf(a);this.D=u4(a)}A(t4,S);t4.prototype.dc=!1;t4.prototype.Aa=function(){t4.Ia.Aa.call(this);this.dc&&(this.hc(),jOf(this))};function kOf(a){a.dc||(a.dc=!0,a.Da().ga(a.D,"r",a.hc),a.hc(),jOf(a))}t4.prototype.hc=function(){if(this.Bb()){var a=this.ha(),b=this.D.J;Gl(a,"docos-readonly",!("suggest"==b.D||"full"==b.D));Gl(this.ha(),"docos-offline",this.D.aa)}};function v4(a,b,c,d){a.Tb&&(d=a.Tb.H.F(d));a.Da().ga(b,c,d,void 0);return a}
function jOf(a){a.Bb()&&v4(a,a.ha(),"blur change click contextmenu copy cut dblclick dragend dragenter dragleave dragover dragstart focusout input mousedown mouseup pointerdown pointerup touchstart touchend paste propertychange select selectstart submit".split(" "),a.Ie)}t4.prototype.Ie=function(a){a.stopPropagation()};function lOf(a,b,c){this.D=a;this.F=b;this.H=c};function mOf(a,b,c,d){t4.call(this,a,b);this.J=a;this.Sc(c);this.aa=d;this.V=this.R=this.O=this.F=this.H=null;this.W=new hP(null);this.la(this.W)}x(mOf,t4);w=mOf.prototype;
w.ua=function(){var a=this.oa(),b=w4(nOf(this)),c=uO(cOf,{Ela:fOf(b,this.D),oi:this.D.oi(),Qj:"legacy"!=this.D.H});this.ub(c);this.R=a.Va("docos-icon-checkmark",c);this.V=a.Va("docos-icon-img-container",c);this.O=a.Va("docos-mark-done-button",c);this.W.Za(this.O);v4(this,this.W,"action",this.O8a);this.H=a.Va("docos-assigneeview-assignee-text",c);this.F=Y_(a,"IMG","docos-assigneeview-avatar",c);a=r4(b);oOf(x4(this.J),this.F,a.D,s4(a));pOf(this,b)};
w.Aa=function(){t4.prototype.Aa.call(this);var a=w4(nOf(this));a=r4(a);qOf(this,a,this.H);qOf(this,a,this.F)};
function pOf(a,b){var c="docos-mark-done-button-black",d="docos-icon-checkmark-black",e="docos-icon-accept-checkmark-black",f=a.D;!b||!eOf(r4(b),f)||"black"==PN()&&gd||"material_yellow"==a.D.H||(c="docos-mark-done-button-white",d="docos-icon-checkmark-white",e="docos-icon-accept-checkmark-white");b=dOf(b,a.D);vL(a.ha(),["docos-assignee-you","docos-assignee-other"]);vL(a.R,["docos-icon-checkmark-white","docos-icon-checkmark-black"]);vL(a.V,["docos-icon-accept-checkmark-white","docos-icon-accept-checkmark-black"]);
vL(a.O,["docos-mark-done-button-white","docos-mark-done-button-black"]);El(a.R,d);El(a.V,e);El(a.O,c);El(a.ha(),b)}function nOf(a){return A4(a.J).ac(a.getId())}w.update=function(){var a=w4(nOf(this)),b=fOf(a,this.D)||"";he(this.H,b);B4(x4(this.J),this.F);b=r4(a);oOf(x4(this.J),this.F,b.D,s4(b));pOf(this,a);qOf(this,b,this.H);qOf(this,b,this.F)};function qOf(a,b,c){c&&(a.D.ea?c.setAttribute("data-hovercard-id",b.getId()?b.getId():""):(b=b.getName())&&a.D.F.D(c,b))}
w.O8a=function(a){a&&a.stopPropagation();(a=nOf(this))&&!C4(a)&&(a=D4(this.J),this.dispatchEvent("br"),a.Ob("docos-resolve-doco").fireAction(new lOf(this.getId(),!0,rOf(this.aa))),this.dispatchEvent("ar"))};w.Nc=function(){t4.prototype.Nc.call(this)};w.wa=function(){t4.prototype.wa.call(this);delete this.H;delete this.F;delete this.R};function sOf(a,b){void 0!==b.getId()&&a.Sc(b.getId());var c=b4(b);if(void 0!==c){var d=b4(a);c?d?tOf(d,c):Fj(a,2,c):Fj(a,2,void 0)}void 0!==L(b,3)&&(c=L(b,3),N(a,3,c));void 0!==L(b,4)&&(c=L(b,4),N(a,4,c));d=O(b,jNf,5);if(void 0!==d)if(c=O(a,jNf,5),d)if(c){void 0!==d.getId()&&c.Sc(d.getId());var e=d.getTitle();if(void 0!==e){var f=c.getTitle();e?f?uOf(f,e):c.setTitle(e):c.setTitle(void 0)}d=O(d,Z3,3);void 0!==d&&(e=O(c,Z3,3),d?e?sOf(e,d):Fj(c,3,d):Fj(c,3,void 0))}else Fj(a,5,d);else Fj(a,5,void 0);
void 0!==Cj(b,6)&&(c=Cj(b,6),N(a,6,c));void 0!==Cj(b,7)&&(c=Cj(b,7),N(a,7,c));void 0!==L(b,8)&&(c=L(b,8),N(a,8,c));void 0!==Cj(b,9)&&(b=Cj(b,9),N(a,9,b))}
function tOf(a,b){void 0!==b.getId()&&a.Sc(b.getId());if(void 0!==L(b,2)){var c=L(b,2);N(a,2,c)}c=b.Ad();if(void 0!==c){var d=a.Ad();c?d?uOf(d,c):a.Fc(c):a.Fc(void 0)}c=O(b,Y3,4);void 0!==c&&(d=O(a,Y3,4),c?d?uOf(d,c):Fj(a,4,c):Fj(a,4,void 0));c=O(b,R0,5);void 0!==c&&(c?Fj(a,5,c):Fj(a,5,void 0));d=O(b,cNf,14);if(void 0!==d)if(c=O(a,cNf,14),d)if(c){void 0!==d.getName()&&c.Xd(d.getName());if(void 0!==L(d,2)){var e=L(d,2);N(c,2,e)}var f=O(d,dNf,3);if(void 0!==f)if(e=O(c,dNf,3),f)if(e){if(void 0!==L(f,
1)){var g=L(f,1);N(e,1,g)}void 0!==f.getWidth()&&(g=f.getWidth(),N(e,2,g));void 0!==f.getHeight()&&(f=f.getHeight(),N(e,3,f))}else Fj(c,3,f);else Fj(c,3,void 0);void 0!==Cj(d,4)&&(e=Cj(d,4),N(c,4,e));void 0!==L(d,5)&&(e=L(d,5),N(c,5,e));void 0!==L(d,6)&&(e=L(d,6),N(c,6,e));f=O(d,eNf,7);void 0!==f&&(e=O(c,eNf,7),f?e?(void 0!==L(f,1)&&(g=L(f,1),N(e,1,g)),void 0!==L(f,2)&&(g=L(f,2),N(e,2,g)),void 0!==L(f,3)&&(g=L(f,3),N(e,3,g)),void 0!==L(f,4)&&(f=L(f,4),N(e,4,f))):Fj(c,7,f):Fj(c,7,void 0));void 0!==
L(d,8)&&(e=L(d,8),N(c,8,e));void 0!==L(d,11)&&(e=L(d,11),N(c,11,e));void 0!==L(d,10)&&(e=L(d,10),N(c,10,e));void 0!==L(d,12)&&(d=L(d,12),N(c,12,d))}else Fj(a,14,d);else Fj(a,14,void 0);void 0!==L(b,6)&&(c=L(b,6),N(a,6,c));void 0!==L(b,7)&&(c=L(b,7),N(a,7,c));$3(b)&&(c=bb($3(a),$3(b)),Gj(a,8,c));d=a4(b);void 0!==d&&(c=a4(a),d?c?(void 0!==d.getType()&&oNf(c,d.getType()),void 0!==d.getValue()&&c.$a(d.getValue()),void 0!==O(d,bNf,3)&&(e=O(d,bNf,3),Fj(c,3,e)),void 0!==L(d,4)&&(d=L(d,4),N(c,4,d))):Fj(a,
9,d):Fj(a,9,void 0));void 0!==L(b,10)&&(c=L(b,10),N(a,10,c));void 0!==L(b,11)&&(c=L(b,11),N(a,11,c));void 0!==Cj(b,12)&&(c=Cj(b,12),N(a,12,c));void 0!==L(b,13)&&(c=L(b,13),N(a,13,c));void 0!==Cj(b,15)&&(c=Cj(b,15),N(a,15,c));void 0!==L(b,16)&&(c=L(b,16),N(a,16,c));void 0!==b.gm()&&(c=b.gm(),N(a,17,c));void 0!==L(b,20)&&(c=L(b,20),N(a,20,c));c=O(b,gNf,18);void 0!==c&&(e=O(a,gNf,18),c?e?(d=O(c,R0,1),void 0!==d&&(c=O(e,R0,1),d?c?(void 0!==d.getName()&&c.Xd(d.getName()),void 0!==L(d,2)&&(e=L(d,2),N(c,
2,e)),void 0!==L(d,3)&&(e=L(d,3),N(c,3,e)),void 0!==d.getId()&&c.Sc(d.getId()),void 0!==Cj(d,5)&&(e=Cj(d,5),N(c,5,e)),void 0!==Cj(d,6)&&(e=Cj(d,6),N(c,6,e)),void 0!==Cj(d,7)&&(e=Cj(d,7),N(c,7,e)),void 0!==d.getEmail()&&(d=d.getEmail(),N(c,8,d))):Fj(e,1,d):Fj(e,1,void 0))):Fj(a,18,c):Fj(a,18,void 0));d=O(b,mNf,19);void 0!==d&&(c=O(a,mNf,19),d?c?(void 0!==L(d,1)&&(e=L(d,1),N(c,1,e)),void 0!==L(d,3)&&(e=L(d,3),N(c,3,e)),void 0!==L(d,2)&&(e=L(d,2),N(c,2,e)),void 0!==L(d,4)&&(e=L(d,4),N(c,4,e)),void 0!==
bG(d,kNf,5)&&(d=bG(d,kNf,5),Gj(c,5,d))):Fj(a,19,d):Fj(a,19,void 0));void 0!==O(b,aNf,21)?(c=O(b,aNf,21),Fj(a,21,c)):void 0!==b.Ad()&&Fj(a,21,void 0);void 0!==Cj(b,22)&&(c=Cj(b,22),N(a,22,c));void 0!==Cj(b,23)&&(b=Cj(b,23),N(a,23,b))}function uOf(a,b){void 0!==b.getType()&&nNf(a,b.getType());void 0!==b.getValue()&&a.$a(b.getValue())};function vOf(a,b,c,d,e,f,g){this.O=a;this.F=b&&!pb(b)?rb(b.toLowerCase()):null;this.R=c;this.D=d;this.Nb=e;this.J=f;this.H=g}vOf.prototype.getName=p("O");vOf.prototype.getEmail=p("F");vOf.prototype.getId=p("Nb");function s4(a){a=pb(aL(a.getName()))?a.getEmail():a.getName();return aL(a)}function wOf(a){var b=xOf(yOf(zOf(E4((new F4).Xd(a.getName()),a.getEmail()),L(a,2)),L(a,3)).Sc(a.getId()||""),!!Cj(a,5));a=!!Cj(a,7);b.F=a;return b.build()}
function AOf(a){var b=(new R0).Sc(a.getId()||""),c=a.getName();null!==c&&b.Xd(c);c=a.R;null!==c&&N(b,2,c);c=a.D;null!==c&&N(b,3,c);c=a.getEmail();null!==c&&N(b,8,c);N(b,5,!!a.J);return b}function F4(){}F4.prototype.Xd=function(a){this.J=a;return this};function E4(a,b){a.D=b&&!pb(b)?rb(b.toLowerCase()):null;return a}function zOf(a,b){a.R=b;return a}function yOf(a,b){a.O=b;return a}F4.prototype.Sc=function(a){this.Nb=a;return this};function xOf(a,b){a.H=b;return a}
F4.prototype.build=function(){return new vOf(this.J,this.D,this.R,this.O,this.Nb,this.H,this.F)};function BOf(a){O(a,R0,1);this.D=a}function r4(a){a=O(a.D,R0,1);return wOf(a)}BOf.prototype.Fa=function(a){return Lj(this.D,a.D)};BOf.prototype.Np=function(a){if(!a)return new BOf(Mj(this.D));a=new BOf(Mj(a.D));var b=r4(this);b=AOf(b);Fj(a.D,1,b);return a};function COf(a){var b=new gNf;a=AOf(a);b=Fj(b,1,a);return new BOf(b)};function DOf(a){O(a,R0,1);L(a,2);this.D=a};function EOf(a){this.D=a}function G4(a,b){var c=[];a=bG(a.D,kNf,5);if(null==a)return c;for(var d=0;d<a.length;d++){var e=a[d];null!=b&&b!==L(e,2)||c.push(new DOf(e))}return c}function H4(a){return null!=L(a.D,4)?L(a.D,4):0};function FOf(){var a=GOf;this.D=[];this.F={};this.H=a}FOf.prototype.text=function(a){this.D.push(a)};function HOf(a,b){if(a.F[b])a.D.push(b);else{var c=new IOf(b,a.D.length);a.D.push(c);a.F[b]=c}}function JOf(a,b){var c=a.F[b];if(c){delete a.F[b];c.D=a.H[b].open;var d=Ja(Db(a.F),function(e){return e.F>c.F});jb(d,function(e,f){return ib(e.F,f.F)});a.D.push(new KOf(a.H[b].close,d,a.H))}else a.D.push(b)}FOf.prototype.Ef=function(){return this.D.join("")};
function IOf(a,b){this.H=a;this.F=b;this.D=null}IOf.prototype.getName=p("H");IOf.prototype.toString=function(){return null!==this.D?this.D:this.H};function KOf(a,b,c){this.H=a;this.D=b;this.F=c}KOf.prototype.toString=function(){for(var a=[],b=this.D.length-1;0<=b;--b){var c=this.D[b];null!==c.D&&a.push(this.F[c.getName()].close)}a.push(this.H);for(b=0;b<this.D.length;++b)c=this.D[b],null!==c.D&&a.push(this.F[c.getName()].open);return a.join("")};function LOf(a){a=tc(INf(a));for(var b=[],c=a.indexOf("<");0<=c;c=a.indexOf("<"))b.push(new MOf(a.substring(0,c))),a=a.substring(c),c=a.indexOf("<",1)+4,b.push(new NOf(a.substring(0,c))),a=a.substring(c);b.push(new MOf(a));return new OOf(b)}function POf(a){var b=new FOf;a=" "+a+" ";for(var c=1;c<a.length-1;++c){var d=a.substr(c-1,3),e=a.charAt(c),f=QOf.test(d);d=ROf.test(d);f?d?(f=b,f.F[e]?JOf(f,e):HOf(f,e)):HOf(b,e):d?JOf(b,e):b.text(e)}return new MOf(b.Ef())}
function SOf(a){return new MOf(a.replace(TOf,"<br>"))}var TOf=/\r\n|\n|\r/g,GOf={"*":{open:"<b>",close:"</b>"},_:{open:"<i>",close:"</i>"},"-":{open:"<s>",close:"</s>"}},QOf=/([\.,!\?\(\)\s_\-]\*|[\.,!\?\(\)\s*\-]_|[\.,!\?\(\)\s*_]-)\S/,ROf=/\S(\*[_\-\.,!\?\(\)\s]|_[*\-\.,!\?\(\)\s]|-[*_\.,!\?\(\)\s])/;function MOf(a){this.ze=a}MOf.prototype.D=function(a){return a(this.ze)};MOf.prototype.toString=p("ze");function NOf(a){this.ze=a}NOf.prototype.D=function(){return this};NOf.prototype.toString=p("ze");
function OOf(a){this.xd=a}OOf.prototype.D=function(a){var b=Ka(this.xd,function(c){return c.D(a)});return new OOf(b)};OOf.prototype.toString=function(){return this.xd.join("")};function UOf(a){a.getId()||L(a,11);this.D=a;0==L(this.D,13)&&(N(this.D,13,void 0),N(this.D,15,void 0));this.H=this.O=this.J=this.F=null}w=UOf.prototype;w.update=function(a){this.H=this.J=this.O=null;void 0!==L(a,13)&&0!=L(a,13)&&(a.Fc(void 0),Fj(a,4,void 0),Fj(a,9,void 0));if(void 0!==O(a,aNf,21)||void 0!==a.Ad())this.F=null;tOf(this.D,a);0==L(this.D,13)&&(N(this.D,13,void 0),N(this.D,15,void 0))};w.Fa=function(a){return Lj(this.D,a.D)};w.Es=function(){var a=O(this.D,R0,5)||new R0;return wOf(a)};
w.getId=function(){return this.D.getId()||L(this.D,11)||""};w.Ct=function(){this.J||(this.J=d0(L(this.D,6)));return this.J};w.kG=function(){if(void 0===L(this.D,7))return this.Ct();this.O||(this.O=d0(L(this.D,7)));return this.O};function VOf(a){if(void 0===L(a.D,13))var b=null;else a.H||(a.H=d0(L(a.D,13))),b=a.H;if(!b||a.kG()>b)b=a.kG();return b}
function WOf(a){if(void 0!==a4(a.D)&&("text/html"==a4(a.D).getType()||"text/plain"==a4(a.D).getType())){var b=a4(a.D).getValue();b="text/html"==a4(a.D).getType()?b:Mc(b)}return b||""}w.WQ=function(){if(void 0!==a4(this.D)){var a=O(a4(this.D),bNf,3);if(a)return a.Cf()}return null};w.o1=function(){return L(this.D,10)};w.Ad=function(){return this.D.Ad()?this.D.Ad().getValue():""};w.p1=function(){if(null!=O(this.D,aNf,21)&&!this.F){var a=O(this.D,aNf,21);this.F=Ac(L(a,2)||"",null)}return this.F};
w.Vv=function(){return null!=O(this.D,Y3,4)?O(this.D,Y3,4).getValue()||"":""};w.Pi=function(){return null!=this.D.Ad()?this.D.Ad().getType():null};w.gH=function(){return!!Cj(this.D,12)};function I4(a){return!!L(a.D,13)}w.Dw=function(){var a=O(this.D,gNf,18);return null!=a?new BOf(a):null};w.Uu=function(){var a=O(this.D,mNf,19);return null!=a?new EOf(a):null};w.Ji=function(){return void 0!==L(this.D,16)&&void 0===L(this.D,10)};w.IA=function(){return void 0!==L(this.D,16)?L(this.D,16):null};
function XOf(a){return void 0!==L(a.D,16)&&void 0!==L(a.D,10)?L(a.D,10):null}w.gm=function(){var a=this.D.gm();return 1==a?1:2==a?2:null};w.Fca=function(){return!!Cj(this.D,22)};w.Bca=function(){return 2==this.gm()};function J4(a,b){this.D=new iNf;N(this.D,11,a);b&&b!=a&&this.D.Sc(b)}function YOf(a,b){var c=$3(a.D);c.push(b.D);Gj(a.D,8,c);return a}function ZOf(a,b){N(a.D,16,b);return a}function K4(a){N(a.D,12,!0);return a}function $Of(a,b){N(a.D,6,b);return a}
function aPf(a){var b=Ca();N(a.D,13,b);return a}function bPf(a){N(a.D,13,0);return a}function cPf(a,b){Fj(a.D,18,b.D);N(a.D,10,4);return a}function dPf(a,b){b=AOf(b);Fj(a.D,5,b);return a}function ePf(a){N(a.D,20,1);return a}function L4(a,b,c){b=rb(b);var d=nNf(new Y3,"text/plain").$a(b);Fj(a.D,4,d);b=nNf(new Y3,"text/html").$a(LOf(b).D(POf).D(SOf).toString());a.D.Fc(b);N(a.D,7,c);return a};function fPf(a,b,c,d){this.H=a;this.D=b;this.J=c;this.F=d}function gPf(a,b){return a.H.getId()==b.Es().getId()}function hPf(a,b){return gPf(a,b)&&!!b.Vv()&&("suggest"==a.D||"full"==a.D)}function iPf(a,b){return b instanceof UOf&&void 0!==b.o1()?!1:(a.J||gPf(a,b))&&(!!b.Vv()||b.Ji())&&("suggest"==a.D||"full"==a.D)}function jPf(a,b){return a.F&&!b.Ji()&&("suggest"==a.D||"full"==a.D)}fPf.prototype.Wca=p("F");function kPf(a){return"suggest"==a.D||"full"==a.D};function lPf(a,b){this.F=a;this.D=b||null}lPf.prototype.tm=function(a,b,c){this.F(a,b,c)};lPf.prototype.Rha=function(a){this.D&&this.D(a)};function mPf(a,b,c,d,e){d=d?d.Cf():void 0;e=e?e.Cf():void 0;a(b,c,d,e)};function nPf(a){C.call(this);this.QP(a)}A(nPf,C);w=nPf.prototype;
w.QP=function(a){var b=a.kd;if(void 0===b.mg())throw Error("eJ");var c=b.mg();this.nna=xOf(yOf(zOf(E4((new F4).Xd(c.getName()),c.getEmail()),L(c,2)),L(c,3)).Sc(c.getId()||""),!!Cj(c,5)).build();this.P_=!!Cj(b,40);this.NX=!Cj(b,20);this.OX=L(b,11);this.yoa=!!Cj(b,12);this.X8=L(b,6);this.mna=void 0!==a.l?!!a.l:!!Cj(b,25);this.Xya=L(b,21);this.Z8=L(b,23);this.ona=L(b,24);this.jua=L(b,31);void 0!==a.i?this.Y8=a.i:this.Y8=void 0;if(a=c4(b))this.RP=L(a,1);this.dispatchEvent("r")};w.X8=null;w.jua=null;
w.Y8=void 0;w.OX=null;w.mna=!1;w.P_=!1;w.Xya=null;w.Z8=null;w.ona=null;w.NX=!0;w.yoa=!1;w.nna=null;w.RP=null;w.mg=p("nna");function oPf(a,b,c){function d(f){return c?cb(f):f}var e=null;a&&ta(a)&&(e=d(a),ta(e[0])&&b==e[0][0]?(e=d(e[0]),e.shift()):b==e[0]&&e.shift());return e};function pPf(a,b){this.F=a;this.O=b}pPf.prototype.D=function(){return this.F.clientHeight};pPf.prototype.J=function(){return AL(this.O,this.F)};pPf.prototype.H=function(){return this.F.scrollTop};function qPf(){}qPf.prototype.install=function(a){a=a&&Jd(a);Nxc(a)};qPf.prototype.D=function(a,b){UN(a,b,void 0)};qPf.prototype.hide=function(a){a=a&&Jd(a);m3e(a)};qPf.prototype.F=function(a,b){Uxc(a,b)};function rPf(a,b){b=void 0===b?function(){return D8d()}:b;var c=a.kd;"string"===typeof c&&(c=JSON.parse(c));ta(c)&&(c=oPf(c,"kd",!0),c.unshift("kd"),a.kd=new M$e(c));nPf.call(this,a);this.Fe=b}x(rPf,nPf);w=rPf.prototype;
w.QP=function(a){nPf.prototype.QP.call(this,a);this.D=a.kd;this.R=this.R||Eoa("disco");var b;if(!(b=this.Ja)){b=Eoa("usp_dm");var c=new BNf;null!=b&&("true"==b?N(c,1,2):"false"==b&&N(c,1,1));b=c}this.Ja=b;this.yd=a["anchor-is-orphaned-fn"]||Zb;this.ma=a.anchordiv||null;b=a.container||null;!b&&a.containerdiv&&(b=new pPf(a.containerdiv,this.ma));this.px=b;this.Jb=a.storage||null;this.Wb=!!a["storage-ro"];this.Mc=!!a["disable-focus"];this.Iv=!!a.so;this.Od=a.docscroller||null;this.Pn=a["inactive-doco-indent"]||
10;this.Oa=a["instant-docos-div"]||null;this.lb=a["enable-new-delete-ui"]||!1;this.Ea=a["delete-dialog-show"]||null;this.W=null;b=a["log-latency-event-fn"]||null;c=a["set-total-docos-counts-fn"];b&&(this.W=new lPf(b,c));this.Mj=a["memory-monitor-fn"]||null;this.Hg=a.layout||null;this.zi=!!a.layoutrtl;this.O=a.listeners||{};this.V=a.panediv||null;this.na=a.panekbdiv||null;b=a.sortpaneby||"creation";"sortpane"in a&&(b=a.sortpane?"updated":"none");this.cb=b;this.eb=a.quotefn||null;this.hc=a["user-color-provider-fn"]||
null;this.Dm=a["user-color-provider-from-name-fn"]||null;this.Wt=a.quoterenderfn||null;this.Dc=!!a["hide-notification"];this.aa=!!a.offline;this.yc=!!a.nocss;this.Tb=null!=a["overflow-menu-show-link"]?!!a["overflow-menu-show-link"]:!0;this.qb=!!a["anchor-shadow"];b=a.resolve;"boolean"!==typeof b&&(b=!0);c=a.accessLevel;var d=!!a.readonly||!!a["fatal-readonly"]||!!Cj(this.D,8);this.J=new fPf(this.mg(),c?c:d?"readonly":"full",!!Cj(this.D,3),b);this.Ka=!!a.iph;this.zf=a.maxheight||0;this.ux=!!a.showerrors;
this.dc=a["stream-button"]||null;this.fd=!!a["disable-spfw"];this.Ca=a["anchor-mutate-fn"]||null;sPf(this)||(this.Ca=null);this.we=!!a["enable-comment-button"];this.Ba=!!a["enable-gsuite-embedding"];this.Ie=null!=a["enable-instant-mentions"]?!!a["enable-instant-mentions"]:!0;this.Mk=a["acl-fix-fn"]||null;this.Zi=a["load-acl-fixer-fn"]||null;this.vd=a["intercept-docos-edit-fn"]||null;this.hh=a["is-an-illegal-write-fn"]||null;this.Ac=!!a["defer-first-sync"];this.Bj=!!a["enable-lazy-loading"];this.xa=
!!a["enable-all-docos-in-anchored-stream"];this.Hv=a["stream-pane-banner-message"]||null;this.Pm=a["stream-pane-banner-learn-more-url"]||null;this.Kh=!!a["enable-track-mouse-positions-in-doco-view"];this.ea=!!a["enable-docos-people-hovercard"];this.Ya=(b=a["impression-recorder-fn"])?Aa(mPf,b):null;this.Xc=a.hidepromofn;this.Cl=a.showpromofn;this.Bi=a["acl-check-fn"]||null;this.F=a["tooltip-manager"]||new qPf;this.Tl=a["browser-app-clipboard"]||null;this.Wa=a["modal-dialog-z-index"]||null;this.Bd=
a["doco-link-base-url"];this.ia=!!a["untrusted-iframe"];this.qa=a["static-input-pane-message"]||null;this.gb=a["drive-id"]||null;this.tb=!!a["enable-roving-tabindex"];this.ef=a["auto-complete-factories"]||[];this.zm=a["overflow-menu-items"]||[];this.H=a["ui-version"]||"legacy";this.Sa=a["link-opener"]||null;this.dispatchEvent("r")};function tPf(a){return null!=L(a.D,44)&&null!=L(c4(a.D),51)&&!!Cj(c4(a.D),51)}w.gC=function(){if(this.Dc)return!1;var a=Cj(this.D,26);return null!=a?!!a:!0};
w.p0=function(){return!!Cj(this.D,43)};w.Lca=function(){var a=!1,b=c4(this.D);b&&(a=Cj(b,2));return!!Cj(this.D,43)&&!!a};function uPf(a){return!!c4(a.D)&&!!Cj(c4(a.D),32)}function sPf(a){return a.D&&!!Cj(a.D,18)}w.oi=function(){return!!Cj(this.D,39)};function vPf(a){return a.Fe()&&!!Cj(a.D,10)&&!a.Mc}function wPf(a){return Cj(a.D,10)?a.ef:[]}function xPf(a){return!!c4(a.D)&&!!Cj(c4(a.D),50)};function yPf(a){a=a.link;return T('<input type="text" class="'+V("docs-copy-link")+'" value="'+V(a)+'" readonly="readonly">')};function zPf(a,b,c,d){WN.call(this,void 0,void 0,a);this.H=this.O=this.J=this.D=null;this.V="";this.F=b||null;this.W=c||new pIc(a);this.R=null!=d?d:null;a=new YD;ZD(a,{key:"done",caption:"Valmis"},!0,!0);this.F&&rIc(this.W)&&ZD(a,{key:"copy-link",caption:"Kopioi linkki"});cN(this,a);this.Na=new Kk;this.la(this.Na)}x(zPf,WN);w=zPf.prototype;
w.ua=function(){WN.prototype.ua.call(this);El(ZM(this),"copy-link-dialog");El(LK(this.Id,"done"),"copy-link-done-button");this.D=uO(yPf,{link:this.V},void 0,this.oa());JA(this.D,"label","Linkki t\u00e4h\u00e4n kommenttiin");this.hb().appendChild(this.D);this.J=LK(this.Id,"copy-link");null!==this.R&&(Lm(this.Lo(),"z-index",this.R),Lm(ZM(this),"z-index",this.R+1));if(this.J){var a=Ud("DIV");El(a,"copy-link-butter-holder");this.ha().insertBefore(a,kqc(this));this.O=new UB(a);this.H=WB("Linkki kopioitu leikep\u00f6yd\u00e4lle.",
"info",!1,4E3);var b=Om(ZM(this),"zIndex");Lm(a,"z-index",b+1)}};w.hn=function(){var a=this;WN.prototype.hn.call(this);this.F&&Lk(this.Na,this.F.V,function(b){b.D&&a.H&&a.O&&(a.H.isVisible()||a.O.postMessage(a.H),a.D.focus(),a.D.select())});this.D.focus();this.D.select()};w.pk=function(){WN.prototype.pk.call(this);this.F&&vRb(this.Na,this.F.V)};w.Aa=function(){WN.prototype.Aa.call(this);hN(this,"done");this.Da().ga(this.D,"click",this.elb);this.J&&this.Da().ga(this.J,"click",this.OUa)};
w.elb=function(a){a.target.focus();a.target.select()};w.OUa=function(a){a.stopPropagation();this.F&&rIc(this.W)&&this.D&&this.D.value&&(this.D.focus(),this.D.select(),LIc(this.F,this.D.value))};w.wa=function(){WN.prototype.wa.call(this);He(this.H);delete this.H;delete this.J;delete this.D};function APf(a,b,c,d,e,f){t4.call(this,a,c);this.F=u4(a);this.Ca=hk(Uj(P(),"docs-seu")||this.F.Bd||window.location.href);this.J=new pQ(c,new BPf(d));this.H=new LR("",this.J,void 0,c);this.H.Pt=!0;this.addChild(this.H);this.R=null;Ra(e,"edit")&&(this.R=new kQ("Muokkaa"),this.R.gf("docos-edit-menuitem"),this.J.addChild(this.R,!0));this.O=null;Ra(e,"delete")&&(this.O=new kQ("Poista"),this.O.gf("docos-delete-menuitem"),this.J.addChild(this.O,!0));this.aa=null;Ra(e,"reanchor")&&uPf(this.F)&&(this.aa=new kQ("Lis\u00e4\u00e4 kommenttiin uusi ankkuri"),
this.aa.gf("docos-reanchor-menuitem"),this.J.addChild(this.aa,!0));this.ma=null;Ra(e,"disable")&&(this.ma=new kQ("Poista k\u00e4yt\u00f6st\u00e4 ehdotetut toimintokohteet"),this.ma.gf("docos-disable-menuitem"),this.J.addChild(this.ma,!0));this.xa=null;Ra(e,"help")&&(this.xa=new kQ("Lis\u00e4tietoja"),this.xa.gf("docos-help-menuitem"),this.J.addChild(this.xa,!0));d=A4(a).ac(b);if(!d)throw Error("fJ");this.V=d;this.Ba=f?M4(d,f):null;this.ea=null;u4(a).J.Wca()&&Ra(e,"resolve")&&(this.ea=new kQ(""),this.J.addChild(this.ea,
!0));this.W=this.na=this.ia=null;Ra(e,"link")&&(this.na=new kQ("Linkit\u00e4 t\u00e4h\u00e4n kommenttiin..."),this.na.gf("docos-link-menuitem"),this.J.addChild(this.na,!0),this.W=new zPf(c,this.F.Tl||void 0,void 0,null===this.F.Wa?void 0:this.F.Wa),this.addChild(this.W),El(ZM(this.W),"docos"),this.W.setTitle("Linkit\u00e4 t\u00e4h\u00e4n kommenttiin..."),CPf(this,b));this.qa=u4(a).zm.map(function(g){return{hGa:g,$pa:new kQ(g.getLabel())}});for(a=0;a<this.qa.length;a++)this.J.addChild(this.qa[a].$pa,
!0)}x(APf,t4);w=APf.prototype;w.Gb=function(a){t4.prototype.Gb.call(this,a);a=this.oa().Va("docos-docomenu-dropdown",this.ha());null===a?(a=this.Tb,null!==a&&a.D(Error("gJ"))):(this.H.Za(a),this.H.Pa(!0),this.F.F.D(a,"Lis\u00e4\u00e4 vaihtoehtoja\u2026"),this.H.Ag("Lis\u00e4\u00e4 vaihtoehtoja\u2026"))};
w.Aa=function(){var a=this;t4.prototype.Aa.call(this);DPf(this);v4(v4(v4(this,this.J.ha(),"click",this.Bva),this.H.ha(),"click",this.Bva),this.F,"r",this.BUa);v4(this,this.H.ha(),"keyup",this.Gmb);N4(this,this.R,this.Bnb);N4(this,this.O,this.znb);N4(this,this.na,this.Iib);N4(this,this.aa,this.Dnb);N4(this,this.ea,this.Enb);N4(this,this.ma,this.Anb);N4(this,this.xa,this.Cnb);for(var b={},c=0;c<this.qa.length;b={zV:b.zV},c++)b.zV=this.qa[c],N4(this,b.zV.$pa,function(d){return function(){d.zV.hGa.D((a.Ba||
a.V).Vv())}}(b))};w.focus=function(){this.H.ha().focus()};w.update=function(){DPf(this)};function CPf(a,b){if(a.W){var c=a.Ca.clone();b=c.F.set("disco",b);a=a.W;c=ck(c,b).toString();a.V=c;a.D&&(a.D.value=c)}}function N4(a,b,c){b&&v4(a,b,"action",c)}w.Enb=function(a){jPf(this.F.J,this.V)&&(this.dispatchEvent(new EPf("r")),FPf(this,a))};w.Bnb=function(a){GPf(this)&&(this.dispatchEvent(new EPf("e")),FPf(this,a))};w.Anb=function(a){this.dispatchEvent(new EPf("i"));FPf(this,a)};
w.znb=function(a){HPf(this)&&(this.H.xf(!1),this.dispatchEvent(new EPf("d")),FPf(this,a))};w.Dnb=function(a){this.dispatchEvent(new EPf("ra"));FPf(this,a)};w.Cnb=function(a){this.dispatchEvent(new EPf("h"));FPf(this,a)};w.Iib=function(a){FPf(this,a);this.W.setVisible(!0)};function FPf(a,b){b.stopPropagation();a.H.xf(!1)}w.Gmb=function(a){27==a.keyCode&&a.stopPropagation()};w.Bva=function(a){a.stopPropagation()};w.BUa=function(){DPf(this)};function GPf(a){return hPf(a.F.J,a.Ba||a.V)&&!a.ia}
function HPf(a){return iPf(a.F.J,a.Ba||a.V)&&!a.F.ia}function DPf(a){if(a.ea){var b=C4(a.V);if(null===a.ia||b!=a.ia){var c=IPf(a.V)?"Merkitse valmiiksi":"Ratkaise";a.ea.Fc(b?"Avaa uudelleen":c);a.ia=b}a.ea.Pa(jPf(a.F.J,a.V))}a.R&&(b=GPf(a),a.R.Pa(b),a.R.setVisible(b));a.O&&(b=HPf(a),a.O.Pa(b),a.O.setVisible(b));a.aa&&(b=!a.ia,a.aa.Pa(b),a.aa.setVisible(b))}function EPf(a){Ne.call(this,a)}x(EPf,Ne);function BPf(a){a=void 0===a?"docos-docomenu":a;nQ.call(this);this.F=a}x(BPf,nQ);
BPf.prototype.Kb=function(){return(new yK("goog-menu"," ","docos"," ",this.F)).toString()};function JPf(){YP.call(this,!1)}x(JPf,YP);JPf.prototype.kU=function(a){YP.prototype.kU.call(this,a)};function KPf(){this.D=!1;this.F=new Ei;this.la(this.F)}A(KPf,B);function LPf(a,b,c,d,e,f,g){this.R=a;this.J=b;this.V=c;this.O=d;this.H=e;this.D=f;this.F=g}LPf.prototype.ac=p("J");function MPf(){}function O4(a){var b=new MPf;b.F=a;return b}function P4(a,b){a.D=b;return a}function NPf(a,b){a.R=b;return a}MPf.prototype.build=function(){return new LPf(this.F,this.D,this.O||!1,this.V||null,this.R||null,this.H||null,this.J||null)};function OPf(a,b,c,d,e,f,g){this.J=a;this.O=b;this.H=c;this.R=d;this.D=e;this.F=f;this.yk=g}function PPf(){}function Q4(a){var b=new PPf;b.J=a;return b}function QPf(a,b){a.F=b;return a}function RPf(a,b){a.yk=b;return a}PPf.prototype.build=function(){return new OPf(this.J,this.R||!1,this.H||null,this.O||null,this.D||null,this.F||null,this.yk||null)};function SPf(a,b,c){var d=b4(a);this.H=a;this.V=b;this.Sp=c||null;this.W=null;this.O={};this.F={};this.D=new UOf(d);this.J=void 0;this.iH=!!O(d,gNf,18);b=this.getId();if(a=b4(a)){a=$3(a);for(c=0;c<a.length;c++)d=new UOf(a[c]),void 0===L(a[c],13)?(this.F[d.getId()]=d,XOf(d)&&(this.J=XOf(d)),this.V.bind(b,d.getId())):this.O[d.getId()]=d;this.J||(this.J=null)}this.aa=this.R=null}w=SPf.prototype;w.Es=function(){return this.D.Es()};w.getId=function(){return this.D.getId()};
function R4(a){return L(a.D.D,11)||""}w.kG=function(){var a=L(this.H,4);if(void 0===a)return this.Ct();this.aa||(this.aa=d0(a));return this.aa};w.Ad=function(){return this.D.Ad()};w.Pi=function(){return this.D.Pi()};w.o1=function(){return this.D.o1()};w.Vv=function(){return this.D.Vv()};function S4(a){return L(a.H,8)||""}w.p1=function(){return this.D.p1()};w.WQ=function(){return this.D.WQ()};w.Vu=function(){return void 0!==L(this.H,8)};function C4(a){return!!Cj(a.H,6)}
function TPf(a,b){var c=Db(a.F);b&&c.push(a.D);VK(c,function(d,e){return c0(d.Ct(),e.Ct())});return c}function M4(a,b){return a.F[b]||null}w.Ct=function(){if(this.R)return this.R;var a=L(this.H,3);a?this.R||(this.R=d0(a)):this.R=null;return this.R};w.getNewDocoType=p("Sp");w.Aw=function(){return"draft"==this.Sp||"client-integrated-draft"==this.Sp||"instant-doco"==this.Sp};function UPf(a){return T4(a)}function T4(a){return a.Aw()||"smart-todo"==a.Sp}w.FL=function(){return"smart-todo"==this.Sp};
w.gH=function(){return!!Cj(this.H,9)};w.Uu=function(){return this.D.Uu()};w.Dw=function(){return this.D.Dw()};function w4(a){var b=a.D.Dw()?a.D.Dw():null;a=TPf(a);for(var c=0;c<a.length;c++){var d=a[c];d.Dw()&&(b=d.Dw().Np(b))}return b}function IPf(a){return a.D.Dw()?a.D:null}w.Ji=function(){return this.D.Ji()};w.isTodo=function(){return null!=this.iH?this.iH:this.iH=!!IPf(this)};w.IA=function(){return this.D.IA()};
function VPf(a){if(void 0!==a.J)return a.J;if(!a.Ji())return a.J=null;for(var b in a.F){var c=XOf(a.F[b]);if(c)return a.J=c}return a.J=null}w.gm=function(){return this.D.gm()};w.Fca=function(){return this.D.Fca()};w.Bca=function(){var a=this.gm();if(2==a)return!0;if(1!=a)return!1;for(var b=TPf(this),c=0;c<b.length;c++){a=b[c].gm();if(2==a)return!0;if(1!=a)break}return!1};function U4(a){this.D=a;this.Sp=null}
function V4(a){var b=new Z3;a=a.D;Fj(b,2,a);a.getId()||L(a,11);b.Sc(a.getId()||L(a,11));return new U4(b)}function WPf(a,b){N(a.D,8,b);return a}function W4(a,b){N(a.D,9,b);return a}function XPf(a,b){a.Sp=b;return a}U4.prototype.getNewDocoType=p("Sp");U4.prototype.getId=function(){return b4(this.D).getId()};function YPf(a,b,c,d,e,f,g,k){Ne.call(this,a);this.V=b;this.D=c;this.J=d;this.yk=e;this.F=f;this.O=g;this.H=k}x(YPf,Ne);YPf.prototype.getSource=p("V");function ZPf(){this.yk=this.H=this.F=this.R=this.uu=null;this.J=this.D=0;this.O=!1}function $Pf(a){var b=new ZPf;b.uu=a;return b}ZPf.prototype.Ee=function(a){this.R=a;return this};function aQf(a,b){a.J=b;return a}function bQf(a,b){a.O=b;return a}ZPf.prototype.build=function(){return new YPf(this.uu,this.R,this.F,this.H,this.yk,this.D,this.J,this.O)};function cQf(a){B.call(this);this.D=a;this.H=u4(a);this.F=dQf(this.D);this.J={}}A(cQf,B);function eQf(a,b,c,d,e,f){var g=Qc(),k=new J4(g);d&&L4(k,d,Ca());f&&ePf(k);e&&(d=xOf(E4(new F4,e).Sc(""),!1).build(),d=COf(d),cPf(k,d));c=XPf(W4(WPf(V4(k),b),!1),c);fQf(A4(a.D),c);A4(a.D).flush();X4(a.F,RPf(QPf(Q4(43008),g),b).build());return Y4(A4(a.D),g)}
function gQf(a,b,c,d,e){d=xOf(E4(new F4,d).Sc(""),!1);pb(aL(e))||d.Xd(e);e=d.build();d=COf(e);e=Qc();var f=Ca();c=ePf(cPf(L4(dPf(new J4(e),a.H.mg()),c,f),d));c=XPf(W4(WPf(V4(c),b),!1),"smart-todo");fQf(A4(a.D),c);A4(a.D).flush();X4(a.F,RPf(QPf(Q4(43023),e),b).build());return Y4(A4(a.D),e)}
function hQf(a,b,c,d,e){var f=Qc(),g=Ca();c=L4(dPf($Of(K4(new J4(f)),g),a.H.mg()),c,g);e&&ePf(c);d&&(d=xOf(E4(new F4,d).Sc(""),!1).build(),d=COf(d),cPf(c,d));c=W4(V4(c),!0);N(c.D,3,g);b=XPf(WPf(c,b),"discussion");fQf(A4(a.D),b);A4(a.D).flush();b=A4(a.D).ac(f);Z4(a.F,P4(O4(43009),b).build());return Y4(A4(a.D),f)}w=cQf.prototype;w.LJa=function(a){iQf(A4(this.D),a);A4(this.D).flush()};
w.HJa=function(a,b,c,d){if(a=A4(this.D).ac(a)){if(d&&!a.Dw())throw Error("iJ");if(a.Ji()&&d)throw Error("jJ");var e=Qc(),f=Ca();b=dPf($Of(L4(K4(new J4(e)),b,f),f),this.H.mg());c&&ZOf(b,c);d&&cPf(b,d);c=YOf(new J4(R4(a),a.getId()),b);c=W4(V4(c),!0);$4(A4(this.D),c);A4(this.D).flush();Z4(this.F,P4(O4(d?43020:43010),a).build())}};
w.NJa=function(a,b){if(a=A4(this.D).ac(a)){var c=new J4(R4(a),a.getId()),d=null!=a.Uu()?new EOf(a.Uu().D.clone()):new EOf(new mNf);N(d.D,4,b?1:0);Fj(c.D,19,d.D);K4(c);c=W4(V4(c),!0);$4(A4(this.D),c);A4(this.D).flush();Z4(this.F,P4(O4(b?43040:43041),a).build())}};
w.OJa=function(a,b,c){if(a=A4(this.D).ac(a)){var d=new J4(R4(a),a.getId());if(c=M4(a,c)){var e=null!=c.Uu()?new EOf(c.Uu().D.clone()):new EOf(new mNf),f=new J4(R4(a),c.getId());N(e.D,4,b?1:0);Fj(f.D,19,e.D);YOf(d,K4(f));d=W4(V4(d),!0);$4(A4(this.D),d);A4(this.D).flush();Z4(this.F,NPf(P4(O4(b?43042:43043),a),c).build())}}};
w.lOa=function(a,b,c){if(a=A4(this.D).ac(a))if(b=M4(a,b)){var d=Ca();c=L4(K4(new J4(L(b.D,11)||"",b.getId())),c,d);c=YOf(new J4(R4(a),a.getId()),c);c=W4(V4(c),!0);$4(A4(this.D),c);A4(this.D).flush();Z4(this.F,NPf(P4(O4(43021),a),b).build())}};w.Qfb=function(a,b){if(a=A4(this.D).ac(a)){var c=Ca();b=L4(new J4(R4(a),a.getId()),b,c);b=W4(V4(b),!1);$4(A4(this.D),b);A4(this.D).flush()}};
w.MJa=function(a,b,c){if(a=A4(this.D).ac(a)){if(a.Ji())throw Error("kJ");var d=Qc(),e=Ca();d=dPf($Of(K4(new J4(d)),e),this.H.mg());N(d.D,10,b?0:1);c&&L4(d,c,e);c=YOf(new J4(R4(a),a.getId()),d);c=W4(V4(c),!0);N(c.D,6,b);$4(A4(this.D),c);A4(this.D).flush();Z4(this.F,P4(O4(b?43014:43015),a).build())}};
w.IJa=function(a,b){var c=A4(this.D),d=c.ac(a);d&&(this.J[Y4(c,a)]=Eb(Ob(d.F)),a=aPf(K4(new J4(R4(d),d.getId()))),a=W4(V4(a),!0),d.FL()||(d=P4(O4(43017),d),null!=b&&(d.H=b),Z4(this.F,d.build())),$4(c,a),c.flush())};
function jQf(a,b){var c=A4(a.D);if(a5(c,b))throw Error("lJ");var d=c.na[b];if(!d)throw Error("mJ`"+b);var e=bPf(K4(new J4(R4(d),d.getId()))),f=a.J[b];delete a.J[b];a=Ob(d.O);b=Ob(d.F);for(var g=0;g<f.length;g++){var k=f[g];YOf(e,bPf(K4(new J4(L((b[k]||a[k]).D,11)||"",k))))}e=W4(V4(e),!0);$4(c,e);c.flush();return Y4(c,d.getId())}
w.pna=function(a,b){if(a=a5(A4(this.D),a)){var c=a.IA();if(!a.Ji()||!c)throw Error("nJ");a=K4(new J4(R4(a),a.getId()));c=oNf(new fNf,"application/vnd.google-apps.docs.mds");b=Fj(c,3,b);Fj(a.D,9,b);b=W4(V4(a),!0);$4(A4(this.D),b);A4(this.D).flush()}};w.jOa=function(a,b){if(a=A4(this.D).ac(a)){var c=Ca();b=L4(K4(new J4(R4(a),a.getId())),b,c);b=W4(V4(b),!0);$4(A4(this.D),b);A4(this.D).flush();Z4(this.F,P4(O4(43022),a).build())}};w.iJa=function(a,b){(a=A4(this.D).ac(a))&&(b=M4(a,b))&&kQf(this,a,b)};
function kQf(a,b,c){Z4(a.F,NPf(P4(O4(43016),b),c).build());$4(A4(a.D),lQf(b,c));A4(a.D).flush()}function lQf(a,b){b=aPf(K4(new J4(L(b.D,11)||"",b.getId())));a=YOf(new J4(R4(a),a.getId()),b);return W4(V4(a),!0)}w.KJa=function(a){var b=a5(A4(this.D),a,!0);a=mQf(A4(this.D),a);b&&a&&kQf(this,b,a)};w.JJa=function(a){for(var b=[],c=0;c<a.length;c++){var d=a[c],e=a5(A4(this.D),d,!0);d=mQf(A4(this.D),d);e&&d&&b.push(lQf(e,d))}nQf(A4(this.D),b,"c")};
function oQf(a,b,c,d){b=a5(A4(a.D),b);if(!pQf(a,b))return 0;var e=Qc();$4(A4(a.D),qQf(a,b,e,c));d||(d=a.F,c=P4(O4(c?43027:43028),b),c.O=!0,Z4(d,c.build()));return Y4(A4(a.D),b.getId(),e)}function pQf(a,b){if(!b)return!1;if(!b.Ji()||!b.IA())throw Error("oJ");return rQf(A4(a.D),b)?!0:!1}function qQf(a,b,c,d){a=ZOf(dPf($Of(K4(new J4(c)),Ca()),a.H.mg()),b.IA());N(a.D,10,d?2:3);b=YOf(new J4(R4(b),b.getId()),a);return W4(V4(b),!0)}
function sQf(a,b,c){for(var d=[],e=[],f=[],g=0;g<b.length;g++){var k=a5(A4(a.D),b[g]);if(pQf(a,k)){var l=Qc();d.push(qQf(a,k,l,c));e.push(k.getId());f.push(l)}}nQf(A4(a.D),d,"c");b=[];for(g=0;g<e.length;g++)b.push(Y4(A4(a.D),e[g],f[g]));return b};function tQf(){C.call(this)}A(tQf,C);function uQf(a,b){Ne.call(this,a);this.rl=b||null}A(uQf,Ne);function vQf(){pk.call(this,"",void 0,!0);this.H=new ok(z(this.D,this));this.la(this.H);this.J=null}x(vQf,pk);vQf.prototype.V=function(a,b,c,d){if(this.J&&!nb(a,"Error in protected function: ")){var e=new NNf;a=N(e,1,a);b=N(a,2,b);c=N(b,3,String(c));d&&N(c,4,d);wQf(this.J,"rjse",c,void 0,pa,!0,1)}};vQf.prototype.wa=function(){pk.prototype.wa.call(this);delete this.H};function xQf(a){C.call(this);var b=this;this.H=null;this.Na=new Kk;this.la(this.Na);this.D=a;Lk(this.Na,this.D.by(),function(){"hidden"===b.D.getState()&&(b.F=new EN);"visible"!=b.D.getState()||ouc(b.F)||(b.dispatchEvent("uh"),yQf(b))});this.F=new EN;yQf(this)}x(xQf,C);xQf.prototype.format=function(a){var b=new EN(a);b=(new EN).getTime()-b.getTime();if(15552E6<b||-864E5>b)return zQf.format(a);b=S$e(a.getTime());return AQf.format(a)+(" "+b)};
function yQf(a){var b=new EN;b.add(new DN(0,0,1));b=b.getTime();$e(a.H);a.H=Ze(function(){a.dispatchEvent("uh");yQf(a)},b-Ca(),a)}qa(xQf);var AQf=new yR(7),zQf=new yR(2);function BQf(a){this.D=a;this.F={};this.O={};this.R=this.D.aa;this.Nb=0;this.J=[];this.va=new bf(this);this.la(this.va);this.va.ga(this.D,"r",this.V)}A(BQf,B);var CQf=[Yc?"readystatechange":"load","abort","error"];function DQf(a){return"legacy"==a.D.H?"//ssl.gstatic.com/docs/common/profile/unverified_user_96.svg":"//ssl.gstatic.com/docs/common/profile/material_unverified_user_96.svg"}
function EQf(a,b,c,d){if(b){var e="dcs-img-"+a.Nb++;b.id=e;b.alt=d;a.F[e]=b;a.O[e]=c||"//ssl.gstatic.com/s2/profiles/images/silhouette96.png";FQf(a,e)}}function oOf(a,b,c,d){b&&a.J.push(new GQf(b,c,d))}function HQf(a){Ze(function(){for(;this.J.length;){var b=this.J.pop();EQf(this,b.mca,b.src,b.D)}},0,a)}function B4(a,b){b&&b.id&&(a.va.Sb(b,CQf,a.H),delete a.F[b.id],delete a.O[b.id])}BQf.prototype.V=function(){var a=this.D.aa;if(this.R!=a&&(this.R=a,!a))for(var b in this.F)FQf(this,b)};
BQf.prototype.H=function(a){if(a.currentTarget){var b=a.currentTarget;if("readystatechange"!=a.type||"complete"==b.readyState)"abort"==a.type||"error"==a.type?(b.classList.contains("docos-avatar-unverified")&&(b.classList.remove("docos-avatar-unverified"),this.D.F.D(b,"")),this.va.Sb(b,CQf,this.H),b.src="//ssl.gstatic.com/s2/profiles/images/silhouette96.png"):B4(this,b)}};function FQf(a,b){a.va.ga(a.F[b],CQf,a.H);a.F[b].src=a.O[b]}function GQf(a,b,c){this.mca=a;this.src=b;this.D=c};function IQf(){rL.call(this);this.aa=!1}A(IQf,rL);function u4(a){return a.get("config")}function D4(a){var b=sL(a,"action_registry");if(!b){b=new JPf;for(var c=Db(QNf),d=0;d<c.length;d++){var e=c[d];e=(new TH(e)).tg("label",e).tg("visible",!0).tg("hint",e).tg("enabled",!0).build();b.Lh(e);b.la(e)}a.bd("action_registry",b)}return b}function A4(a){return a.get("stream")}function x4(a){return a.get("imageManager")}function JQf(a){return a.get("subscriptionManager")}
function dQf(a){return a.get("impressionRecorder")}function iOf(a){return sL(a,"errorReporter")}function KQf(a){var b=sL(a,"batchEventTracker");b||(b=new KPf,a.bd("batchEventTracker",b));return b};function LQf(a,b,c){this.R=a;this.F=b;this.V=c;this.D=!1;this.O=this.J=0;this.H=u4(a).Kh}function MQf(a,b){a.D!=b&&(a.D=b,b={ii:a.F,D6a:a.V,K6a:b},D4(a.R).Ob("mouse-hover-doco-view").fireAction(b))};function NQf(a){a=a||{};var b=a.SB,c=a.NO,d=a.M6a;a="";b&&(d="docos-action-text "+(d?"docos-edit-pane-action-text":"docos-body-action-text"),a+=c?"<div class="+wN(c)+"><span class="+wN(d)+">"+X(b)+"</span></div>":"<span class="+wN(d)+">"+X(b)+"</span>");return T(a)};function OQf(a){a=a||{};var b=a.Of,c=a.yw;a=a.hH;return T('<div class="'+V("goog-inline-block")+" "+V("goog-menu-button")+" "+V("docos-docomenu-dropdown")+'">'+(b?X(q4({Of:""+b,yw:""+c,hH:a})):"")+"</div>")};function PQf(a,b,c){b=c||b;a=a||{};var d;if(a.Lm){var e=b;a=a||{};var f=a.author,g=a.gE,k=a.D7,l=a.$e;b=a.canEdit;c=a.vy;var m=a.Ji,n=a.Aw,q=a.cga,r=a.SB,u=a.tL,v=a.oi,y=a.p0,D=a.Lca,H=a.timestamp,M=a.cJa,U=a.Qj;f='<div class="'+V("docos-anchoredreplyview")+(l?" "+V(l):"")+(m?" "+V("docos-replyview-suggest"):" "+V("docos-replyview-comment"))+'"><div class="'+V("docos-anchoredreplyview-header")+'"><div class="'+V("docos-anchoredreplyview-avatar-holder")+'">'+X(bOf({size:32,dJa:M,I8:g?""+g:"",$e:"docos-replyview-avatar docos-anchoredreplyview-avatar"}))+
(c?'<div class="'+V("docos-user-presence")+'"></div>':"")+'</div><div class="'+V("docos-anchoredreplyview-authortimestamp")+'"><div class="'+V("docos-anchoredreplyview-author")+" "+V("docos-author")+'"'+(g?' data-hovercard-id="'+V(g)+'"':"")+">"+(f?X(f):"")+'</div><div class="'+V("docos-anchoredreplyview-timestamp")+" "+V("docos-replyview-timestamp")+'">'+(H?X(H):"")+'</div></div><div class="'+V("docos-anchoredreplyview-buttonholder")+" "+V("hide-on-readonly")+'">';tN(m)&&tN(c)?(r=r={Qj:U},r=T(QQf({Hc:"docos-accept-suggestion jfk-button-collapse-right",
Qj:r.Qj},e)),U=U={oi:v,Qj:U},v=U.oi,U=U.Qj,e=""+X(gP({title:"Hylk\u00e4\u00e4 ehdotus",style:U?4:0,Hc:"docos-reject-suggestion jfk-button-collapse-left",content:KF(""+(U?T('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>'):X(q4({Of:"docos-icon-reject-suggestion-cross",yw:"docos-icon-reject-suggestion-cross-size",$e:"jfk-button-img"})))),HB:v},e)),e=T(e),e=r+e):n?e=
"":(v=c?y?T(QQf({Hc:"docos-replyview-resolve-button-plus-one docos-replyview-resolve-button jfk-button-collapse-right"},e)):T(X(gP({Hc:"docos-replyview-resolve-button-original docos-replyview-resolve-button"},e))):"",!tN(y)||!tN(u)&&r?e="":D?(y=(y=a)||{},U=y.vy,r=y.tL,y=y.oi,D=X(q4({Of:"docos-icon-thumb-black",yw:"docos-icon-thumb-size",$e:"jfk-button-img",hH:!0}))+'<div class="'+V("like-button-text")+'">',D+="0</div>",e=""+X(gP({Hc:"docos-like-button "+(tN(U)&&!r?"jfk-button-collapse-left":""),title:"Tykk\u00e4\u00e4 t\u00e4st\u00e4",
content:KF(D),HB:y},e)),e=T(e),e=X(e)):(y=(y=a)||{},U=y.vy,r=y.tL,y=y.oi,D='<div class="'+V("vote-button-text")+'">',D+="+1</div>",e=""+X(gP({Hc:"docos-vote-button "+(tN(U)&&!r?"jfk-button-collapse-left":""),title:"Anna kommentille +1",content:KF(D),HB:y},e)),e=T(e),e=X(e)),e=v+e+'<div class="'+V("docos-overflowmenu-outer")+'" style="visibility: hidden"></div>');k=f+e+'</div></div><div class="'+V("docos-collapsible-replyview")+" "+(k?"":V("docos-collapsible-replyview-empty"))+'">'+(c||u?"":X(NQf(rN({NO:""},
a))))+'<div class="'+V("docos-replyview-static")+'"><div class="'+V("docos-replyview-body")+" "+V("docos-anchoredreplyview-body")+'">'+(k?X(k):"")+'</div><div class="'+V("docos-show-more")+'" role="button" tabindex="0">';k=k+'N\u00e4yt\u00e4 lis\u00e4\u00e4</div><div class="'+(V("docos-show-less")+'" role="button" tabindex="0" style="display:none">');k+="Piilota";c?d=X(NQf(rN({NO:"docos-root-reply-action-text-wrapper"},a))):u?d=X(NQf(rN({NO:"docos-action-text-bottom-wrapper"},a))):d="";k+="</div></div></div>"+
(b?'<div class="'+V("docos-edit-pane-placeholder")+'" style="display: none"></div>':"")+d+'<div class="'+V("docos-replyview-origin")+" "+V("docos-anchoredreplyview-origin")+'">'+(q?X(q):"")+"</div></div>";d=T(k)}else d=b,q=a||{},u=q.author,k=q.gE,f=q.D7,c=q.S7,a=q.canEdit,b=q.cga,e=q.timestamp,v=q.Qj,q.vy?(a=(a=q)||{},v=a.author,U=a.gE,b=a.D7,r=a.$e,c=a.canEdit,q=a.Djb,u=a.Wca,k=a.cga,f=a.SB,e=a.tL,y=a.timestamp,d='<div class="'+V("docos-streamrootreplyview")+(r?" "+V(r):"")+'"><div class="'+V("docos-streamdocoview-authorname")+
" "+V("docos-author")+" "+V("goog-inline-block")+'"'+(U?' data-hovercard-id="'+V(U)+'"':"")+">"+(v?X(v):"")+'</div><div class="'+V("goog-inline-block")+" "+V("docos-actionmenu-outer")+'">'+X(OQf(null,d))+'</div><div class="'+V("docos-streamdocoview-details")+" "+V("goog-inline-block")+'"><div class="'+V("docos-streamdocoview-timestamp")+" "+V("docos-replyview-timestamp")+" "+V("goog-inline-block")+'">'+(y?X(y):"")+'</div><div class="'+V("docos-streamdocoview-bullet")+" "+V("goog-inline-block")+" "+
V("show-on-readonly")+'" aria-hidden="true">&bull;</div><div class="'+V("docos-streamdocoview-comments-off")+" "+V("goog-inline-block")+" "+V("show-on-readonly")+'">',d=d+'Kommentit estetty</div><div class="'+(V("docos-streamdocoview-reopen-control")+" "+V("goog-inline-block")+" "+V("hide-on-readonly")+'" style="display: none"><div class="'+V("docos-streamdocoview-bullet")+" "+V("goog-inline-block")+'" aria-hidden="true">&bull;</div><div class="'+V("docos-docoview-reopen")+" "+V("goog-inline-block")+
'" role="button" tabindex="0" title="'),d+=NF("Merkitse avatuksi ja palauta keskustelu asiakirjaikkunaan."),d+='">Avaa uudelleen</div></div></div>',q&&(d+='<div class="'+V("docos-replyview-quote-caption")+'">',d=d+'Valittu teksti:</div><div class="'+(V("docos-replyview-quote")+" "+V("docos-replyview-quote-collapsed")+'">'+X(q)+'<div class="'+V("docos-replyview-quote-collapse")+" "+V("goog-inline-block")+'" style="display:none">'),d=d+'Tiivist\u00e4</div><div class="'+(V("docos-replyview-quote-expand")+
'">'),d+="N\u00e4yt\u00e4 kaikki</div></div>"),d+='<div class="'+V("docos-replyview-static")+'"><div class="'+V("docos-streamdocoview-body")+" "+V("docos-replyview-body")+'">'+X(b)+"</div>"+(f?X(NQf(rN({NO:"docos-root-reply-action-text-wrapper"},a))):"")+'<div class="'+V("docos-streamdocoview-controls")+" "+V("hide-on-readonly")+'"><div class="'+V("docos-streamdocoview-comment-control")+" "+V("goog-inline-block")+'"><div class="'+V("docos-docoview-comment")+" "+V("goog-inline-block")+'" role="button" tabindex="0" title="',
d+=NF("Vastaa t\u00e4h\u00e4n kommenttiin"),d+='">Vastaa</div></div>',u&&(d+='<div class="'+V("docos-streamdocoview-resolve-control")+" "+V("goog-inline-block")+'"><div class="'+V("docos-streamdocoview-bullet")+" "+V("goog-inline-block")+'" aria-hidden="true">&bull;</div>',e?(d+='<div class="'+V("docos-docoview-resolve")+" "+V("goog-inline-block")+'" role="button" tabindex="0" title="',d+=NF("Merkitse valmiiksi ja piilota keskustelu"),d+='">Merkitse valmiiksi'):(d+='<div class="'+V("docos-docoview-resolve")+
" "+V("goog-inline-block")+'" role="button" tabindex="0" title="',d+=NF("Merkitse ratkaistuksi ja piilota keskustelu"),d+='">Ratkaistu'),d+="</div></div>"),d+="</div></div>"+(c?'<div class="'+V("docos-edit-pane-placeholder")+'" style="display: none"></div>':"")+'<div class="'+V("docos-replyview-origin")+" "+V("docos-streamreplyview-origin")+'">'+(k?X(k):"")+"</div></div>",d=T(d)):(d='<div class="'+V("docos-streamreplyview")+'">'+X(bOf({size:v?32:24,I8:k?""+k:"",$e:"docos-replyview-avatar docos-streamreplyview-avatar"}))+
'<div class="'+V("docos-streamreplyview-content")+'"><div class="'+V("docos-streamreplyview-text")+" "+V("goog-inline-block")+'"><div class="'+V("docos-streamreplyview-author")+" "+V("docos-author")+" "+V("goog-inline-block")+'"'+(k?' data-hovercard-id="'+V(k)+'"':"")+">"+(u?X(u):"")+"</div>"+X(NQf(q))+' <br><span class="'+V("docos-replyview-body")+" "+V("docos-streamreplyview-body")+" "+V("docos-replyview-static")+'">'+X(f)+'</span></div><div class="'+V("docos-replyview-static")+'"><div class="'+
V("docos-streamreplyview-timestamp")+" "+V("docos-replyview-timestamp")+" "+V("goog-inline-block")+'">'+(e?X(e):"")+"</div>",tN(c)||tN(a)?(u=u={BHa:!0,S7:c,canEdit:a},c=u.S7,q=u.canEdit,u=u.BHa,k='<div class="'+V("docos-replyview-control")+" "+V("docos-replyview-static")+" "+V("goog-inline-block")+" "+V("hide-on-readonly")+'">',q&&(k+=(u?'<div class="'+V("docos-streamdocoview-bullet")+" "+V("goog-inline-block")+'" aria-hidden="true">&bull;</div>':"")+'<div class="'+V("docos-replyview-edit")+" "+V("goog-inline-block")+
'" role="button" tabindex="0" title="',k+=NF("Muokkaa kommenttia"),k+='">Muokkaa</div>'),c&&(k+=(u?'<div class="'+V("docos-streamdocoview-bullet")+" "+V("goog-inline-block")+'" aria-hidden="true">&bull;</div>':"")+'<div class="'+V("docos-replyview-delete")+" "+V("goog-inline-block")+'" role="button" tabindex="0" title="',k+=NF("Poista kommentti pysyv\u00e4sti"),k+='">Poista</div>'),c=T(k+"</div>"),c=X(c)):c="",d=d+c+"</div>"+(a?'<div class="'+V("docos-edit-pane-placeholder")+'" style="display: none"></div>':
"")+'<div class="'+V("docos-replyview-origin")+" "+V("docos-streamreplyview-origin")+'">'+(b?X(b):"")+"</div></div></div>"),d=T(d);return T(d)}function RQf(){return T('<div class="'+V("docos-showrepliesbutton")+'" style="display:none"><div class="'+V("docos-showrepliesbutton-collapsed")+'"></div></div>')}
function QQf(a,b){a=a||{};var c=a.Hc;a=a.Qj;var d;a?d=T('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"/></svg>'):d=X(q4({Of:"docos-icon-accept-checkmark-black",yw:"docos-icon-accept-checkmark-size",$e:"jfk-button-img"}));return T(X(gP({Hc:c?""+c:"",style:a?4:0,content:KF(""+d)},b)))};function SQf(a,b){a=a||{};var c=a.Ez,d=a.Hc,e=a.koa;a=a.loa;return T('<div class="'+V("goog-inline-block")+(d?" "+V(d):"")+'">'+X(iAc({Ih:c,Hc:e},b))+(c?"<label"+(a?' class="'+V(a)+'"':"")+">"+X(c)+"</label>":"")+"</div>")};function TQf(a,b,c){b=c||b;a=a||{};var d=a.$e;c=a.X7;var e=a.nmb,f=a.Z7,g=a.moa,k=a.Ela,l=a.oi,m=a.SB,n=a.yB;a='<div class="'+V("docos-input")+(d?" "+V(d):"")+'" style="display: none"><textarea class="'+V("docos-input-textarea")+(g?" "+V(g):"")+'" autocomplete="input-area" x-webkit-speech speech></textarea>'+(m?X(NQf(rN({NO:"docos-edit-pane-action-text-wrapper",M6a:!0},a))):"")+(e?'<div class="'+V("docos-input-sidearrow-outer")+'"></div><div class="'+V("docos-input-sidearrow-inner")+'"></div>':"")+
'<div id="docos-input-assignment-panel" class="'+V("docos-input-assignment-panel")+'" style="display: none">'+X(iAc({Hc:"docos-input-assignment-box"},b))+'<div class="'+V("docos-input-assignee-text")+'">'+X(k)+'</div><div class="'+V("docos-input-assignee-select")+'"></div></div>'+(n?'<div class="'+V("docos-input-static-message")+'">'+X(n)+"</div>":"")+'<div class="'+V("docos-input-at-reply-message")+'" style="display: none">';a=a+'+maininta lis\u00e4\u00e4 henkil\u00f6it\u00e4 t\u00e4h\u00e4n keskusteluun ja l\u00e4hett\u00e4\u00e4 s\u00e4hk\u00f6postia.</div><div class="'+
(V("docos-input-acl-fixer-message")+'" style="display: none" aria-live="polite">');a=a+'Varmistetaan, ett\u00e4 mainitsemillasi henkil\u00f6ill\u00e4 on k\u00e4ytt\u00f6oikeus\u2026</div><div class="'+(V("docos-input-assignment-message")+'" style="display: none">');a=a+'Henkil\u00f6lle ilmoitetaan, ja h\u00e4n vastaa teht\u00e4v\u00e4n merkitsemisest\u00e4 valmiiksi.</div><div class="'+(V("docos-input-assign-to-text")+'" style="display: none"></div><div class="'+V("docos-focusedpresenceindicator-container")+
'"></div><div class="'+V("docos-input-buttons")+'">'+X(gP({style:2,Hc:"docos-input-post docos-input-buttons-post"},b)));d="";d=f?d+(""+f):d+"Hylk\u00e4\u00e4 kommentti";f="";f=c?f+X(c):f+"Peruuta";a+=X(gP({Hc:"docos-input-cancel",title:d,content:KF(f),HB:l},b));return T(a+"</div></div>")};function UQf(a,b,c){b=c||b;a=a||{};if(a.Lm){a=a||{};c=a.author;var d=a.FL,e=a.tL,f=a.oi,g=a.Qj;a.Aw?(a=(a=rN({author:c,oi:f},a))||{},c=a.author,d=a.oi,e=a.yB,b=T('<div class="'+V("docos-anchoreddocoview-content")+" "+V("docos-anchoreddocoview-draft")+'">'+X(PQf(rN({author:c,Lm:!0,vy:!0,$e:"docos-replyview-first"},a),b))+"</div>"+X(TQf({$e:"docos-anchoreddocoview-input-pane docos-draftdiscussionview-input-pane docos-docoview-input-pane",oi:d,yB:e},b)))):d?(c=(c=rN({oi:f,Qj:g},a))||{},d=c.JHa,a=c.oi,
e=c.Qj,f='<div class="'+V("docos-anchoreddocoview-content")+" "+V("docos-smarttodoview")+'"><div class="'+V("docos-smarttodoview-container")+'"><div class="'+V("docos-smarttodoview-header")+'"><table><tr><td class="'+V("docos-icon-explore-container")+'">'+X(q4({Of:"docos-icon-explore",yw:"docos-icon-explore-size",hH:!0}))+'</td><td class="'+V("docos-smarttodoview-headertext")+'" role="heading"><div class="'+V("docos-smarttodoview-headertext-outer")+'"><div class="'+V("docos-smarttodoview-headertext-inner")+
'">',f=f+'Ehdotettu toimintokohde</div></div></td><td><div class="'+(V("docos-overflowmenu-outer")+'">'+X(OQf({yw:"docos-icon-overflow-three-dots-size",Of:"docos-icon-overflow-three-dots",hH:e},b))+'</div></td></tr></table></div><div class="'+V("docos-smarttodoview-body")+'"></div>'),f+=X(TQf({$e:"docos-docoview-input-pane",X7:"Hylk\u00e4\u00e4",Z7:"Hylk\u00e4\u00e4 ehdotettu toimintokohde",oi:a},b)),d&&(f+='<div class="'+V("docos-smarttodoview-showfeedbackdialog-container")+'"><div class="'+V("docos-smarttodoview-showfeedbackdialog-button")+
'" role="button" tabindex="0" aria-expanded="false">',f+="Onko ehdotus huono?</div></div>"),a=f,d?(c=c||{},c=c.oi,d='<div class="'+V("docos-smarttodoview-feedback")+'" style="display: none"><div class="'+V("docos-smarttodoview-feedback-headertext")+'" role="heading">',d=d+'Kerro meille, miksi et pid\u00e4 t\u00e4st\u00e4.</div><div class="'+(V("docos-smarttodoview-feedback-checkboxlist")+'">'),d+=X(SQf({Ez:"Ei ole toimintokohde",Hc:"docos-smarttodoview-feedback-checkbox-container",koa:"docos-smarttodoview-feedback-checkbox docos-smarttodoview-feedback-notactionitem",
loa:"docos-smarttodoview-feedback-text docos-smarttodoview-feedback-notactionitem-label"},b)),d+=X(SQf({Ez:"M\u00e4\u00e4ritetty v\u00e4\u00e4r\u00e4lle k\u00e4ytt\u00e4j\u00e4lle",Hc:"docos-smarttodoview-feedback-checkbox-container",koa:"docos-smarttodoview-feedback-checkbox docos-smarttodoview-feedback-wrongassignee",loa:"docos-smarttodoview-feedback-text docos-smarttodoview-feedback-wrongassignee-label"},b)),d+='</div><div class="'+V("goog-inline-block")+" "+V("docos-smarttodoview-writefeedback-link")+
'" role="button" tabindex="0">',d=d+'Kirjoita palautetta</div><div class="'+(V("docos-smarttodoview-feedback-buttonlist")+'">'),d+=X(gP({style:2,Hc:"docos-input-post docos-smarttodoview-feedback-submit",title:"L\u00e4het\u00e4 palaute",content:"L\u00e4het\u00e4",HB:c},b)),d+=X(gP({Hc:"docos-input-cancel docos-smarttodoview-feedback-cancel",title:"Hylk\u00e4\u00e4 palaute",content:"Peruuta",HB:c},b)),b=T(d+"</div></div>")):b="",b=T(a+("</div>"+b+"</div>")),b=X(b)):b=(e?'<div class="'+V("docos-anchoreddocoview-content")+
" "+V("docos-anchoreddocoview-assigneecontainer")+'"></div>':"")+'<div class="'+V("docos-anchoreddocoview-content")+" "+V("docos-docoview-replycontainer")+'"><div class="'+V("docos-docoview-rootreply")+'"></div></div><div class="'+V("docos-input-pane-placeholder")+'" style="display: none"></div><div class="'+V("docos-unfocusedpresenceindicator-container")+'"></div>';b=T('<div class="'+V("docos-docoview-tesla-conflict")+'" role="dialog"><div class="'+V("docos-anchoreddocoview-internal")+'">'+b+"</div></div>")}else a=
a||{},b=a.gE,a=a.Qj,b=T('<div class="'+V("docos-docoview-tesla-conflict")+'">'+X(bOf({size:a?32:48,I8:b?""+b:"",$e:"docos-streamdocoview-avatar"}))+'<div class="'+V("docos-streamdocoview-content")+'"><div class="'+V("docos-docoview-rootreply")+'"></div><div class="'+V("docos-streamdocoview-replycontainer")+" "+V("docos-docoview-replycontainer")+'"></div><div class="'+V("docos-streamdocoview-inputcontainer")+" "+V("hide-on-readonly")+'">'+X(bOf({size:a?32:24,$e:"docos-streamreplyview-avatar"}))+'<div class="'+
V("docos-input-pane-placeholder")+'" style="display: none"></div></div></div></div>');return T(b)};function VQf(a,b){Ne.call(this,a);this.ii=b}x(VQf,Ne);function b5(a){VQf.call(this,"rd",a)}x(b5,VQf);function c5(a,b,c,d,e){t4.call(this,a,d);this.W=a;this.Wa=c;this.Ya=[];this.V=null;this.Ca=new LQf(this.W,b,this.Lm());this.Sc(b);this.Ba=null;this.Wb=e;this.gb=this.ia=null;this.xc=!0;this.Jb=!1}x(c5,t4);w=c5.prototype;w.Gv=h();w.Sc=function(a){t4.prototype.Sc.call(this,a);this.Ca.F=a};w.getContext=p("W");w.ac=function(){return A4(this.W).ac(this.getId())||null};w.Jk=function(){var a=this.getId();return WQf(this.Wb,a)};w.sH=t(null);w.Tda=t(!1);
w.ua=function(){var a=this.ac(),b=a.Es();a=w4(a);var c=uO(UQf,{author:b.getName(),gE:this.D.ea?b.getId():null,Lm:this.Lm(),tL:!!a,oi:this.D.oi(),Qj:"legacy"!=this.D.H});this.Lm()||tPf(this.D)||El(c,"docos-streampanemargin-legacy");this.ub(c);this.Ag(b,a||void 0)};
w.Ag=function(a,b){b=b?fOf(b,this.D):void 0;a=a.getName();var c=Bb(this.ac().F),d=C4(this.ac())?"Ratkaistu":"Avoin";b=a&&b?(new ER("{numReplies,plural, =1{Kommentit-valintaikkuna {state} kommentti. Tekij\u00e4: {author}. Saaja: {assignee}. 1\u00a0vastaus.}other{Kommentit-valintaikkuna {state} kommentti. Tekij\u00e4: {author}. Saaja: {assignee}. {numReplies}\u00a0vastausta.}}")).format({state:d,author:a,assignee:b,numReplies:c}):a?(new ER("{numReplies,plural, =1{Kommentit-valintaikkuna {state} kommentti. Tekij\u00e4: {author}. 1\u00a0vastaus.}other{Kommentit-valintaikkuna {state} kommentti. Tekij\u00e4: {author}. {numReplies}\u00a0vastausta.}}")).format({state:d,
author:a,numReplies:c}):(new ER("{numReplies,plural, =1{Kommentit-valintaikkuna {state} kommentti. 1\u00a0vastaus.}other{Kommentit-valintaikkuna {state} kommentti. {numReplies}\u00a0vastausta.}}")).format({state:d,numReplies:c});GM(this.ha(),b)};w.Aa=function(){t4.prototype.Aa.call(this);v4(v4(this,this.ha(),["click","keypress","keyup"],this.K8a),this.ha(),["mouseenter","mouseleave","mousemove"],this.Lgb);ie(this.ha(),!0)};w.Nc=function(){t4.prototype.Nc.call(this);MQf(this.Ca,!1)};w.ZW=t(!1);
w.Nga=h();w.g1=function(){if("legacy"==this.D.H&&this.Lm()&&(!this.ia||!this.gb)){var a=this.oa(),b=this.ha(),c=a.createElement("DIV");El(c,"docos-anchoreddocoview-arrow-inner");this.ia=c;c=a.createElement("DIV");El(c,"docos-anchoreddocoview-arrow-outer");this.gb=c;a.pw(b,this.ia,0);a.pw(b,this.gb,0)}};w.getSize=function(){if(!this.V||0==this.V.height||0==this.V.width){var a=this.xc;a||this.setVisible(!0);this.V=new Hd(this.ha().offsetWidth,this.ha().offsetHeight);a||this.setVisible(!1)}return this.V.clone()};
w.getHeight=function(){this.V||this.getSize();return this.V.height};w.K8a=function(a){(13==a.keyCode&&"keypress"==a.type||32==a.keyCode&&"keyup"==a.type||"click"==a.type)&&this.Ava(a);32==a.keyCode&&"keypress"==a.type&&(a.stopPropagation(),a.preventDefault())};w.Lgb=function(a){var b=this.Ca;"mousemove"==a.type&&b.H?(b.J=a.clientX,b.O=a.clientY):"mouseenter"!=a.type&&"mouseleave"!=a.type||MQf(b,"mouseenter"==a.type);a.stopPropagation()};w.YL=function(a){this.resize();a.stopPropagation()};
w.resize=function(){this.V=null;this.dispatchEvent(new b5(this.getId()))};w.setVisible=function(a){this.xc=a;R(this.ha(),a)};w.isVisible=p("xc");function XQf(a){var b=["docos-docoview-tesla-conflict"],c=[];YQf(a,"docos-anchoreddocoview",a.Lm(),b,c);YQf(a,"docos-streamdocoview",!a.Lm(),b,c);YQf(a,"docos-docoview-active",a.Jk(),b,c);var d=a.ac();YQf(a,"docos-docoview-resolved",!!d&&C4(d),b,c);if(0<b.length||0<c.length)uL(a.ha(),b),vL(a.ha(),c),a.Ya=zl(a.ha())}
function YQf(a,b,c,d,e){c&&!Ra(a.Ya,b)?d.push(b):!c&&Ra(a.Ya,b)&&e.push(b)}w.MU=ba("Ba");function ZQf(a){return a.Ba?a.Ba:a.D.zf}w.getDocoMaxHeight=p("Ba");w.wa=function(){t4.prototype.wa.call(this);delete this.W};function $Qf(a,b){this.D=a;this.Qa=b}
function aRf(a,b,c){var d=b.getEmail(),e=b.getName(),f='<div class="'+V("docos-contact-row")+'" title="';f+=NF("Yhteystiedot");f+='">'+X(bOf({size:32,$e:"docos-contact-row-avatar"}))+'<div class="'+V("docos-contact-row-name")+'">'+(e?X(e):X(d))+"</div>"+(e?'<div class="'+V("docos-contact-row-email")+'">'+X(d)+"</div>":"")+"</div>";d=T(f);d=IF(d);Bc(c,d);d=b.getEmail();d=pb(aL(b.getName()))?d:b.getName()+" "+d;GM(c,d);c=Y_(a.Qa,"IMG","docos-contact-row-avatar",c);B4(a.D,c);EQf(a.D,c,b.D,s4(b));return c}
;function bRf(a,b,c,d){d=void 0===d?null:d;RR.call(this,void 0,void 0,void 0,a);this.W=null;this.ma=new $Qf(x4(c),a);this.R=b;this.aa=c;this.F=d;this.ea=!(this.F&&this.F.Lm());this.O=null}x(bRf,RR);w=bRf.prototype;w.Aa=function(){RR.prototype.Aa.call(this);this.O=Pd("goog-menu-button-dropdown",this.ha());this.Da().ga(this.ha(),["click","keypress","keyup"],this.f9a).ga(this.ha(),"focus",this.Ww).ga(this.ha(),["mousedown","blur"],this.Sza)};
w.f9a=function(a){this.F&&this.F.ac()==A4(this.aa).V||(this.xf(!this.Tf()),this.Sza());a.stopPropagation()};w.Ww=function(){El(this.O,"docos-assignee-select-focus")};w.Sza=function(){Fl(this.O,"docos-assignee-select-focus")};w.Ve=function(a){return this.Ic()&&2>this.Ic().wc()?!1:RR.prototype.Ve.call(this,a)};w.We=function(a){this.F&&this.F.ac()==A4(this.aa).V&&(this.Ic()&&2>BQ(this)||RR.prototype.We.call(this,a))};function cRf(a){return(a=a.jh())?a.mg():null}
w.mf=function(a){RR.prototype.mf.call(this,a);var b=a.ha();b&&(El(b,"docos-assignee-select-menu"),"legacy"!=this.R.H&&El(b,"docs-gm"),this.ea&&a.render(this.R.V))};w.Qr=function(){var a=this.Ic().ha();Lm(a,"width",this.W.offsetWidth+"px");RR.prototype.Qr.call(this);var b=parseInt(Mm(a,"top"),10)||0,c=Qm(this.W).x;this.ea?(c-=Qm(this.R.V).x,b+=-2):b+=-1;xL(a,c,b)};function dRf(a){var b=new Cw;if(!a.Ic())return b;a.Ic().cg(function(c){b.add(c.mg())});return b}
w.update=function(a,b){if(!dRf(this).Fa(new Cw(a))||cRf(this)!=b){for(var c=new pQ(this.oa()),d,e=0;e<a.length;e++){var f=a[e],g=new eRf(f,this.ma,this.oa());f==b&&(d=g);c.addChild(g,!0)}this.mf(c);TR(this,d);R(this.ha(),1<BQ(this))}};w.reset=function(){this.Ic().removeChildren();TR(this,null)};function eRf(a,b,c){var d=c.createElement("div");kQ.call(this,d,void 0,c);this.F=a;this.D=b;this.H=aRf(this.D,this.F,d)}x(eRf,kQ);w=eRf.prototype;w.ua=function(){kQ.prototype.ua.call(this);El(this.ha(),"docos-assignee-select-item")};
w.Aa=function(){kQ.prototype.Aa.call(this);this.Da().ga(this.ha(),"click",this.e9a)};w.mg=p("F");w.No=t("");w.e9a=function(a){a.stopPropagation()};w.wa=function(){kQ.prototype.wa.call(this);var a=this.H;a&&B4(this.D.D,a)};function fRf(){gRf(this)}x(fRf,E);fRf.prototype.zo=function(a){oja(this.F.remove(a),"Trying to remove inexistant Observer %s.",a);this.D=null};fRf.prototype.iterator=function(){if(!this.D){var a=new SMf,b=this.F;a.D=[];var c=b.Cf();b=c;var d=a.D;c=c.length;var e=0,f=0;hg(b,d)&&(b=b.slice(f,f+c),f=0);var g=f;for(f+=c;g<f;){var k=Math.min(g+1E4,f);c=k-g;g=b.slice(g,k);g.splice(0,0,e,0);Array.prototype.splice.apply(d,g);g=k;e+=c}this.D=a}return this.D.$f()};fRf.prototype.$f=function(){return this.iterator()};
function gRf(a){var b=new xNf,c=new QMf;zMf(c);b.D=c;a.F=b;a.D=null};function hRf(a){gRf(this);this.H=a}x(hRf,fRf);hRf.prototype.set=function(a){this.H=a;for(a=this.iterator();a.D();){var b=a.F();iRf(b,this.H)}};hRf.prototype.get=p("H");function jRf(a,b,c){return new kRf(a,b,c)}function kRf(a,b,c){this.D=lRf(a,b);this.Vc=c;this.H=!1;this.F=-1;mRf(this,0)}kRf.prototype.yA=p("H");kRf.prototype.close=function(){this.D.forEach(function(a){a.F.clear();a.D=null});this.F=-1;this.H=!0};
function lRf(a,b){for(var c=[],d={},e=0;e<b.length;d={II:d.II,CV:d.CV},e++){d.CV=b[e];var f=d;var g=new hRf(null);f.II=g;d.CV.F(a.D,a.F,a.H,function(k){return function(l,m,n,q,r){q=void 0===q?!0:q;r=void 0===r?!1:r;0<l.length?k.II.set(new nRf(l,m,q,k.CV.getType(),r,n)):q&&k.II.set(oRf())}}(d))||d.II.set(oRf());c.push(d.II)}return c}function mRf(a,b){if(!a.H)if(b>=a.D.length)a.Vc(oRf()),a.close();else{a.F=b;var c=a.D[b];Hh(a);qja(c.F.add(a),a);c.D=null;b=a.D[b].get();null!==b&&iRf(a,b)}}
function iRf(a,b){b.isEmpty()?(a.D[a.F].zo(a),mRf(a,a.F+1)):(a.Vc(b),b.complete&&a.close())}function pRf(a,b,c){this.D=a;this.F=b;this.H=c}function nRf(a,b,c,d,e,f){this.rows=a;this.Tr=b;this.complete=c;this.type=d;this.F=e;this.D=void 0===f?null:f}nRf.prototype.isEmpty=function(){return 0===this.rows.length&&this.complete};function oRf(){return new nRf([],new kZ(!1),!0,0,!1,void 0)};function qRf(a){this.D=a};function rRf(){this.className="docos-ac-highlighted"}rRf.prototype.$C=function(a,b,c){pb(b)||c.D&&/^\W/.test(b)?c=null:(b=iG(b),c=c.D?new RegExp("\\b(?:"+b+")","gi"):new RegExp(b,"gi"));c&&sRf(this,a,c)};
function sRf(a,b,c){if(3!==b.nodeType)for(b=b.firstChild;b;){var d=b.nextSibling;sRf(a,b,c);b=d}else{var e=b.nodeValue;d=[];for(var f=0,g=0,k;k=c.exec(e);)f++,d.push(e.substring(g,k.index)),d.push(e.substring(k.index,c.lastIndex)),g=c.lastIndex;d.push(e.substring(g));c=Jd(b);for(e=0;e<f;e++){k=2*e;b.nodeValue=d[k];g=a;k=d[k+1];var l=c.createElement("B");l.className=g.className;c.appendChild(l,oG(c,k));g=l;k=oG(c,"");c.iD(g,b);c.iD(k,g);b=k}a=d.slice(2*f);b.nodeValue=a.join("")}};function tRf(a,b,c,d,e,f,g){this.startTime=a;this.O=b;this.J=c;this.D=d;this.F=e;this.H=f;this.R=g};function uRf(a){this.bjb=a}x(uRf,ENf);function vRf(a,b,c,d,e,f,g,k,l){l=void 0===l?5E3:l;this.X6=!0;a=new wRf("\n",null,!0);WMf(a);a.eDa=!1;a.ea=null;a.aa=null;f=new xRf(f,k,this);f.ma=!0;f.Ca=!1;f.V=!0;f.className="docos-ac";g&&XMf(f,g,g);QQ.call(this,this,f,a);this.O.Fh=this;this.qa=c.map(function(m){return new yRf(m)});this.Ba=new rRf;this.Dqa(Md(b));this.ea=d?d:null;this.W=e||null;this.V=null;this.Ca=l;this.na=!1;this.ia=null}A(vRf,QQ);var zRf=/[\n]$/;w=vRf.prototype;
w.oU=function(a,b,c){var d=this,e=Ca(),f=this.O.H;this.W&&this.W.tm("dacps",e-f);var g=!0;this.V&&(this.V.cancel(),this.V=null);if(a){var k=ARf(this.O,a),l=BRf(this,a,k);if(0===l.length)c(a,[]);else if(1===l.length){var m=l[0];m.F(a,k,b,function(n,q,r,u,v){r=void 0===r?null:r;u=void 0===u?!0:u;v=void 0===v?!1:v;d.Yb()||(r=new uRf(new tRf(e,f,m.getType(),g,u,v,r)),r.Bga=!g,r.aba=q.v7,c(a,n,r),g=!1)})}else b=jRf(new pRf(a,k,b),l,function(n){if(!d.Yb()){var q=new uRf(new tRf(e,f,n.type,g,n.complete,
n.F,n.D));q.Bga=!g;n.Tr&&(q.aba=n.Tr.v7);c(a,n.rows,q);g=!1}}),this.V=new CRf(b,this.Ca)}else c(a,[])};function BRf(a,b,c){return a.qa.filter(function(d){return d.D(b,c)})}
w.nU=function(a,b){b||(b=new ENf);vRf.Ia.nU.call(this,a,b);if(b instanceof uRf){this.ia=b.bjb;var c=DRf(this,this.ia,a.length,!1);b=this.ia;var d=c,e=Ca()-b.startTime,f=Ca()-b.O;this.W&&(b.D&&(this.W.tm("dac",e,d.Ta()),this.W.tm("dact",f,d.Ta())),b.F&&(this.W.tm("dacfr",e,d.Ta()),this.W.tm("dacfrt",f,d.Ta())))}else this.ia=null;if(this.ea){b=this.ea;d=a.length;a=0<a.length?a[0].getType():null;if(!b.D&&0<d&&a){var g=(g=ERf[a])&&g.E4;b.D=a}else b.D&&0==d&&(g=(g=ERf[b.D])&&g.b5,b.D=null);g&&FRf(b,g,
c)}};function DRf(a,b,c,d){var e=new CNf;e=N(e,1,c);e=N(e,2,GRf(b.J));e=N(e,3,b.H);c=N(e,4,b.H?b.D&&(b.F||0<c)?2:3:1);d&&(N(c,5,RQ(a,a.H)),N(c,6,b.R));return VMf(c)}function GRf(a){switch(a){case 0:return 1;case 1:return 2;case 2:return 3;case 3:return 4;case 4:return 5;default:return 0}}w.mU=function(a,b,c){c&&(a.data.render(c),c.id=a.data.getId(),a.data.iG()&&this.Ba.$C(c,a.data.iG().F,new qRf(a.data.iG().D)))};
w.fN=function(){var a=QKc(this)?this.D[RQ(this,this.H)]:null,b;this.ia&&(b=DRf(this,this.ia,this.D.length,!0));if(a&&this.ea){var c=this.ea;(a=ERf[a.getType()])&&FRf(c,a.c4,b);c.D=null}this.na=!0;return vRf.Ia.fN.call(this)};w.xi=function(){if(!this.na&&this.getToken()&&0<this.D.length&&this.ea){var a=this.ea,b=a.D&&ERf[a.D];b&&FRf(a,b.LX);a.D=null}this.na=!1;vRf.Ia.xi.call(this)};function HRf(a){return QKc(a)?a.D[RQ(a,a.H)].getId():null}
w.wa=function(){vRf.Ia.wa.call(this);Ie(this.qa);this.V&&(this.V.cancel(),this.V=null)};function wRf(a,b,c,d){this.H=0;SQ.call(this,a,b,c,d)}A(wRf,SQ);wRf.prototype.We=function(){this.Fh.Tf()&&this.Fh.xi()};wRf.prototype.$g=function(a){this.H=Ca();return(37===a.keyCode||39===a.keyCode)&&this.Fh.Tf()||38===a.keyCode&&this.Fh.Tf()&&-1===this.Fh.H?(this.Fh.xi(),!0):wRf.Ia.$g.call(this,a)};
wRf.prototype.gN=function(a,b){var c=null;if(a){c=a.BK();var d=IRf(this,a.getToken());c={start:c.getSelectionStart()+d,end:c.getSelectionEnd()+d}}b=wRf.Ia.gN.call(this,a,b);if(a){d=c.end;var e=this.Rk;e&&(VKc(e,c.start),$Kc(e,d));a.MT()}return b};function IRf(a,b){var c=a.Oh();a=a.getValue().slice(0,c+b.length).lastIndexOf(b);return 0<=a?a:c}function ARf(a,b){return a.Oh()-IRf(a,b)}function yRf(a){this.J=a}
yRf.prototype.F=function(a,b,c,d){var e=a.replace(zRf,"");return this.J.F(e,b,c,function(f,g,k,l,m){d(f.map(function(n){return new JRf(n,a)}),g,k,l,m)})};yRf.prototype.getType=function(){return this.J.getType()};yRf.prototype.D=function(a,b){return this.J.D?this.J.D(a,b):!0};function JRf(a,b){this.D=a;this.F=b}w=JRf.prototype;w.getId=function(){return this.D.getId()};w.getType=function(){return this.D.getType()};w.iG=function(){return this.D.iG()};w.BK=function(){return this.D.BK()};w.render=function(a){this.D.render(a)};
w.MT=function(){this.D.MT()};w.getToken=p("F");w.toString=function(){var a=zRf.test(this.F)?"\n"[0]:"";return this.BK().D+a};function CRf(a,b){var c=this;this.F=a;this.D=Ze(function(){c.D=null;c.F.close()},b)}CRf.prototype.cancel=function(){null!==this.D&&($e(this.D),this.D=null);this.F.close()};function xRf(a,b,c){TQ.call(this,a,c);this.H=!!b}A(xRf,TQ);
xRf.prototype.Ec=function(){xRf.Ia.Ec.call(this);GM(this.ha(),"N\u00e4ytet\u00e4\u00e4n yhteystietoehdotukset");var a=yL(this.ha()),b=this.H?-2:-1;xL(this.ha(),a.x,a.y+b)};function KRf(a){this.D=null;this.F=a}function FRf(a,b,c){if(c){var d=new OL;Fj(d,11,c)}a.F&&a.F(b,void 0,d)}var LRf={},ERf=(LRf[1]={E4:43002,b5:43004,LX:43006,c4:43E3},LRf[2]={E4:43003,b5:43005,LX:43007,c4:43001},LRf[3]={E4:43068,b5:43069,LX:43066,c4:43067},LRf[4]={E4:43072,b5:43073,LX:43070,c4:43071},LRf);function MRf(a,b,c,d){C.call(this);this.D=a;this.J=b;this.F=c;this.O=d||0;a.removeAttribute("maxlength");this.H=new VO(a);Re(this.H,"input",this.R,!1,this);NRf(this)}A(MRf,C);MRf.prototype.R=function(){NRf(this)};function NRf(a){var b=a.D.value.length;if(b>a.F){var c=a.D.scrollTop,d=a.D.scrollLeft;a.D.value=a.D.value.substring(0,a.F);b=a.F;a.D.scrollTop=c;a.D.scrollLeft=d}a.J&&he(a.J,String(1==a.O?b:a.F-b))}MRf.prototype.wa=function(){MRf.Ia.wa.call(this);delete this.D;this.H.dispose();this.H=null};function ORf(a,b){return PRf(a,b,!1)}function QRf(a,b){return PRf(a,b,!0)}function PRf(a,b,c){var d=[];if(!a||b.charAt(0).toUpperCase()!==b.charAt(0))return d;for(var e,f=0;f<a.length;f++){e=a[f];var g;if(g=e){var k=e;g=k.getName();k=k.getEmail();g=!(null==g||null==k||0>g.indexOf("-")?0:k.split("@")[0]==g)}if(g)a:{g=b;k=c;for(var l=e.getName().split(/\s+/),m,n=0;n<l.length;n++)if(m=l[n],m=k?xcc(m,g):eba(m,g)){g=!0;break a}g=!1}g&&d.push(e)}return d};var RRf=[];RRf.push=function(){throw Error("pJ");};var SRf={cancel:h(),Qi:t(!1)};function TRf(a,b,c,d,e,f,g){b.getEmail();this.Wd=a;this.F=b;this.Nb=c;this.R=d;this.J=e;this.O=f;this.D=null;this.H=g}A(TRf,B);w=TRf.prototype;w.mg=p("F");w.getId=p("Nb");w.getType=p("R");w.iG=p("J");w.BK=p("O");w.render=function(a){this.D=aRf(this.Wd,this.F,a)};w.MT=h();w.wa=function(){var a=this.D;a&&B4(this.Wd.D,a)};function URf(){};function VRf(a,b){this.D=a;WRf(this.D);this.F=b}function XRf(a,b){for(var c=0,d=b-1;0<=d;d--)if(YRf.has(a[d])){c=d+1;break}for(d=a.length;b<a.length;b++)if(YRf.has(a[b])){d=b;break}return{text:a.slice(c,d),startIndex:c,endIndex:d}}function ZRf(a,b){for(var c=0,d=b-1;0<=d;d--)if($Rf.has(a[d])&&(0==d||YRf.has(a[d-1]))){c=d;break}for(d=a.length;b<a.length;b++)if(YRf.has(a[b])){d=b;break}return{text:a.slice(c,d),startIndex:c,endIndex:d}}
function aSf(a,b,c,d,e,f,g,k,l){return a.D.Hn(d,f,function(m,n){m=m.map(function(q){var r;if(r=q)q.getEmail()?(r=null,cZ(bSf(q))?r=(new k0(bSf(q))).setSize(96).build():r=bSf(q)||null,r=yOf(E4(new F4,q.getEmail()).Xd(q.getName()),r).Sc("").build()):r=null;return{sIa:q,sx:r}}).filter(function(q){return q.sx}).map(function(q,r){var u=q.sx;r=g+r;q=q.sIa.getType();var v=new lZ(d,!0),y=c;u.getName()&&(y=cSf(u.getName(),b,y));var D="+"+u.getEmail(),H=YRf.has(b[y.endIndex]);y=new mZ(b.slice(0,y.startIndex)+
D+(H?"":" ")+b.slice(y.endIndex),y.startIndex+D.length+1,y.startIndex+D.length+1);return new TRf(a.F,u,r,k,v,y,q)});l(m,!n.Qi(),a.D.D)},e)}
function cSf(a,b,c){if(0>a.indexOf(c.text))return c;var d=a.split(dSf).filter(function(l){return!!l}),e=b.slice(0,c.endIndex).split(dSf);a=d.join(" ");for(var f=e.length,g=0;0<f&&g<d.length;){for(var k=f-1;0<k&&!e[k];)k--;if(!e[k])break;g++;f=k}for(;f<e.length;){if(e[f]&&(d=e.slice(f),g=d.filter(function(l){return!!l}).join(" "),a.startsWith(g)))return a=d.reduce(function(l,m){return l+m.length},0)+d.length-1,a=c.endIndex-a,{text:b.slice(a,c.endIndex),startIndex:a,endIndex:c.endIndex};f++}return c}
var YRf=new Set([" ","\t","\n"]),$Rf=new Set(["@","+"]),dSf=/[ ]/;var eSf="-- about above after again against all also always am an and announce another any are aren't as ask at back be because been before being between both bugs but by call came can can't cannot cause com come core could couldn't did didn't discuss do does doesn't doing don't down during each eng especially even ever every few find for from get go goes got group had hadn't has hasn't have haven't having he he'd he'll he's her here here's hers herself him himself his how how's however i'd i'll i'm i've if in into is isn't it it'd it'll it's its itself just know last let let's lgtm like look made make makes many may me might most much must my myself near need never next no nor not now of off often on once one only or other our ours ourselves out over own part place put said same saw say says see seem seen set shall she she'd she'll she's should should shouldn't show side since so some still such take team tell than that that's the their theirs them themselves then there there's these they they'd they'll they're they've thing things this those though three through time to too try trying under until upon us use users using very want was wasn't way we we we'd we'll we're we've well went were weren't what what's when when's where where's whether which while who who'll who's who've whom why why's will with won't word would wouldn't www yet you you'd you'll you're you've your yours yourself yourselves &".split(" "),
fSf=new Cw(["everybody","nobody"]);function gSf(a,b){this.O=b;this.J=a?/(^\S*@\S*)|(\S{5,})|(\S{2,4})/:/(^\S*@\S*)/;this.H=null}A(gSf,B);gSf.prototype.F=function(a,b,c,d){var e=this;this.H&&(this.H.cancel(),this.H=null);if(!this.D(a,b))return!1;b=XRf(a,b);var f=hSf(this,b.text);a=aSf(this.O,a,b,f.query,f.filter,c,"doco-contact-instant-mention-row-",2,function(g,k,l){k&&(e.H=null);g=g.filter(function(m){return"ct"==m.H});d(g,iSf,f.query.length,k,l)});this.H=a.Qi()?a:null;return!0};
gSf.prototype.D=function(a,b){a=XRf(a,b);return!this.J.test(a.text)||a.text.startsWith("@")||a.text.startsWith("+")||Ra(eSf,a.text.trim().toLowerCase())||fSf.contains(a.text.trim().toLowerCase())?!1:!0};function hSf(a,b){a=b.match(a.J);return null===a?null:null!=a[1]?{query:a[1],filter:$b}:null!=a[2]?{query:a[2],filter:QRf}:null!=a[3]?{query:a[3],filter:ORf}:null}gSf.prototype.getType=t(2);gSf.prototype.wa=function(){delete this.H};var iSf=new kZ(!1);function jSf(a){this.O=a;this.J=/^(?:[@]|[+](?!1))((?:\S* ?)*)/;this.H=null}A(jSf,B);jSf.prototype.F=function(a,b,c,d){var e=this;this.H&&(this.H.cancel(),this.H=null);if(!this.D(a,b))return!1;b=ZRf(a,b);var f=kSf(this,b.text);a=aSf(this.O,a,b,f.query,f.filter,c,"doco-contact-plus-mention-row-",1,function(g,k,l){k&&(e.H=null);d(g,lSf,f.query.length,k,l)});this.H=a.Qi()?a:null;return!0};jSf.prototype.D=function(a,b){a=ZRf(a,b);return this.J.test(a.text)};
function kSf(a,b){a=b.match(a.J);return null===a?null:null!=a[1]?{query:a[1],filter:$b}:null}jSf.prototype.getType=t(1);jSf.prototype.wa=function(){delete this.H};var lSf=new kZ(!0);var mSf=/\b[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]+\b/ig,nSf=/\B[@+][A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]+\b/ig;function oSf(a,b){a=b.match(a)||[];for(b=0;b<a.length;b++)a[b]=rb(a[b]).replace(/^\W+/,"").toLowerCase();return a};function pSf(a){this.D=new KY(void 0,!0);this.F=null;this.H=!1;this.J={};this.O=a.get("contactStore");WRf(this.O)}function qSf(a,b){var c=xOf(E4(new F4,b).Sc(""),!1).build();a.D.set(b,c);a.O.D&&(a.J.hasOwnProperty(b)&&(a.J[b].cancel(),delete a.J[b]),a.J[b]=a.O.Hn(b,1,z(a.R,a,b)))}pSf.prototype.R=function(a,b){if(null!==b&&0<b.length&&LY(this.D,a)){b=b[0];var c=null;cZ(bSf(b))?c=(new k0(bSf(b))).setSize(96).build():c=bSf(b)||null;b=yOf(E4(new F4,a).Xd(b.getName()),c).Sc("").build();this.D.set(a,b)}delete this.J[a]};
function rSf(a){return a.D.D.next.value||null}function sSf(a){return a.H?a.F:null};function tSf(a,b,c){Ne.call(this,c)}A(tSf,Ne);function uSf(a){a=a.b6a;return T('<div class="'+V("docos-presenceindicator")+" "+V(a)+'">Someone is typing...</div>')};function vSf(a,b,c){t4.call(this,a,b);this.F=c}x(vSf,t4);vSf.prototype.ua=function(){this.ub(uO(uSf,{b6a:this.F}))};vSf.prototype.Aa=function(){t4.prototype.Aa.call(this);this.setVisible(!1)};vSf.prototype.setVisible=function(a){this.ha().style.display=a?"":"none"};function wSf(a,b,c,d){c=void 0===c?null:c;d=void 0===d?!1:d;t4.call(this,a,b);this.Ba=a;this.W=new hP("",b);var e=this.D.oi();this.W.Qs=e;this.addChild(this.W);this.V=new hP("",b);this.addChild(this.V);this.aa=b.Db().body;this.F=c;this.J=new pSf(this.Ba);this.na=this.Wa=null;this.ia=new bRf(b,this.D,this.Ba,this.F);this.O=(this.qb="legacy"!=this.D.H)?new TO(b):new UO(!1,b);this.Oa=!1;this.xa=!d;c=QB.Ma();this.yc=RB(c);this.Sa=RB(c);this.Jb=RB(c);this.lb=null;Q(P(),"docs-edp")&&(this.lb=new vSf(a,
b,"focused-presenceindicator"));this.tb=0;this.ma=null;this.gb="Kommenttiluonnos";this.Ka=this.eb=null;this.Ya=!0;this.ea=!1;this.Ea=this.cb=this.R=this.Ja=this.Ca=null;this.qa=!1}x(wSf,t4);w=wSf.prototype;w.ua=function(){this.Gb(uO(TQf,{oi:this.D.oi(),yB:this.D.qa},void 0,this.oa()))};
w.Gb=function(a){t4.prototype.Gb.call(this,a);a=this.ha();var b=this.oa();this.setVisible(!0);this.H=b.Va("docos-input-textarea",a);this.xa||R(this.H,this.xa);var c=new WO;c.Za(this.H);this.la(c);this.Ka=b.Va("docos-input-at-reply-message",a);this.Ka.setAttribute("id",this.yc);this.Ca=b.Va("docos-input-acl-fixer-message",a);this.Ca.setAttribute("id",this.Sa);this.Ja=b.Va("docos-input-assignment-message",a);this.Ja.setAttribute("id",this.Jb);this.na=b.Va("docos-input-assignment-panel",a);c=this.ia;
var d=this.na;c.W=d;VJc(c,new LJc(d,9));this.Wa=b.Va("docos-input-assignee-text",a);c=b.Va("docos-input-assignee-select",a);this.ia.Za(c);this.ia.Pa(!0);if(c=b.Va("docos-input-assignment-box",a))this.O.Za(c),SO(this.O,this.Wa);c=xSf(this);if(0<c.length){d=!this.F||!this.F.Lm();var e;d?e=this.D.V:this.F&&(e=this.F.ha());this.R=new vRf(this.D,this.H,c,new KRf(this.D.Ya),this.D.W||void 0,e||void 0,this.H||void 0,d);this.la(this.R)}if(e=b.Va("docos-input-cancel",a))this.V.Za(e),GM(e,this.V.getTooltip());
(a=b.Va("docos-input-post",a))&&this.W.Za(a);this.lb&&this.F.Lm()&&(a=this.oa().Va("docos-focusedpresenceindicator-container",this.ha()),this.lb.render(a))};function xSf(a){var b=[],c=new $Qf(x4(a.Ba),a.oa());c=vPf(a.D)?new VRf(a.Ba.get("contactStore"),c):null;if(vPf(a.D)){var d=new jSf(c);a.la(d);b.push(d)}d=wPf(a.D).map(function(e){return e.H()});db(b,d);vPf(a.D)&&(c=new gSf(a.D.Ie,c),a.la(c),b.push(c));return b}
w.Aa=function(){t4.prototype.Aa.call(this);Q2e(this.ha(),!1);this.cb=new MRf(this.H,null,2048);this.la(this.cb);this.Ea=new VO(this.H);this.la(this.Ea);v4(v4(v4(v4(v4(v4(v4(v4(v4(v4(v4(v4(v4(this,this.Ea,"input",this.bYa),this.H,"keydown",this.Ms),this.H,"keyup",this.j9a),this.H,"keypress",this.i9a),this.V,"action",this.h9a),this.W.ha(),["click","keypress","keyup"],this.YBa),this.W,"action",this.Fva),this.na,"click",this.bfb),this.O,"change",this.dfb),this.O.Fk(),"keypress",this.efb),this.na,["keyup",
"keypress"],this.cfb),this.ia,"action",this.afb),this.H,"pointerdown",this.g9a);this.R&&(v4(this,this.R,"update",this.aTa),v4(this,this.R,"suggestionsupdate",this.JCa));this.H[ySf]=z(this.q1,this);this.H[zSf]=z(this.egb,this);this.V.ha()&&(v4(this,this.V.ha(),["click","keypress","keyup"],this.YBa),this.V.Pa(!0));if(this.F&&w4(this.F.ac())&&T4(this.F.ac())){var a=this.J,b=r4(w4(this.F.ac())).getEmail();b&&!LY(a.D,b)&&qSf(a,b);a.D.isEmpty();a=this.J;b=rSf(this.J);Ra(a.D.rc(),b);a.F=b;a.H=!0;this.O.tc(!0)}this.H.value=
this.ma||"";JA(this.H,"label",this.gb);this.qa=!0;xPf(this.D)&&(ie(this.ha(),!0),GM(this.ha(),"T\u00e4m\u00e4 on sy\u00f6teruutu."))};w.g9a=function(a){Zf&&jd(73)&&a.target.setPointerCapture(a.pointerId)};w.isVisible=function(){return"none"!=this.ha().style.display};w.setVisible=function(a){this.ha().style.display=a?"":"none";a||this.q1()};w.getValue=function(){return this.H?this.H.value:""};w.$a=function(a){this.H.value=a};w.isEmpty=function(){return pb(this.getValue())};
function d5(a){return!pb(a.getValue())&&!a.qa}w.Ag=ba("gb");w.reset=function(a){this.ea||this.Yb()||(this.H.value=this.ma||"",JA(this.H,"label",this.gb),this.qa=!0,Yc?Ze(this.tta,0,this):this.tta(),e5(this,a),this.H&&(this.H.style.height=""),a||ASf(this),f5(this,"none"))};
function f5(a,b){if(a.Ka&&a.Ca&&a.Ja){R(a.Ka,"atReplyMessage"==b);R(a.Ca,"aclFixerMessage"==b);R(a.Ja,"assignmentMessage"==b);var c=a.O.ha();if(null!=c){switch(b){case "atReplyMessage":var d=a.yc;break;case "assignmentMessage":d=a.Jb;break;case "aclFixerMessage":d=a.Sa}null!=d?JA(c,"describedby",d):EM(c,"describedby")}}}w.ready=function(a,b,c){this.Yb()||(this.qa&&(this.eb=!b&&a||"",this.H.value=a||"",this.qa=!1),El(this.ha(),"docos-input-typing"),c||this.focus(),e5(this))};
w.q1=function(){this.F&&this.dispatchEvent(new Ne("b",this.F))};w.focus=function(){Yc||Ze(this.Eva,0,this);this.Eva()};w.Eva=function(){this.Yb()||Xm(this.H)&&this.H.focus()};w.tta=function(){this.Yb()||Fl(this.ha(),"docos-input-typing")};
function e5(a,b){var c=rb(a.getValue());c=!a.qa&&c!=a.eb;a.W.Pa(!a.ea&&(!a.xa||c&&!a.isEmpty()));a.JCa();var d=BSf(a),e=a.J.F,f=a.J.D.rc().length;if(a.xa){var g=a.J;var k=a.getValue(),l=d?r4(d):void 0;d=oSf(nSf,k);k=g.D;g.D=new KY(void 0,!0);for(var m=d.length-1;-1<m;m--){var n=d[m];LY(k,n)?g.D.set(n,k.get(n)):qSf(g,n)}l&&(l=aL(l.getEmail()),!pb(l)&&g.D.remove(l));l=g.F?g.F.getEmail():null;m=(k=rSf(g))?k.getEmail():null;(g.H||l==m)&&l&&LY(g.D,l)||(g.F=k);g=!g.D.isEmpty()&&0<d.length}d=a.J.F;e!=d&&
CSf(a,!1);e=0==f&&g;f=a.D;c4(f.D)&&Cj(c4(f.D),31)&&e&&!a.ea&&Cj(f.D,33)&&!f.aa&&!f.ia&&(e=f.Zi,f=rSf(a.J)?rSf(a.J).getEmail():null,e&&f&&e([f]));e=g&&!a.Oa&&a.F&&!C4(a.F.ac())&&a.xa&&(a.F.Tda()||!!IPf(a.F.ac()));Cj(a.D.D,38)&&(e?(a.O.Pa(!a.ea),a.ia.Pa(!a.ea),a.ia.update(a.J.D.rc(),d),e=hOf(d,a.D,!!BSf(a)),f=a.ia.ha(),he(a.Wa,e),GM(f,e+". Valitse vastaanottaja."),Gl(a.Wa,"docos-input-assignee-text-no-chevron",!Xm(f)),R(a.na,!0),DSf(a,!0)):(CSf(a,!1),a.O.Pa(!1),a.ia.reset(),R(a.na,!1),DSf(a,!1)));a.ea&&
vPf(a.D)&&!a.J.D.isEmpty()?f5(a,"aclFixerMessage"):a.Ya&&vPf(a.D)&&!a.J.D.isEmpty()?a.O.jd()?f5(a,"assignmentMessage"):a.Ya?f5(a,"atReplyMessage"):f5(a,"none"):f5(a,"none");(e=sSf(a.J))&&a.F?(f=!!BSf(a),e=hOf(e,a.D,f),f=f?"M\u00e4\u00e4r\u00e4\u00e4 toiselle":"Anna teht\u00e4v\u00e4"):a.Oa?(e="Tallenna muutokset",f="Tallenna"):!a.F||a.F.ac().Aw()?(e="Lis\u00e4\u00e4 kommentti",f="Kommentoi"):a.F.ac().FL()?(e="M\u00e4\u00e4rit\u00e4 ehdotettu toimintokohde",f="Anna teht\u00e4v\u00e4"):(e="Vastaa kommenttiin",
f="Vastaa");a.W.ha()&&u4(a.Ba).F.D(a.W.Ua(),e);he(a.W.ha(),f);ESf(a);c?(FSf.contains(a)||(FSf.add(a),a.dispatchEvent(new tSf(a.F.getId(),1,"pr"))),El(a.ha(),"docos-input-nohide")):(GSf(a),Fl(a.ha(),"docos-input-nohide"));b||a.dispatchEvent("s")}function GSf(a){FSf.contains(a)&&(FSf.remove(a),a.dispatchEvent(new tSf(a.F.getId(),0,"pr")))}
w.JCa=function(){this.ha().removeAttribute("aria-autocomplete");this.ha().removeAttribute("aria-activedescendant");this.R&&this.R.Tf()&&(this.ha().setAttribute("aria-autocomplete","list"),QKc(this.R)&&this.ha().setAttribute("aria-activedescendant",HRf(this.R)))};function DSf(a,b){if(b=b&&a.F)b=a.F,b=b.Lm()&&b.Jb;b?(a.D.Cl||Zb)("docosTodos",z(a.mhb,a)):(a.D.Xc||Zb)("docosTodos")}w.mhb=function(){this.dispatchEvent("ph")};function CSf(a,b){a.O.tc(b);a.J.H=b}
function BSf(a){return a.F&&!a.F.ac().Aw()&&IPf(a.F.ac())?w4(a.F.ac()):null}w.YBa=function(a){(13==a.keyCode&&"keypress"==a.type||32==a.keyCode&&"keyup"==a.type||"click"==a.type)&&a.stopPropagation()};w.h9a=function(){this.dispatchEvent("c");this.reset()};w.Fva=function(){if(this.W.isEnabled()){var a=this.J.D.getKeys(),b=this.D;if(Cj(b.D,33)&&!b.aa&&!b.ia&&!Sa(a)&&(b=this.D.Mk)){f5(this,"aclFixerMessage");this.ea=!0;e5(this);this.V.ha()&&this.V.Pa(!1);b(a,z(this.gSa,this));return}HSf(this)}};
w.bfb=function(){this.ea||(CSf(this,!this.O.jd()),e5(this))};w.dfb=function(){var a=this.O.jd();this.J.H=a;e5(this)};w.efb=function(a){13==a.keyCode&&(a.stopPropagation(),a=this.O,a.tc(a.jy?!1:!0),this.O.dispatchEvent("change"),this.W.focus())};w.cfb=function(a){a.stopPropagation()};w.afb=function(){this.O.tc(!0);var a=this.J,b=cRf(this.ia);Ra(a.D.rc(),b);a.F=b;a.H=!0;e5(this)};
w.gSa=function(a){this.ea&&(this.ea=!1,"continue"==a?HSf(this):f5(this,"atReplyMessage"),this.F.getContext()&&(e5(this),this.V.ha()&&this.V.Pa(!0)))};function HSf(a){Yc&&a.F&&a.F.ac().Aw()&&He(a.cb);a.dispatchEvent("p");a.reset()}w.egb=function(){this.ready(void 0,void 0,!0);this.F&&this.dispatchEvent(new Ne("f",this.F))};function ESf(a){if(!a.H)return!1;var b=a.H.clientHeight,c=a.H.scrollHeight,d=Sm(a.H).height;return b!=c&&0<d?(CL(a.H,d+c-b),!0):!1}
w.Ms=function(a){ESf(this)&&this.dispatchEvent("s");this.tb=a.keyCode;if(13==a.keyCode)ISf?a.metaKey&&fd&&Zf&&JSf(this,a):JSf(this,a);else if(27==a.keyCode){ad&&a.preventDefault();if(this.R&&this.R.Tf())return;this.isEmpty()&&this.reset();this.F&&this.dispatchEvent(new Ne("e",this.F));ASf(this)}a.stopPropagation()};
w.j9a=function(a){ESf(this)&&this.dispatchEvent("s");var b=this.tb;this.tb=a.keyCode;if(13==a.keyCode&&a.ctrlKey){if(229==b)return;if(!this.Wb){ob(this.getValue(),"\n")?this.Ms(a):a.preventDefault();return}this.Wb=!1}a.stopPropagation()};w.i9a=function(a){if(13==a.keyCode&&ISf)JSf(this,a);else if(27==a.keyCode){if(this.R&&this.R.Tf())return;this.q1();ASf(this)}a.stopPropagation()};function JSf(a,b){if(b.ctrlKey||b.metaKey)a.Wb=!0,a.W.ha().focus(),a.Fva()}
function ASf(a){a.aa&&(Yc&&!jd("9")?a.aa.focus():Ze(function(){return a.aa.focus()}))}w.bYa=function(){e5(this)};w.aTa=function(){e5(this)};w.wa=function(){t4.prototype.wa.call(this);GSf(this);this.H&&(this.H[ySf]=null,this.H[zSf]=null);delete this.H;delete this.cb;delete this.Ea};var FSf=new Cw,ySf=Yc?"onfocusout":"onblur",zSf=Yc?"onfocusin":"onfocus",ISf=fd||Xc||ad;function KSf(a,b,c,d,e,f,g){d=void 0===d?0:d;VQf.call(this,a,b);this.xk=c||null;this.Qm=d;this.D=e||null;this.cP=g}x(KSf,VQf);function LSf(a){this.D=u4(a)};function MSf(a,b){b.FL()?a.aa+=1:b.Aw()?a.F+=1:b.isTodo()?C4(b)?a.W+=1:a.O+=1:b.Ji()?(b=VPf(b),2==b?a.D+=1:3==b?a.R+=1:a.J+=1):C4(b)?a.V+=1:a.H+=1};function NSf(a,b,c,d,e){this.ii=a;this.D=b||null;this.xk=c||null;this.Qm=d||null;this.F=e||null};function OSf(a,b,c,d){Ne.call(this,b,a);this.source=c;this.D=d}x(OSf,Ne);function PSf(a,b){this.H=a;this.F=b;this.D=[]}PSf.prototype.build=function(){return new OSf(this.H,"bu",this.F,this.D)};function QSf(){this.F={};this.D={};this.H=0}function RSf(a,b,c){return a.D[b]?a.D[b][c||"$"]||null:null}function SSf(a,b,c,d){a.D[c]||(a.D[c]={});a.F[b]=new TSf(c,d);a.D[c][d||"$"]=b}QSf.prototype.bind=function(a,b){if(null!==RSf(this,a,b))return!1;this.H++;SSf(this,this.H,a,b);return!0};function USf(a,b,c){var d=RSf(a,b,c);null!==d&&(delete a.F[d],delete a.D[b][c||"$"])}function VSf(a,b,c,d,e){var f=RSf(a,b,c);if(null===f||null!==RSf(a,d,e))return!1;USf(a,b,c||void 0);SSf(a,f,d,e);return!0}
function WSf(a,b,c){return RSf(a,b,c)||0}QSf.prototype.getDocoHandles=function(){for(var a=Eb(this.D),b=[],c=0;c<a.length;c++){var d=this.D[a[c]].$;d&&b.push(d)}return b};function TSf(a,b){this.D=a;this.F=b||null};function XSf(){this.F={}}XSf.prototype.D=function(a){T4(a)||(this.J(a),a.gH()&&(this.F[a.getId()]=!0))};XSf.prototype.J=function(a){delete this.F[R4(a)];delete this.F[a.getId()]};XSf.prototype.H=function(){return!Ib(this.F)};function YSf(a){this.O=a;this.F=new XSf}YSf.prototype.D=function(a){this.F.D(a);a=this.O.hh;if(this.H()&&a&&a())throw Error("qJ");};YSf.prototype.J=function(a){this.F.J(a)};YSf.prototype.H=function(){return this.F.H()};function ZSf(a){C.call(this);this.ma=a;this.D={};this.V=null;this.H={};this.J=[];this.qa=[];this.na={};this.R={};this.F=new QSf;this.xa=[];this.aa=!1;this.ea=this.O=null;this.Ba=!1;this.ia=new YSf(this.ma)}A(ZSf,C);function $Sf(a,b){a.Ji();var c="<i>Teki ehdotuksen</i>";(a=a.WQ())&&(b=b.Wt)&&(b=b(a).D())&&(c=b);return c}function aTf(a,b){return"n"!=b&&!T4(a)&&a.gH()}
function bTf(a,b,c,d,e,f,g){var k=!1;g||(k=!0,g=new PSf(a,b));b=d.getId();c=c!=d.getId()?c:void 0;d=S4(d);g.D.push(new NSf(b,c,d,e,f));k&&a.dispatchEvent(g.build())}
function $4(a,b,c,d){c=c||"c";var e=cTf(a),f=dTf(a,b.getId(),L(b4(b.D),11)||"");if(f){var g=f.getId(),k=I4(f.D);b=b.D;var l=Mj(f.H);b4(b);var m=b4(b),n=b.getId(),q=null!=n?n:f.getId();n=void 0!==L(m,13)&&0!=L(m,13)&&!I4(f.D);for(var r=(void 0===L(m,13)||0==L(m,13))&&I4(f.D),u=$3(m),v=!1,y=0;y<u.length;y++){var D=u[y],H=f.F[D.getId()||""]||f.F[L(D,11)||""];v=!1;H||(H=f.O[D.getId()||""]||f.O[L(D,11)||""],v=!!H);if(H){var M=H.getId();H.update(D);if(M!=H.getId()&&(delete f.F[M],f.F[H.getId()]=H,WSf(f.V,
q,M)&&!VSf(f.V,q,M,q,H.getId())))throw Error("hJ`"+q+"`"+M+"`"+q+"`"+H.getId());I4(H)?(delete f.F[H.getId()],f.O[H.getId()]=H,USf(f.V,q,H.getId())):v&&!I4(H)&&(delete f.O[H.getId()],f.F[H.getId()]=H,f.V.bind(q,H.getId()))}else H=new UOf(D),I4(H)?(f.O[H.getId()]=H,USf(f.V,q,H.getId())):(f.F[H.getId()]=H,delete f.O[H.getId()],f.V.bind(q,H.getId())),H=$3(b4(f.H)),H.push(D),D=b4(f.H),Gj(D,8,H)}q=0;void 0!==Cj(b,6)&&Cj(b,6)!=C4(f)&&(q=Cj(b,6)?q|2:q|4);n&&!v?q|=16:r&&(q|=8);Gj(m,8,[]);n&&(m.Fc(void 0),
Fj(m,4,void 0),Fj(m,9,void 0));sOf(f.H,b);f.D.update(m);f.R=null;f.aa=null;f.J=void 0;f.iH=null;Lj(f.H,l)||(q|=1);b=q;a.ia.D(f);eTf(a,f);if(g!=f.getId()&&(delete a.D[g],delete a.H[g],l=WSf(a.F,g),delete a.na[l],a.D[f.getId()]=f,l&&!VSf(a.F,g,null,f.getId(),null)))throw Error("rJ`"+g+"`"+f.getId());l=WSf(a.F,f.getId());I4(f.D)?(delete a.D[f.getId()],USf(a.F,f.getId()),a.H[f.getId()]=f,l&&(a.na[l]=f),aTf(f,c)&&(Va(a.J,f.getId()),Va(a.qa,f.getId())),d=$Pf("dd").Ee(c),k=f.getId(),d.F=k,k=S4(f),d.yk=k,
d.D=l,d=aQf(d,b),g!=f.getId()&&(d.H=g),a.dispatchEvent(d.build())):(k&&(delete a.H[f.getId()],delete a.na[l],a.D[f.getId()]=f,(a.ma.xa||S4(f))&&a.F.bind(f.getId()),l=WSf(a.F,f.getId())),0!=b&&(aTf(f,c)&&Va(a.J,f.getId()),bTf(a,c,g,f,l,b,d)))}else f=new SPf(b.D,a.F,b.Sp?b.Sp:void 0),a.ia.D(f),I4(f.D)?a.H[f.getId()]=f:fTf(a,f,c,d);cTf(a)!=e&&(e=cTf(a)?32:0,c=aQf($Pf("p").Ee(c),e).build(),a.dispatchEvent(c))}
function nQf(a,b,c){for(var d=new PSf(a,c),e=0;e<b.length;e++)$4(a,b[e],c,d);a.dispatchEvent(d.build())}function fQf(a,b){b.getNewDocoType()||XPf(b,"draft");b=new SPf(b.D,a.F,b.Sp?b.Sp:void 0);a.ia.D(b);fTf(a,b)}
function fTf(a,b,c,d){if(Cj(a.ma.D,38)||!b.isTodo()){c=c||"c";var e=null;b.Vu()&&(e=gTf(a,S4(b)));e&&T4(e)?(VSf(a.F,e.getId(),null,b.getId(),null),iQf(a,e.getId(),c)):(a.ma.xa||b.Vu())&&a.F.bind(b.getId());a.D[b.getId()]=b;eTf(a,b);e=8|(C4(b)?2:0);aTf(b,c)&&Va(a.J,b.getId());var f=WSf(a.F,b.getId());bTf(a,c,void 0,b,f,e,d)}}
function iQf(a,b,c){c=c||"c";var d=a.D[b];if(d){if(d.Vu()){var e=S4(d);delete a.R[S4(d)]}a.ia.J(d);d=WSf(a.F,b);delete a.D[b];USf(a.F,b);c=$Pf("dd").Ee(c);c.F=b;c.D=d;b=aQf(c,16);void 0!=e&&(b.yk=e);a.dispatchEvent(b.build())}}function g5(a,b){var c=null;b&&(c=a.ac(b));a.V=c}function rQf(a,b){b=b.getId();return Ra(a.xa,Y4(a,b))}ZSf.prototype.W=function(a){return(this.ma.xa||a.Vu())&&(!C4(a)||this.aa)};function hTf(a){var b=Ob(a.D);Pb(b,a.H);return b}
function iTf(a){var b=new LNf;a=Db(hTf(a));for(var c=0;c<a.length;c++)MSf(b,a[c]);return b.build()}function jTf(a){function b(d){return d.gH()}var c=Ja(Db(a.D),b);a=Ja(Db(a.H),b);return c.concat(a)}function cTf(a){return a.Ba?a.ia.H():!1}function kTf(a){for(var b=0;b<a.J.length;b++){var c=a.J[b],d=a.ac(c);d||(d=a.H[c]);if(d&&d.gH())return!0}return!1}ZSf.prototype.ac=function(a){return this.D[a]};function dTf(a,b,c){return a.D[b]||a.H[b]||a.D[c]||a.H[c]||null}
function eTf(a,b){S4(b)&&(I4(b.D)?delete a.R[S4(b)]:a.R[S4(b)]=b)}function gTf(a,b){var c=a.R[b]||null;return c&&S4(c)!=b?(delete a.R[b],null):c}function a5(a,b,c){b=a.F.F[b]||null;if(!b)return null;if(!c&&b.F)throw Error("sJ");return a.D[b.D]||null}function mQf(a,b){b=a.F.F[b]||null;if(!b)return null;a=a.D[b.D];return a?(b=b.F)?M4(a,b):null:null}ZSf.prototype.getDocoHandles=function(){return this.F.getDocoHandles()};function Y4(a,b,c){return WSf(a.F,b,c)}
ZSf.prototype.flush=function(a){this.dispatchEvent(bQf($Pf("f").Ee("c"),!!a).build());this.dispatchEvent($Pf("af").Ee("c").build())};function lTf(a,b){a=a.ea;if(!a)return null;b=b.jc(a.getKey());if(!b)return null;a=b.Va("docos-selected-find-match");if(!a)return null;a=a.getBoundingClientRect();b=a.top-b.ha().getBoundingClientRect().top;return new In(b,b+a.height)}function mTf(a,b){return(a=nTf(a,b))?new AW(a.getKey().getId(),a.getValue()):null}
function nTf(a,b){var c=a.O;if(!c)return null;var d=a.ea;if(!d)return null;var e=d.getKey();e=Ob(a.D)[e];if(!e)return null;d=d.getValue();a=0;e=TPf(e,!0);for(var f=0;f<e.length;f++){var g=e[f],k=a+oTf(g,c,b);if(k>d)return new AW(g,d-a);a=k}return null}function pTf(a,b,c,d){for(var e=0;e<a.length;e++){var f=a[e],g=b.slice(f.start,f.end);d&&"<"!=b[f.start]&&(g=tL('<span class="%s">%s</span>',d,g));c+=g}return c}
function oTf(a,b,c){a=qTf(a,c);if(!a)return 0;a=Zd(document,a).textContent.toLowerCase();return R2e(a,b.toLowerCase())}function qTf(a,b){var c=a.p1();if(!c){var d=D9e(B9e(),$b).build();a.Ji()?c=D0(d,$Sf(a,b)):a.Ad()?c=D0(d,a.Ad()):c=null}return c};function rTf(a,b){this.D=a;this.F=b};function sTf(a,b,c){this.D=a;this.F=b;this.H=c};function tTf(a,b,c,d){t4.call(this,a,c);this.R=b;this.V=d||null;this.W=a;this.F=new hP(null);this.H=this.O=this.J=null;this.la(this.F)}x(tTf,t4);w=tTf.prototype;w.Gb=function(a){t4.prototype.Gb.call(this,a);this.J=this.oa().Va("like-button-text",a);this.O=this.oa().Va("docos-icon",a);this.H=this.oa().Va("docos-icon-img",a);this.F.Za(this.ha())};w.Aa=function(){v4(this,this.F,"action",this.W8a);v4(this,this.ha(),["click","keypress","keyup"],this.V8a);this.update()};w.Cva=ba("R");w.V8a=function(a){a.stopPropagation()};
function uTf(a){var b=A4(a.W).ac(a.R);return null!=a.V?M4(b,a.V):b}w.W8a=function(a){a.stopPropagation();a=D4(this.W);var b=uTf(this).Uu();b=!b||1!=H4(b);null!=this.V?a.Ob("docos-vote-reply").fireAction(new sTf(this.R,b,this.V)):a.Ob("docos-vote-doco").fireAction(new rTf(this.R,b))};
w.update=function(){var a=uTf(this).Uu(),b=!a||0==G4(a,1).length&&1!=H4(a);Fl(this.J,"no-votes");!b||El(this.J,"no-votes");vL(this.O,["current-user-has-up-vote","post-has-votes-no-current-user-vote"]);vL(this.H,["docos-icon-thumb-black","docos-icon-thumb-green"]);b?El(this.H,"docos-icon-thumb-black"):1==H4(a)?(El(this.O,"current-user-has-up-vote"),El(this.H,"docos-icon-thumb-green")):0<G4(a,1).length&&(El(this.O,"post-has-votes-no-current-user-vote"),El(this.H,"docos-icon-thumb-black"));var c=0;a&&
(c=G4(a,1),b=H4(a),c=c.length,1==b&&c++);he(this.J,String(c));this.F.$a(this.J);b="Tykk\u00e4\u00e4 t\u00e4st\u00e4";if(a&&((c=1==H4(a))&&(b="\u00c4l\u00e4 tykk\u00e4\u00e4 t\u00e4st\u00e4"),a=G4(a,1),0<a.length))for(b=Pc(b,"\n"),c&&(b=Pc(b,"\n","Sin\u00e4")),c=0;c<a.length;c++)b=Pc(b,"\n",s4(wOf(O(a[c].D,R0,1))));this.F.ha()&&u4(this.W).F.D(this.F.Ua(),b)};function vTf(a,b,c){b=c||b;a='<div id="docos-shadow-wrapper" style="display: none"><div id="docos-shadow"><div id="docos-shadow-contents-wrapper" role="dialog" aria-labelledby="docos-shadow-description"><table class="'+V("docos-shadow-table")+'"><tr align="center" valign="top"><td><table><tr align="center" class="'+V("docos-shadow-prompt")+'"><td class="'+V("docos-shadow-contents")+'"><div id="docos-shadow-description"></div></td></tr><tr align="center"><td class="'+V("docos-shadow-contents")+'">';
a+=X(gP({id:"docos-shadow-confirm",content:KF("Poista")},b));a+=X(gP({id:"docos-shadow-cancel",content:KF("Peruuta")},b));return T(a+"</td></tr></table></td></tr></table></div></div></div>")};function wTf(a,b){t4.call(this,a,b);this.F=this.O=this.R=this.aa=this.ma=this.W=this.Vc=null;this.J=new hP(null,b);this.addChild(this.J);this.H=new hP(null,b);this.addChild(this.H);this.Xf=this.V=null;this.ea=!1;this.ia=new IO(this);this.la(this.ia);a=D4(a);this.ia.Lc(a.xe("docos-highlight-doco"),un,this.UP)}A(wTf,t4);var xTf=null;function yTf(a,b){xTf||(xTf=new wTf(a,b),xTf.render());return xTf}var zTf={"delete-discussion":"Poistetaanko t\u00e4m\u00e4 kommenttiketju?","delete-reply":"Poistetaanko t\u00e4m\u00e4 kommentti?"};
w=wTf.prototype;w.ua=function(){this.ub(uO(vTf,{},void 0,this.oa()))};
w.Aa=function(){wTf.Ia.Aa.call(this);if(!this.ea){var a=this.oa();this.F=a.ha("docos-shadow");this.R=a.ha("docos-shadow-description");this.J.Za(a.ha("docos-shadow-cancel"));this.J.Pa(!0);this.H.Za(a.ha("docos-shadow-confirm"));this.H.Pa(!0);this.V=new WQ(a.ha("docos-shadow-contents-wrapper"),a);this.la(this.V);XQ(this.V);this.Xf=new VM(a.Db());this.la(this.Xf);this.ea=!0}v4(v4(v4(v4(this,this.J,"action",this.$Ja),this.H,"action",this.aKa),this.ha(),["keyup","keydown"],this.bKa),this.Xf,"focusin",
this.Ww)};function ATf(a,b,c,d,e,f,g){a.Bb()&&a.Nc();if(d!=a.aa){var k=zTf[d];k&&a.oa().Kf(a.R,k);a.aa=d}a.Vc=c;a.W=b;a.O=f||null;c=Sm(b);DL(a.F,c);c=Nm(b,"paddingLeft");d=Nm(b,"paddingTop");a.F.style.marginLeft="-"+c;a.F.style.marginTop="-"+d;b.firstChild?FK(a,b.firstChild):a.render(b);R(a.ha(),!0);R(a.R,!g);a.H.focus();e&&(a.ma=e.getId(),a.Da().ga(e,"rd",a.cKa))}w.Nc=function(){wTf.Ia.Nc.call(this);this.O=this.W=this.Vc=null};
w.UP=function(){DL(this.F,"","");this.F.style.marginLeft="";this.F.style.marginTop="";this.O&&this.O.focus();ce(this.ha());this.Bb()&&this.Nc()};w.aKa=function(){this.Vc&&this.Vc();this.UP()};w.bKa=function(a){27==a.keyCode&&(a.stopPropagation(),"keyup"==a.type&&this.UP())};w.$Ja=function(){this.UP()};w.cKa=function(a){a.target&&a.target.getId()==this.ma&&this.W&&R(this.ha(),!0)};w.Ww=function(a){a=a.target;fe(this.ha(),a)||this.UP()};function BTf(a,b){return 1==b&&!a.H&&!a.getId()};function CTf(a,b,c,d){t4.call(this,a,c);this.J=b;this.O=d||null;this.R=a;this.F=new hP(null);this.H=null;this.la(this.F)}x(CTf,t4);w=CTf.prototype;w.Gb=function(a){t4.prototype.Gb.call(this,a);this.H=this.oa().Va("vote-button-text",a);this.F.Za(this.ha())};w.Aa=function(){v4(this,this.F,"action",this.d9a);v4(this,this.ha(),["click","keypress","keyup"],this.c9a);this.update()};w.Cva=ba("J");w.c9a=function(a){a.stopPropagation()};function DTf(a){var b=A4(a.R).ac(a.J);return null!=a.O?M4(b,a.O):b}
w.d9a=function(a){a.stopPropagation();a=D4(this.R);var b=DTf(this).Uu();b=!b||1!=H4(b);null!=this.O?a.Ob("docos-vote-reply").fireAction(new sTf(this.J,b,this.O)):a.Ob("docos-vote-doco").fireAction(new rTf(this.J,b))};
w.update=function(){var a=DTf(this).Uu();vL(this.H,["current-user-has-up-vote","post-has-votes-no-current-user-vote"]);a&&(1==H4(a)?El(this.H,"current-user-has-up-vote"):0<G4(a,1).length&&El(this.H,"post-has-votes-no-current-user-vote"));var b="+1";if(a){var c=G4(a,1);b=H4(a);c=c.length;1==b&&c++;b=0<c?"+"+c:"+1"}he(this.H,b);this.F.$a(this.H);b="Anna kommentille +1";if(a&&((c=1==H4(a))&&(b="Poista antamasi +1"),a=G4(a,1),0<a.length))for(b=Pc(b,"\n"),c&&(b=Pc(b,"\n","Sin\u00e4")),c=0;c<a.length;c++)b=
Pc(b,"\n",s4(wOf(O(a[c].D,R0,1))));this.F.ha()&&u4(this.R).F.D(this.F.Ua(),b)};function ETf(a,b,c,d,e,f,g){t4.call(this,a,d);this.H=a;this.cb=u4(this.H).W;this.Od=new LSf(a);this.V=b;this.J=e;this.we=g||"";this.Mc=z(this.X8a,this);this.F=null;this.Sc(f||"root");this.Ba=c;this.gb=!0;this.Ka=2;this.Ac=!1;this.fd=this.H.get("relativeDateFormatter");this.yc=this.Ca=this.na=this.xa=this.qb=this.Ja=this.Oa=this.Wa=this.Wb=this.Sa=this.eb=this.tb=this.ia=this.Bd=this.lb=this.Ea=this.ma=this.vd=this.W=this.R=this.O=this.aa=this.ea=this.qa=this.Jb=this.Le=null;this.Ya=A9e(["data-rawHref"]).build();
v4(this,this.fd,"uh",z(this.pva,this,!0))}x(ETf,t4);w=ETf.prototype;w.ac=function(){return A4(this.H).ac(this.V)};function FTf(a){return M4(a.ac(),a.getId())}function h5(a){return i5(a)?a.ac():FTf(a)}
w.ua=function(){var a=this.oa(),b=h5(this),c=b.Es(),d=GTf(this),e=HTf(this);if(i5(this)&&WOf(this.ac().D)){var f=rb(WOf(this.ac().D));f=f.replace(ITf,"<br>").replace(JTf," ");f=D0(this.Ya,f)}else f=null;var g=f;f="legacy"!=this.D.H;b=uO(PQf,{author:c.getName(),gE:this.D.ea?c.getId():null,D7:e||"",$e:this.we,Lm:this.Ba,S7:KTf(this),canEdit:j5(this),Wca:d,vy:i5(this),Ji:b.Ji(),Djb:g?g:"",cga:LTf(this),SB:MTf(this),tL:!!h5(this).Dw(),oi:this.D.oi(),p0:this.D.p0(),Lca:this.D.Lca(),timestamp:NTf(this),
cJa:"//ssl.gstatic.com/s2/profiles/images/silhouette96.png",Qj:f},void 0,a);this.ub(b);d=a.Va("docos-accept-suggestion",b);g=a.Va("docos-reject-suggestion",b);this.tb=a.Va("docos-body-action-text",b);this.Sa=a.Va("docos-anchoredreplyview-buttonholder",b);this.xa=a.Va("docos-author",b);if(d&&g){this.ea=new hP(null,a);var k=this.D.oi();this.ea.Qs=k;this.la(this.ea);this.aa=new hP(null,a);this.la(this.aa);this.ea.Za(d);this.aa.Za(g)}if(k=a.Va("docos-replyview-resolve-button",b)){this.O=new hP(null,a);
var l=this.D.oi();this.O.Qs=l;this.la(this.O);this.O.Za(k)}(k||d&&g)&&OTf(this);d=this.oa();g=d.Va("docos-vote-button",b);k=d.Va("docos-like-button",b);if(g||k)g?(this.W=new CTf(this.H,this.V,d,i5(this)?void 0:this.getId()),this.addChild(this.W),this.W.Za(g)):k&&(this.W=new tTf(this.H,this.V,d,i5(this)?void 0:this.getId()),this.addChild(this.W),this.W.Za(k));d=a.Va("docos-overflowmenu-outer",b);(j5(this)||KTf(this)||i5(this))&&d&&(f=uO(OQf,{Of:"docos-icon-overflow-three-dots",yw:"docos-icon-overflow-three-dots-size",
hH:f}),a.appendChild(d,f),Lm(d,"visibility",""),f=[],j5(this)&&(f=f.concat(["edit"])),KTf(this)&&(f=f.concat(["delete"])),i5(this)&&(this.D.Tb&&(f=f.concat(["link"])),f=f.concat(["reanchor"])),this.R=new APf(this.H,this.V,a,"docos-overflowmenu",f,this.getId()),this.addChild(this.R),this.R.Za(d));this.Le=a.Va("docos-replyview-body",b);this.vd=a.Va("docos-streamreplyview-text",b)||this.Le;this.ma=a.Va("docos-collapsible-replyview",b);this.Ea=a.Va("docos-replyview-timestamp",b);i5(this)&&WOf(this.ac().D)&&
(this.ia=a.Va("docos-replyview-quote",b),this.Wa=a.Va("docos-replyview-quote-expand",b),this.Ja=a.Va("docos-replyview-quote-collapse",b));(this.lb=a.Va("docos-show-less",b))&&PTf(this);this.Bd=a.Va("docos-show-more",b);this.qb=a.Ek("docos-replyview-static",b);j5(this)&&this.F&&QTf(this);(j5(this)||KTf(this))&&(this.Oa=a.Va("docos-replyview-control",b))&&R(this.Oa,!C4(this.ac()));this.na=Y_(a,"IMG","docos-replyview-avatar",b);if(f=a.Va("docos-user-presence",b))d=this.D,c=(g=d.hc)&&c.getId()?g(c.getId()):
(d=d.Dm)?d(c.getName()||""):null,c&&(f.style.backgroundColor=c);this.Ca=a.Va("docos-replyview-origin",b);RTf(this);e&&(this.qa=e,STf(this,tc(e)),TTf(this),UTf(this));VTf(this)};
function VTf(a){if(xPf(a.D)){var b={AUTHOR_NAME:h5(a).Es().getName(),CREATION_TIME:NTf(a)};if(a.Le.textContent)if(MTf(a)){var c="Tekij\u00e4 {AUTHOR_NAME}. Luotu {CREATION_TIME}. {BODY_TEXT}. {ACTION_TEXT}.";b.BODY_TEXT=a.Le.textContent;b.ACTION_TEXT=MTf(a)}else c="Tekij\u00e4 {AUTHOR_NAME}. Luotu {CREATION_TIME}. {BODY_TEXT}.",b.BODY_TEXT=a.Le.textContent;else c="Tekij\u00e4 {AUTHOR_NAME}. Luotu {CREATION_TIME}. {ACTION_TEXT}.",b.ACTION_TEXT=MTf(a);c=(new ER(c)).format(b);GM(a.ha(),c)}}
function WTf(a){var b=a.ac();if(b)if(C4(b)){if(a.J.Eha(!1),b=a.ac())b.Ji(),XTf(a,!1,rOf(a.J))}else a.dispatchEvent("br"),a.J.Eha(!1),(b=a.ac())&&(b.Ji()?YTf(a):XTf(a,!0,rOf(a.J))),a.dispatchEvent("ar")}function ZTf(a){a.F||(a.F=new wSf(a.H,a.oa(),a.J),a.la(a.F),a.addChild(a.F),a.F.ma="Muokkaa kommenttiasi...",a.F.Ya=!1,v4(v4(v4(a,a.F,"p",a.Mmb),a.F,"c",a.bma),a.F,"s",a.Y8a),a.ha()&&QTf(a))}
function QTf(a){var b=a.oa(),c="docos-replyview-edit-pane",d="",e="",f="";a.Ba?(c+=" docos-anchoredreplyview-edit-pane",d="docos-noclick"):i5(a)?(c+=" docos-streamdocoview-edit-pane",e="Hylk\u00e4\u00e4 muutokset",f=MTf(a)):(c+=" docos-streamreplyview-edit-pane",e="Hylk\u00e4\u00e4 muutokset");d=uO(TQf,{$e:c,moa:d,Z7:e,SB:f,oi:a.D.oi(),yB:a.D.qa});c=a.ha();e=b.Va("docos-edit-pane-placeholder",c);b.aN(d,e);a.F.Za(d);a.F.setVisible(!1);d=a.J.ha();a.F.aa=d;a.eb=b.Va("docos-edit-pane-action-text",c)}
w.yhb=function(a){a&&a.stopPropagation();WTf(this)};
w.Aa=function(){t4.prototype.Aa.call(this);v4(this,this.ha(),["click","keypress","keyup"],this.Z8a);this.ia&&(v4(v4(this,this.Ja,"click",this.sCa),this.Wa,"click",this.sCa),$Tf(this));this.O&&v4(this,this.O,"action",this.yhb);this.ea&&this.aa&&v4(v4(v4(this,this.ea,"action",this.Reb),this.aa,"action",this.xhb),this.D,"r",this.$8a);this.R&&v4(v4(v4(this,this.R,"d",this.Dfb),this.R,"e",this.a9a),this.R,"ra",this.rhb);var a=h5(this).Es();aUf(this,a);this.xa&&bUf(this,a);cUf(this,a);this.F&&(a=this.J.ha(),
this.F.aa=a);this.collapse();xPf(this.D)&&ie(this.ha(),!0)};w.$8a=function(){OTf(this)};
function OTf(a){var b=a.ac();if(b){var c=h5(a);if(c){var d=c.Ji();if(!d||a.ea&&a.aa)if(d||a.O){if(d){if(!c.IA())return;d=a.D.J;d=c.Ji()&&"full"==d.D&&rQf(A4(a.H),b)&&!a.D.ia;var e=a.D.J;b=c.Ji()&&(gPf(e,c)||"full"==e.D)&&rQf(A4(a.H),b)&&!a.D.ia;c=d||b;e=d?"Hyv\u00e4ksy ehdotus":"Vain muokkaajat voivat hyv\u00e4ksy\u00e4 ehdotuksia";var f=b?"Hylk\u00e4\u00e4 ehdotus":"Vain muokkaajat voivat hyl\u00e4t\u00e4 ehdotuksia";a.ea.ha()&&u4(a.H).F.D(a.ea.ha(),e);a.aa.ha()&&u4(a.H).F.D(a.aa.ha(),f);a.ea.Pa(d);
a.aa.Pa(b)}else IPf(b)?(c=!0,a.O.Pa(!1),R(a.O.ha(),!1)):(c=GTf(a),a.O.Pa(c),d=C4(b)?"Avaa uudelleen":"Ratkaise",b=C4(b)?"Merkitse avoimeksi":A4(a.H).aa?"Merkitse ratkaistuksi":"Merkitse ratkaistuksi ja piilota keskustelu",a.D.p0()||he(a.O.ha(),d),a.O&&a.O.ha()&&u4(a.H).F.D(a.O.Ua(),b));!a.Sa||null!==a.Wb&&a.Wb==c||(R(a.Sa,c),a.Wb=c)}}}}
function dUf(a){var b=f4(e4(a.J.getId()),a.J.Wa).build(),c=D4(a.H);c.Ob("docos-before-highlight-doco").fireAction(b);g5(A4(a.H),a.J.getId());c.Ob("docos-highlight-doco").fireAction(b)}w.a9a=function(){dUf(this);eUf(this)};w.Dfb=function(){dUf(this);i5(this)?this.J.GBa():fUf(this)};w.rhb=function(a){dUf(this);this.dispatchEvent(new VQf("ra",this.V));a.stopPropagation()};
function aUf(a,b){var c=b.D,d=x4(a.H);a.na&&BTf(b,h5(a).gm())&&(c=DQf(d),El(a.na,"docos-avatar-unverified"),a.D.F.D(a.na,"Kirjoittaja tuodusta dokumentista"));oOf(d,a.na,c,s4(b))}function bUf(a,b){(b=b.getName())?(b=D0(a.Ya,b),Bc(a.xa,b)):(b=D0(a.Ya,""),Bc(a.xa,b))}function cUf(a,b){(b=b.getName())&&!a.D.ea&&(a.xa&&a.D.F.D(a.xa,b),a.na&&a.D.F.D(a.na,b))}
function gUf(a,b){a.O&&a.oa().Vi(a.O.ha(),b);a.ea&&a.aa&&(a.oa().Vi(a.ea.ha(),b),a.oa().Vi(a.aa.ha(),b));if(a.R){var c=a.R;c.oa().Vi(c.H.ha(),b)}a.W&&a.oa().Vi(a.W.ha(),b)}function hUf(a){return a.R?(a.R.focus(),!0):a.W?(a.W.ha().focus(),!0):a.aa?(a.aa.focus(),!0):a.O?(a.O.focus(),!0):!1}
w.update=function(){this.J.Jk()&&this.gb&&$Tf(this);var a=this.F&&j5(this)&&d5(this.F),b=HTf(this),c=tc(b),d=!this.qa||tc(this.qa)!=c;d&&(this.qa=b,Bc(this.Le,b),UTf(this));TTf(this);STf(this,c);i5(this)||this.dispatchEvent(new b5(this.getId()));j5(this)&&this.Oa&&!a&&R(this.Oa,!C4(this.ac()));b=h5(this).Es();aUf(this,b);this.xa&&bUf(this,b);cUf(this,b);RTf(this);if(this.Ba&&!a){switch(this.Ka){case 1:this.expand();break;case 0:this.collapse();break;case 2:this.J.Jk()?this.expand():this.collapse()}PTf(this)}this.pva();
d&&(this.F&&this.F.Bb()&&this.F.reset(!0),this.bma());OTf(this);this.W&&this.W.update();this.R&&this.R.update();VTf(this)};w.Gv=function(){if(this.Jb){var a=iUf(this,this.Jb);a.Zm()!=this.qa.Zm()&&(this.qa=a,Bc(this.Le,this.qa),UTf(this))}};function HTf(a){var b=h5(a),c=b.p1();if(!c){c=b.Ad();var d=b.Pi();if(0<c.length&&"text/html"!=d)throw Error("tJ`"+d);b.Ji()&&(c=$Sf(b,a.D));c=D0(a.Ya,c)}a.Jb=c;return iUf(a,c)}
function iUf(a,b){var c=A4(a.H),d=c.O;if(!d)return b;a=(c=mTf(c,a.D))&&c.getKey()==h5(a).getId()?c.getValue():void 0;c=D9e(B9e(),$b).build();var e=Yd("DIV");e.appendChild(Zd(document,D0(c,Mc(d))));d=e.innerHTML;e.replaceChild(Zd(document,b),e.lastChild);b=e.innerHTML;for(var f=e=0,g="",k=!1,l=0,m=0,n=[],q=0;q<b.length;q++){var r=b[q],u=0<l;">"==r?(k=!1,u?n.push(new In(f,q+1)):g+=b.slice(f,q+1),f=q+1):"<"==r?(k=!0,u&&n.push(new In(f,q)),f=q):k||((r=eba(r,d[l]))&&0==l&&(m=q),r&&u&&l<d.length-1?l++:
(r?l==d.length-1?(u=e==a?"docos-selected-find-match":"docos-find-match",n.push(new In(f,q+1)),g=pTf(n,b,g,u),f=q+1,l=0,e++):(f=q,l=1):(n=(u?m:q)+1,g+=b.slice(u?m:f,n),f=n,l=0,u&&(q=m)),n=[]))}g=pTf(n,b,g);g+=b.slice(f,b.length);return D0(c,g)}w.pva=function(a){if(this.Ea){var b=NTf(this);b&&(a&&(this.Ea.textContent=b),a=h5(this),i5(this)||this.Ba||a.Ct().Fa(a.kG())||(this.Ea.textContent=b))}};
function NTf(a){var b=a.fd,c=h5(a),d=c.Ct();return d?a.Ba||i5(a)||!(a=c.kG())||d.Fa(a)?b.format(d):b.format(d)+(" (muokattu "+(b.format(a)+")")):null}w.setVisible=function(a){R(this.ha(),a)};w.isVisible=function(){return Xm(this.ha())};w.Y8a=function(a){this.dispatchEvent(new b5(this.V));a.stopPropagation()};function fUf(a){var b=a.ha();b&&(a.D.lb?(b=a.D.Ea,b(function(){return a.Mc()},function(){null!=a.J.ha()&&a.J.ha().focus()},!1)):ATf(yTf(a.H,a.oa()),b,a.Mc,"delete-reply",a,a.J.ha(),!a.Ba))}
w.Z8a=function(a){if(13==a.keyCode&&"keypress"==a.type||32==a.keyCode&&"keyup"==a.type||"click"==a.type){var b=this.ha(),c=a.target;!i5(this)&&Dl(c,"docos-replyview-delete")&&b?(fUf(this),a.stopPropagation(),a.preventDefault()):Dl(c,"docos-replyview-edit")&&b?(eUf(this),a.stopPropagation(),a.preventDefault()):Dl(c,"docos-show-more")&&b?(this.expand(),this.dispatchEvent(new b5(this.V)),this.lb.focus()):Dl(c,"docos-show-less")&&b?(this.collapse(),this.dispatchEvent(new b5(this.V)),this.Bd.focus(),a.stopPropagation(),
a.preventDefault()):b&&this.R&&fe(this.R.ha(),a.target)&&(a.stopPropagation(),a.preventDefault())}32==a.keyCode&&"keypress"==a.type&&(a.stopPropagation(),a.preventDefault())};function jUf(a,b){var c=a.ac();if(!c||rQf(A4(a.H),c)){var d=h5(a);d&&d.IA()&&(c=a.D.O[b])&&(a=Y4(A4(a.H),a.V))&&(d=d.Vu&&d.Vu()&&!C4(d)?S4(d):void 0,b=(new p4(b)).setAnchorIds([d]).addDocoHandle(a).setUserInitiated(!0).build(),c(b))}}function YTf(a){var b=a.ac();b&&b.Ji()&&jUf(a,"before-suggestion-accepted")}
w.Reb=function(){var a=Date.now();YTf(this);this.cb&&this.cb.tm("dsabb",Date.now()-a)};function XTf(a,b,c){var d=a.ac(),e=a.J;e.F&&d5(e.F)&&e.F.$a("");d&&!d.Ji()&&C4(d)!=b&&D4(a.H).Ob("docos-resolve-doco").fireAction(new lOf(a.V,b,c||null))}w.xhb=function(){var a=Date.now();jUf(this,"before-suggestion-rejected");this.cb&&this.cb.tm("dsrbb",Date.now()-a)};w.expand=function(){h5(this).Ji()||(Fl(this.ma,"docos-collapsed-replyview"),this.Ka=150>=this.ma.offsetHeight?2:1,PTf(this))};
w.collapse=function(){!h5(this).Ji()&&this.Ba&&(Fl(this.ma,"docos-collapsed-replyview"),150>=this.ma.offsetHeight?this.Ka=2:(this.Ka=0,El(this.ma,"docos-collapsed-replyview")),PTf(this))};function PTf(a){if(!h5(a).Ji()){var b=1==a.Ka;b!=a.Ac&&(a.lb.style.display=b?"block":"none",a.Ac=b)}}function i5(a){return"root"==a.getId()}function KTf(a){var b=h5(a);return b?iPf(a.D.J,b)&&!a.D.ia:!1}function j5(a){var b=h5(a);return b?hPf(a.D.J,b):!1}function GTf(a){var b=a.ac();return b?jPf(a.D.J,b):!1}
w.X8a=function(){if(this.Yb())return!1;D4(this.H).Ob("docos-delete-reply").fireAction({ii:this.V,fha:this.getId()});return!0};function eUf(a){j5(a)&&(ZTf(a),kUf(a,!1),a.ma&&a.expand(),a.F.setVisible(!0),a.F.Oa=!0,a.F.ready(h5(a).Vv()))}w.bma=function(){j5(this)&&(kUf(this,!0),this.ma&&this.expand(),this.F&&(this.F.setVisible(!1),this.F.Oa=!1))};
w.Mmb=function(){if(j5(this)){ZTf(this);var a=D4(this.H),b=this.F.getValue();pb(b)||(i5(this)?a.Ob("docos-edit-doco").fireAction({id:this.V,text:b,t9:this.F}):(b={ii:this.V,fha:this.getId(),text:b,t9:this.F},a.Ob("docos-edit-reply").fireAction(b)))}};function kUf(a,b){for(var c=0;c<a.qb.length;++c)R(a.qb[c],b)}
w.sCa=function(){var a=Dl(this.ia,"docos-replyview-quote-collapsed");R(this.Wa,!a);R(this.Ja,a);this.gb=!a;a?Il(this.ia,"docos-replyview-quote-collapsed","docos-replyview-quote-expanded"):Il(this.ia,"docos-replyview-quote-expanded","docos-replyview-quote-collapsed")};
function $Tf(a){!a.ia||0>=Sm(a.ia).height||(Il(a.ia,"docos-replyview-quote-collapsed","docos-replyview-quote-expanded"),30<Sm(a.ia).height?(R(a.Wa,!0),R(a.Ja,!1),Il(a.ia,"docos-replyview-quote-expanded","docos-replyview-quote-collapsed")):(R(a.Wa,!1),R(a.Ja,!1)),a.gb=!0)}w.Nc=function(){t4.prototype.Nc.call(this);B4(x4(this.H),this.na)};function RTf(a){var b=LTf(a);b?(b=D0(a.Ya,b),Bc(a.Ca,b),R(a.Ca,!0)):R(a.Ca,!1)}
function LTf(a){var b=h5(a),c=b.gm();1==c?b="Luotu tuodusta asiakirjasta":(a=a.D,b=c4(a.D)&&Cj(c4(a.D),33)&&b.Fca()?"Vertailusta":2==c?"Yll\u00e4 olevat kommentit kopioitiin alkuper\u00e4isest\u00e4 dokumentista.":null);return b}
function MTf(a){var b=a.Od;var c=h5(a),d=a.ac();c&&d?(a=c.o1(),0==a&&w4(d)?b="Merkitty valmiiksi.":0==a?b="Merkitty ratkaistuksi":1==a?b="Avattu uudelleen":2==a?b="Ehdotus hyv\u00e4ksytty":3==a?b="Ehdotus hyl\u00e4tty":4==a?(a=c.Dw(),c=(d=IPf(d))&&d.getId()!=c.getId(),a=r4(a),b=gOf(a,b.D,!0),b=c?(new ER("M\u00e4\u00e4ritetty uudelleen k\u00e4ytt\u00e4j\u00e4lle {user}")).format({user:b}):(new ER("M\u00e4\u00e4ritetty k\u00e4ytt\u00e4j\u00e4lle {user}")).format({user:b})):b=""):b="";return b}
function STf(a,b){b=-1==Pcc(b,!0);if(null===a.yc||b!=a.yc)Q2e(a.vd,b),a.yc=b}function TTf(a){var b=MTf(a);a.tb&&he(a.tb,b);a.eb&&he(a.eb,b)}function UTf(a){if(a.D.Sa)for(var b=Od("A",a.Le),c=0;c<b.length;c++){var d=b[c];d.getAttribute("data-rawHref")&&a.Da().qe(d,TB,a.nfb)}}w.nfb=function(a){pbc(this.D.Sa,a.target.getAttribute("data-rawHref"));a.preventDefault();a.stopPropagation()};var JTf=/[\x00-\b\f-\u001f\ue000-\uf8ff]/g,ITf=/[\n-\x0B]/g;function lUf(a,b){t4.call(this,a,b);this.F=!1}A(lUf,t4);lUf.prototype.ua=function(){var a=this.oa();this.ub(uO(RQf,{},void 0,a));this.H=a.Va("docos-showrepliesbutton-collapsed",this.ha())};lUf.prototype.setVisible=function(a){a!=this.F&&this.Bb()&&(R(this.ha(),a),this.F=a)};lUf.prototype.isVisible=p("F");lUf.prototype.wa=function(){lUf.Ia.wa.call(this);delete this.H};function k5(a,b,c,d,e){c5.call(this,a,b,c,d,e);this.ea=!1;this.F=null;this.H=new ETf(a,b,this.Lm(),d,this,void 0,"docos-replyview-first");this.addChild(this.H);this.J={};this.yc=z(this.P8a,this);this.Ac=dQf(a);this.qa="docos-docoview-input-pane";this.Sa="";this.lb=this.eb=null;this.Ea=!1;this.O=null;xPf(this.D)&&(a=new qQ(this),this.la(a),a.zh("up",38),a.zh("down",40),this.Da().ga(a,"shortcut",this.yVa))}x(k5,c5);
function l5(a){a.F||(a.F=new wSf(a.getContext(),a.oa(),a),a.la(a.F),a.F.ma="Vastaa\u2026",a.F.Ag("Vastaa"),a.Sha(),a.ha()&&mUf(a))}w=k5.prototype;w.yVa=function(a){switch(a.identifier){case "down":a=nUf(this);var b=oUf(this,a);b==a.length-1?a[0].focus():a[b+1].focus();break;case "up":a=nUf(this),b=oUf(this,a),0>=b?a[a.length-1].focus():a[b-1].focus()}};
function nUf(a){var b=TPf(a.ac(),!1),c=[];a.H.ha();c.push(a.H.ha());b=ia(b);for(var d=b.next();!d.done;d=b.next())(d=a.J[d.value.getId()].ha())&&c.push(d);a.F&&a.F.ha()&&c.push(a.F.ha());return c}function oUf(a,b){for(var c=0;c<b.length;c++){var d=b[c],e=a.oa(),f=pG(e);if(d==f||e.contains(d,f))return c}return-1}function mUf(a){var b=a.oa(),c=uO(TQf,{$e:a.qa,moa:"",Z7:a.Sa,SB:"",oi:a.D.oi(),yB:a.D.qa}),d=a.ha(),e=b.Va("docos-input-pane-placeholder",d);b.aN(c,e);a.F.Za(c);a.F.aa=d}
w.Sha=function(){this.F&&v4(v4(v4(v4(v4(this,this.F,"p",this.U8a),this.F,"c",this.S8a),this.F,"b",this.R8a),this.F,"e",this.T8a),this.F,"s",this.YL)};w.ua=function(){c5.prototype.ua.call(this);var a=this.ha(),b=this.oa();this.F&&mUf(this);DM(a,"listitem");this.lb=b.Va("docos-docoview-replycontainer",a);this.eb=b.Va("docos-docoview-rootreply",a);this.H.render(this.eb);pUf(this)};
w.Aa=function(){c5.prototype.Aa.call(this);v4(this,this.ha(),["keydown","keypress","keyup"],this.Q8a);if(this.F){var a=this.ha();this.F.aa=a}ie(this.ha(),!0)};w.hb=p("lb");w.Sc=function(a){c5.prototype.Sc.call(this,a);if(this.H){var b=this.H;b.V=a;b.R&&CPf(b.R,a);b.W&&b.W.Cva(a)}};w.Lm=t(!1);
w.Ava=function(a){if(!Dl(a.target,"docos-noclick")){var b=D4(this.getContext()),c=f4(e4(this.getId()),this.Wa);b.Ob("docos-before-highlight-doco").fireAction(c.build());g5(A4(this.W),this.getId());b.Ob("docos-highlight-doco").fireAction(WNf(c).build());this.ea=!0;this.gya(a)}};w.gya=h();
w.Q8a=function(a){this.dispatchEvent(a)&&!a.ctrlKey&&Ooc(a)&&9!=a.keyCode&&13!=a.keyCode&&32!=a.keyCode&&69!=a.keyCode&&74!=a.keyCode&&75!=a.keyCode&&kPf(this.D.J)&&this.ea&&(l5(this),this.F.ready(),this.ea=!1);9==a.keyCode&&(this.ea=!1)};
w.GBa=function(){var a=this;this.ea=!1;var b=this.ha();if(this.ac().Ji())this.yc("suggestion");else if(b){var c=function(){return a.yc("discussion")};this.D.lb?(0,this.D.Ea)(c,function(d){d||null==a.ha()||a.ha().focus()},!0):ATf(yTf(this.getContext(),this.oa()),b,c,"delete-discussion",this,this.ha())}};
function pUf(a){for(var b=TPf(a.ac()),c=a.H,d=0;d<b.length;++d){var e=b[d].getId();if(a.J[e])c=a.J[e];else{var f=new ETf(a.getContext(),a.getId(),a.Lm(),a.oa(),a,e);a.Fg(f,SB(a,c)+1,!0);c=a.J[e]=f}}}w.U8a=function(){if(this.F){var a=this.F.getValue(),b=sSf(this.F.J);b=b?COf(b):void 0;if(!pb(a)){var c=Y4(A4(this.getContext()),this.getId());this.dispatchEvent(new KSf("sr",this.getId(),S4(this.ac()),c,a,void 0,b))}}};w.S8a=function(){X4(this.Ac,RPf(QPf(Q4(43012),this.ac().getId()),S4(this.ac())).build())};
w.R8a=function(){this.Jk()&&(this.ea=!0)};w.T8a=function(){this.Jk()&&(this.ea=!0)};w.focus=function(){l5(this);var a=this.Jk();a&&Xm(this.ha())&&kPf(this.D.J)&&(this.ea=!0);if(a){var b=this.oa();a=pG(b);(Yc&&!a||!b.contains(this.ha(),a))&&Ze(function(){this.Bb()&&!b.contains(this.ha(),pG(b))&&this.ha().focus()},0,this)}};
function qUf(a){var b=a.ac();if(b){var c=null,d;b:{for(d=SB(a,a.H);d<a.wc();d++){var e=a.Hb(d);if((e=e==a.O?null:e)&&2==(FTf(e)||b).gm())break b}d=-1}if(0>d)a=c;else{for(;d<a.wc();d++)if(e=a.Hb(d),e=e==a.O?null:e){if(2!=(FTf(e)||b).gm())break;R(e.Ca,!1);e.isVisible()&&(c=e)}a=c}a&&R(a.Ca,!0)}}
w.update=function(){var a=this.ac();this.H.update();this.Ag(a.Es(),w4(a)||void 0);pUf(this);for(var b in this.J){var c=this.J[b];M4(a,b)?c.update():(this.removeChild(c,!0),c.dispose(),delete this.J[b])}C4(a)!=this.Ea&&(this.Ea=C4(a),l5(this),this.Ea?(this.F.ma="Kommentin lis\u00e4\u00e4minen avaa keskustelun uudelleen\u2026",this.F.Ag("Kommentin lis\u00e4\u00e4minen avaa keskustelun uudelleen")):(this.F.ma="Vastaa\u2026",this.F.Ag("Vastaa")),!C4(a)&&d5(this.F)||this.F.reset(!0));XQf(this);!this.Jk()&&
this.F&&this.F.q1();qUf(this);a=this.Ca;b=this.ha();a.D&&b&&a.H&&(Tm(b).contains(new Ed(a.J,a.O))||MQf(a,!1))};w.P8a=function(a){if(this.Yb())return!1;this.dispatchEvent("bd");D4(this.getContext()).Ob("docos-delete-doco").fireAction({xk:S4(this.ac()),ii:this.getId(),Qm:Y4(A4(this.getContext()),this.getId()),UH:a});return!0};function rUf(a){D4(a.getContext()).Ob("docos-resolve-doco").fireAction(new lOf(a.getId(),!1,null))}function rOf(a){return a.F&&d5(a.F)?a.F.getValue():null}
function sUf(a){var b=a.getContext(),c=a.ac();c&&Z4(dQf(b),P4(O4(43045),c).build());a=a.getId();D4(b).Ob("docos-speak-doco").fireAction(a)}w.Eha=h();w.wa=function(){c5.prototype.wa.call(this);this.O&&delete this.O;delete this.lb;delete this.J;delete this.F};function tUf(a,b,c,d,e){k5.call(this,a,b,c,d,e);this.aa=!0;this.R=null;this.na=new mOf(a,d,b,this);this.xa=this.cb=this.Ja=null;this.Ka=new qQ(this);this.la(this.Ka);b=this.Ka;b.zh("backToDocument",85);b.zh("resolve",69);b.zh("blur",27);b.zh("next",74);b.zh("next",GH(["N","C"]));b.zh("prev",75);b.zh("prev",GH(["P","C"]));b.zh("speakComment",GH(["A","C"]));b.zh("reply",82);this.Da().ga(this.Ka,"shortcut",this.L8a);this.Da().ga(this,"rd",this.M8a);this.Oa=!1;this.qa+=" docos-anchoreddocoview-input-pane hide-on-readonly";
this.tb=null;Q(P(),"docs-edp")&&(this.tb=new vSf(a,d,"unfocused-presenceindicator"));this.qb="legacy"!=this.D.H;this.ma=null}x(tUf,k5);w=tUf.prototype;w.setVisible=function(a){!this.isVisible()&&a&&A4(this.W).O&&this.Gv();k5.prototype.setVisible.call(this,a)};w.Gv=function(){this.H.Gv();for(var a in this.J)this.J[a].Gv()};w.Sc=function(a){k5.prototype.Sc.call(this,a);this.na&&this.na.Sc(a)};w.Lm=t(!0);w.sH=function(){return this.ac()?S4(this.ac()):null};
w.ua=function(){k5.prototype.ua.call(this);var a=this.oa(),b=this.ha();this.Ja=a.Va("docos-replyview-control",b);this.cb=a.Va("docos-anchoreddocoview-internal",b);this.xa=a.Va("docos-anchoreddocoview-content",b);this.O&&(this.O.render(b),this.O.setVisible(!1));var c=this.ac(),d=!!c&&jPf(u4(this.getContext()).J,c);Gl(this.ha(),"docos-docoview-resolve-button-visible",d);if(c=w4(c))a=a.Va("docos-anchoreddocoview-assigneecontainer",b),this.na.render(a),uUf(this,c);this.F&&(a=this.ha(),this.F.aa=a);this.tb&&
(a=this.oa().Va("docos-unfocusedpresenceindicator-container",this.ha()),this.tb.render(a))};w.Aa=function(){k5.prototype.Aa.call(this);var a=this.ac();a&&w4(a)&&this.Fg(this.na,SB(this,this.H));XQf(this);2<=Bb(this.ac().F)&&(a=vUf(this))&&wUf(this,a);this.KN(!0);qUf(this);xUf(this);v4(v4(this,this,"show",this.sya),this,"hide",this.rya)};
w.Nc=function(){var a=this.ac();if(a)if(this.F&&d5(this.F)){var b=this.F.getValue();a.W=b}else a.W=null;this.Da().Sb(this,"show",this.sya);this.Da().Sb(this,"hide",this.rya);k5.prototype.Nc.call(this)};function yUf(a,b){gUf(a.H,b);for(var c in a.J)gUf(a.J[c],b)}w.N8a=function(){var a=new RNf(this.getId(),this.Wa),b=D4(this.getContext());b.Ob("docos-before-highlight-doco").fireAction(a);g5(A4(this.W),this.getId());b.Ob("docos-highlight-doco").fireAction(a)};
w.M8a=function(){this.V=null;if(ZQf(this)){var a=this.xa.scrollHeight>this.xa.offsetHeight,b=this.ha();a&&!this.ma&&b?(this.ma=new NP(b),v4(this,this.ma,"mousewheel",this.q4a)):!a&&this.ma&&(this.ma.dispose(),this.ma=null);a?(a=Yd("DIV"),a.style.cssText="overflow:auto;position:absolute;top:0;width:100px;height:100px",b=Yd("DIV"),DL(b,"200px","200px"),a.appendChild(b),document.body.appendChild(a),b=a.offsetWidth-a.clientWidth,ce(a),a=b):a=0;b=this.qb?282:240;BL(this.ha(),b+a);BL(this.xa,b+a)}};
w.sya=function(a){a.target instanceof pQ&&(El(this.ha(),"docos-docomenu-visible"),a.stopPropagation())};w.rya=function(a){a.target instanceof pQ&&(Fl(this.ha(),"docos-docomenu-visible"),a.stopPropagation())};w.Eha=function(a){this.Ja&&R(this.Ja,a)};w.ZW=t(!0);
w.update=function(){k5.prototype.update.call(this);var a=this.Jk();this.Jk()?this.R||this.D.tb||(this.R=new WQ(this.ha(),this.oa()),this.la(this.R),XQ(this.R)):this.R&&(this.R.dispose(),this.R=null);a!=this.Oa&&zUf(this);this.Oa=a;xUf(this);if(a=w4(this.ac()))this.na.update(),uUf(this,a);this.aa&&this.Nga()};function xUf(a){var b=a.ac();null!=b.W&&(l5(a),a.F.ready(b.W,!0),b.W=null)}
w.expand=function(a){var b=!1;if(this.aa){this.H.expand();for(var c in this.J)b=this.J[c],b.setVisible(!0),b.expand();this.aa=!1;b=!0}else if(a){c=this.getId()==a?this.H:this.J[a];if(!c)return;c.expand()}else return;this.V=null;b&&this.O&&this.O.setVisible(!1);this.KN(!0);qUf(this)};
w.collapse=function(){if(!this.aa){this.H.collapse();for(var a in this.J)this.J[a].collapse();this.aa=!0;this.V=null;if(a=vUf(this))this.O&&this.O.setVisible(!1),this.ha().style.maxHeight="",this.hb().style.maxHeight="",wUf(this,a),this.KN(!0),qUf(this)}};w.Sha=function(){k5.prototype.Sha.call(this);this.F&&(this.Da().ga(this.F,["b","e","s"],z(this.KN,this,!0)),this.Da().ga(this.F,"e",this.vra),this.Da().ga(this.F,"f",this.N8a))};
function vUf(a){var b=u4(a.getContext()).px;a=ZQf(a);!a&&b&&(a=.75*b.D());return a||null}
function wUf(a,b){var c=a.ha(),d=Bb(a.ac().F);if(!(2>d||c.offsetHeight<b)){var e=SB(a,a.H),f=1+Math.floor(d/2);a.O||(a.O=new lUf(a.getContext(),a.oa()),a.la(a.O),a.ha()&&(a.O.render(a.ha()),a.O.setVisible(!1)));a.Fg(a.O,f+e);var g=a.O;g.H&&he(g.H,"N\u00e4yt\u00e4 kaikki kohteen "+(d+" vastaukset"));a.O.setVisible(!0);g=f-1;f+=1;for(var k=0;c.offsetHeight>b&&k<d;++k){var l=-1;0==k%2&&0<g?(l=g,g--):f<=d&&(l=f,f++);0<=l&&a.Hb(l+e).setVisible(!1)}}}
w.Nga=function(){var a=this.getSize();this.aa&&this.expand();this.collapse();var b=this.getSize();Id(a,b)||this.dispatchEvent(new b5(this.getId()))};w.KN=function(a){var b=ZQf(this);b&&(l5(this),this.ha().style.maxHeight=b+"px",b-=this.F.ha().offsetHeight,200<=b?this.hb().style.maxHeight=b+"px":this.hb().style.maxHeight="",a&&(this.cb.scrollTop=this.cb.scrollHeight))};
w.L8a=function(a){var b=D4(this.getContext());switch(a.identifier){case "backToDocument":b.Ob("docos-back-to-document").fireAction({ii:this.getId()});break;case "resolve":WTf(this.H);break;case "blur":this.vra();break;case "next":this.dispatchEvent("sn");break;case "prev":this.dispatchEvent("sp");break;case "speakComment":sUf(this);break;case "reply":this.F.focus()}};w.vra=function(){var a=D4(this.getContext());a.Ob("docos-before-highlight-doco").fireAction(d4());g5(A4(this.W),null);a.Ob("docos-highlight-doco").fireAction(d4())};
w.focus=function(){k5.prototype.focus.call(this);this.Oa=this.Jk();zUf(this)};function zUf(a){l5(a);d5(a.F)||a.Oa||a.F.reset(!0);a.Jk()&&(a.expand(),a.g1());a.KN(!0);a.dispatchEvent(new b5(a.getId()))}w.MU=function(a){k5.prototype.MU.call(this,a);this.KN(!1)};w.wa=function(){k5.prototype.wa.call(this);delete this.Ka;delete this.Ja};function uUf(a,b){var c=a.ia;c&&(a=dOf(b,a.D),vL(c,["docos-assignee-you","docos-assignee-other","docos-assignee-none"]),El(c,a))}w.q4a=function(a){this.Jk()&&a.stopPropagation()};function AUf(a,b,c,d,e){this.Sp=a;this.ze=void 0===b?null:b;this.EGa=void 0===c?null:c;this.a3=void 0===d?null:d;this.oob=void 0===e?!1:e}w=AUf.prototype;w.getNewDocoType=p("Sp");w.getText=p("ze");w.getAssigneeEmail=p("EGa");w.getOriginatingDocoType=p("a3");w.getWasSmartTodo=p("oob");function BUf(a,b,c,d){return AUf.call(this,"discussion",a,b,c,void 0===d?!1:d)||this}x(BUf,AUf);function m5(a,b,c,d,e,f,g){c5.call(this,a,b,c,e,f);this.yk=d;this.na=this.Ka=null;this.F=new wSf(a,this.oa(),this,g);this.addChild(this.F);this.Sc(b)}x(m5,c5);w=m5.prototype;w.ua=function(){this.na=new qQ(this.ha());this.la(this.na);var a=this.na;a.zh("backToDocument",85);a.zh("blur",27);a.zh("next",74);a.zh("next",GH(["N","C"]));a.zh("prev",75);a.zh("prev",GH(["P","C"]));a.zh("reply",82)};
w.Aa=function(){c5.prototype.Aa.call(this);this.Da().ga(this.F,"p",this.Iya).ga(this.F,"c",this.Mfa).ga(this.F,"s",this.YL).ga(this.F,"b",this.H8a).ga(this.F,"e",this.Bba).ga(this.F,"f",this.J8a);this.Da().ga(this.na,"shortcut",this.I8a);var a=this.ha();this.F.aa=a;this.Ka=new WQ(this.ha(),this.oa());this.la(this.Ka);XQ(this.Ka)};w.kPa=function(a,b,c,d,e){D4(this.getContext()).Ob("docos-convert-doco").fireAction({ii:a,xk:b,Qm:c,Wxa:d,UH:e})};
w.Iya=function(){var a=this.Sda()?this.Sda().getEmail():void 0,b=this.ac().getNewDocoType()?this.ac().getNewDocoType():void 0,c=this.JY();var d=this.ac().D;d=null!=L(d.D,20)?L(d.D,20):null;a=new BUf(c,a,b,1==d);c=Y4(A4(this.getContext()),this.getId());Ze(z(this.kPa,this,this.getId(),this.sH(),c,a,b))};w.iPa=function(a,b,c,d){D4(this.getContext()).Ob("docos-delete-doco").fireAction({ii:a,xk:b,Qm:c,UH:d})};
w.Mfa=function(){var a=Y4(A4(this.getContext()),this.getId()),b=this.ac().getNewDocoType()?this.ac().getNewDocoType():void 0;Ze(z(this.iPa,this,this.getId(),this.sH(),a,b))};w.Lm=t(!0);w.sH=p("yk");w.Tda=t(!0);w.Ava=function(a){CUf(this);a.stopPropagation()};function CUf(a){var b=D4(a.getContext()),c=WNf(f4(e4(a.getId()),a.Wa));b.Ob("docos-before-highlight-doco").fireAction(c.build());g5(A4(a.W),a.getId());b.Ob("docos-highlight-doco").fireAction(c.build())}
w.I8a=function(a){var b=D4(this.getContext());switch(a.identifier){case "backToDocument":b.Ob("docos-back-to-document").fireAction({ii:this.getId()});break;case "blur":b.Ob("docos-before-highlight-doco").fireAction(d4());g5(A4(this.W),null);b.Ob("docos-highlight-doco").fireAction(d4());break;case "next":this.dispatchEvent("sn");break;case "prev":this.dispatchEvent("sp");break;case "reply":this.F.focus()}};w.update=function(){XQf(this);this.g1()};w.H8a=function(a){this.YL(a)};
w.Bba=function(){var a=D4(this.getContext());a.Ob("docos-before-highlight-doco").fireAction(d4());g5(A4(this.W),null);a.Ob("docos-highlight-doco").fireAction(d4())};w.J8a=function(){this.Jk()||CUf(this)};w.focus=function(){this.Jk()&&(Yc?Ze(this.Hza,0,this):this.Hza())};w.YL=function(a){var b=ZQf(this);if(b){var c=this.ha();c.style.maxHeight=b+"px";c.scrollTop=c.scrollHeight}c5.prototype.YL.call(this,a)};
w.Hza=function(){this.F.ready();var a=this.oa(),b=pG(a);(Yc&&!b||!a.contains(this.ha(),b))&&Ze(function(){this.Bb()&&this.ha().focus()},0,this)};function DUf(a,b,c,d,e,f){m5.call(this,a,b,c,d,e,f);this.F.ma="Vastaa\u2026";this.O=!1;this.H=this.J=null}x(DUf,m5);w=DUf.prototype;
w.ua=function(){var a=this.oa(),b=this.D.mg(),c=uO(UQf,{author:b.getName(),gE:this.D.ea?b.getId():null,Aw:!0,Lm:!0,oi:this.D.oi(),yB:this.D.qa},void 0,a);this.ub(c);this.F.Za(a.Va("docos-docoview-input-pane",c));this.J=a.Va("docos-author",c);this.H=Y_(a,"IMG","docos-replyview-avatar",c);var d=a.Va("docos-replyview-origin",c);R(d,!1);if(a=a.Va("docos-user-presence",c))if(c=this.D.hc)a.style.backgroundColor=c(b.getId());m5.prototype.ua.call(this)};
w.Aa=function(){m5.prototype.Aa.call(this);XQf(this);var a=this.ac().Vv();pb(a)||this.F.ready(a,!0,!0);a=this.D.mg();EQf(x4(this.getContext()),this.H,a.D,s4(a))};w.Sda=function(){return sSf(this.F.J)};w.JY=function(){return this.F.getValue()};w.Bba=function(a){d5(this.F)?this.YL(a):m5.prototype.Bba.call(this,a)};
w.update=function(){m5.prototype.update.call(this);var a=this.Jk();a!=this.O&&(this.Jk()||d5(this.F)?this.dispatchEvent(new b5(this.getId())):this.Mfa());a?this.ha().setAttribute("guidedhelpid","comment_draft_box"):this.ha().removeAttribute("guidedhelpid");this.O=a};w.Nc=function(){m5.prototype.Nc.call(this);D4(this.getContext()).Ob("docos-edit-draft").fireAction({ii:this.getId(),text:this.JY(),Jla:this.H})};w.wa=function(){m5.prototype.wa.call(this);delete this.J;delete this.H};function EUf(a,b,c,d,e,f){DUf.call(this,a,b,c,d,e,f);this.ac()}x(EUf,DUf);function FUf(a,b,c,d,e,f){DUf.call(this,a,b,c,d,e,f);this.ac()}x(FUf,DUf);FUf.prototype.R=function(a,b,c,d,e,f){this.dispatchEvent(new KSf("sd",a,b,c,d,e,f))};FUf.prototype.Iya=function(){var a=Y4(A4(this.getContext()),this.getId()),b=sSf(this.F.J);if(null!=b){Cj(this.D.D,38);var c=COf(b)}Ze(z(this.R,this,this.getId(),this.sH(),a,this.JY(),"instant-doco"==this.ac().Sp,c))};FUf.prototype.aa=function(a,b,c,d){D4(a).Ob("docos-cancel-insert-discussion").fireAction({ii:b,xk:c,Qm:d})};
FUf.prototype.Mfa=function(){var a=Y4(A4(this.getContext()),this.getId());Ze(z(this.aa,this,this.getContext(),this.getId(),this.sH(),a))};function GUf(a,b,c,d,e,f){b=AUf.call(this,void 0===b?"draft":b,c,d,e,void 0===f?!1:f)||this;b.Vb=a||null;return b}x(GUf,AUf);GUf.prototype.getPosition=p("Vb");function HUf(a){this.a3=a}HUf.prototype.getOriginatingDocoType=p("a3");function IUf(a,b,c){this.a3=a;this.iH=b;this.a7a=c;return this}x(IUf,HUf);IUf.prototype.isTodo=p("iH");IUf.prototype.isWrongAssignee=p("a7a");function JUf(a,b,c,d,e,f){m5.call(this,a,b,c,d,e,f,!0);this.xa=this.qa=this.J=this.R=this.ea=this.O=this.H=this.Ja=this.aa=this.ma=null;this.Oa=dQf(a)}x(JUf,m5);w=JUf.prototype;
w.ua=function(){var a=this.D,b=this.oa();a=uO(UQf,{Lm:!0,FL:!0,JHa:!!Cj(a.D,41),oi:a.oi(),Qj:"legacy"!=a.H},void 0,b);this.ub(a);this.F.Ya=!1;this.F.Za(b.Va("docos-docoview-input-pane",a));this.ma=b.Va("docos-input-assign-to-text",a);this.aa=b.Xa("docos-smarttodoview-body",a);this.aa.id=GK(this,"body");this.H=b.Va("docos-smarttodoview-feedback",a);this.qa=b.Va("docos-smarttodoview-showfeedbackdialog-button",a);this.xa=b.Va("docos-smarttodoview-writefeedback-link",a);var c=[];c.push("edit");c.push("disable");
c.push("help");this.J=new APf(this.getContext(),this.getId(),b,"docos-overflowmenu",c);this.addChild(this.J);this.J.Za(b.Xa("docos-overflowmenu-outer",a));this.H&&(this.O=KUf(this,"docos-smarttodoview-feedback-notactionitem","docos-smarttodoview-feedback-notactionitem-label"),this.R=KUf(this,"docos-smarttodoview-feedback-wrongassignee","docos-smarttodoview-feedback-wrongassignee-label"),this.Ja=LUf(this,"docos-smarttodoview-feedback-cancel"),(this.ea=LUf(this,"docos-smarttodoview-feedback-submit"))&&
this.Zia());b=b.Xa("docos-smarttodoview-headertext",a);b.id=GK(this,"headertext");JA(a,"labelledby",b.id);JA(a,"describedby",this.aa.id);m5.prototype.ua.call(this)};function KUf(a,b,c){var d=a.oa(),e=a.ha();b=d.Va(b,e);c=d.Va(c,e);e=null;b&&(e=new UO(!1,d),c&&SO(e,c),e.Za(b),a.la(e));return e}function LUf(a,b){var c=a.oa();b=c.Va(b,a.ha());var d=null;b&&(d=new hP(null,c),d.Za(b),GM(b,d.getTooltip()),a.la(d));return d}
w.Aa=function(){m5.prototype.Aa.call(this);v4(v4(v4(this,this.J,"e",this.b9a),this.J,"i",this.vVa),this.J,"h",this.sXa);this.H&&(this.qa&&this.Da().qe(this.qa,TB,this.p2a),this.xa&&this.Da().qe(this.xa,TB,this.z4a),this.O&&v4(this,this.O,"change",this.Zia),this.R&&v4(this,this.R,"change",this.Zia),this.Ja&&v4(this,this.Ja,"action",this.BWa),this.ea&&v4(this,this.ea,"action",this.DWa));this.F.ready(void 0,void 0,!0);this.update()};w.g1=function(){m5.prototype.g1.call(this);this.ia&&El(this.ia,"docos-smarttodoview-arrow-inner")};
w.update=function(){m5.prototype.update.call(this);var a=w4(this.ac());a=r4(a);a=gOf(a,this.D,!0);a=(new ER("M\u00e4\u00e4ritet\u00e4\u00e4nk\u00f6 teht\u00e4v\u00e4 k\u00e4ytt\u00e4j\u00e4lle {user}?")).format({user:a});he(this.ma,a);R(this.ma,!0);a=D0((new w9e).build(),this.ac().Ad());Bc(this.aa,a);this.resize()};
w.b9a=function(){var a=r4(this.ac().Dw()).getEmail();a=new GUf(void 0,"client-integrated-draft",this.ac().Vv(),a,"smart-todo",!0);var b=Y4(A4(this.getContext()),this.getId());D4(this.getContext()).Ob("docos-convert-doco").fireAction({ii:this.getId(),Qm:b,Wxa:a,UH:"smart-todo"})};w.vVa=function(){D4(this.getContext()).Ob("docos-disable-smart-todo-feature").fireAction()};
w.sXa=function(){sD("https://support.google.com/docs/?p=action_items&hl=fi",{target:"_blank",noreferrer:!0});X4(this.Oa,RPf(QPf(Q4(43029),this.ac().getId()),S4(this.ac())).build())};w.p2a=function(){this.H&&R(this.H,!0);X4(this.Oa,RPf(QPf(Q4(43025),this.ac().getId()),S4(this.ac())).build())};w.z4a=function(){D4(this.getContext()).Ob("docos-write-feedback").fireAction({source:"smart-todo"})};w.BWa=function(){this.H&&R(this.H,!1);this.focus()};
w.Zia=function(){var a=null!=this.O&&this.O.jd(),b=null!=this.R&&this.R.jd();this.ea.Pa(a||b)};w.DWa=function(){D4(this.getContext()).Ob("docos-reject-doco-with-feedback").fireAction({ii:this.getId(),xk:this.sH(),Qm:Y4(A4(this.getContext()),this.getId()),UH:"smart-todo",$Oa:new IUf("smart-todo",!this.O.jd(),this.R.jd())})};w.Sda=function(){return w4(this.ac())?r4(w4(this.ac())):null};w.JY=function(){return this.ac().Vv()};
w.wa=function(){m5.prototype.wa.call(this);delete this.ma;delete this.aa;delete this.H;delete this.J;delete this.qa;delete this.xa};function MUf(a,b,c,d){this.D=a;this.J=b;this.Qa=c;this.F=d}MUf.prototype.H=function(a){a=A4(this.D).ac(a);var b=this.J.yi().getId();switch(a.getNewDocoType()){case "draft":case "instant-doco":return new FUf(this.D,a.getId(),b,S4(a),this.Qa,this.F);case "client-integrated-draft":return new EUf(this.D,a.getId(),b,S4(a),this.Qa,this.F);case "smart-todo":return new JUf(this.D,a.getId(),b,S4(a),this.Qa,this.F);default:return new tUf(this.D,a.getId(),b,this.Qa,this.F)}};function NUf(a,b){this.D=a;this.F=b}NUf.prototype.clone=function(){return new NUf(this.D,this.F)};NUf.prototype.Fa=function(a){return null!=a&&this.D==a.D&&this.F==a.F};function n5(a,b){C.call(this);this.Qa=b;this.R=a;this.F=null;if(a=o5(this).R)this.F=new NUf(a,!0);this.ia=!a;this.ma=!a;this.Ea=this.J=null}A(n5,C);w=n5.prototype;w.Bha=ba("V");w.yi=function(){if(!this.V)throw Error("uJ");return this.V};w.ZF=function(){return[]};w.Wn=function(){return this.J?this.J.getId():null};w.aK=function(){return this.J?R4(this.J):null};w.bK=function(){var a=this.Wn();return a?this.V.jc(a):null};w.oa=p("Qa");function o5(a){return u4(a.R)}w.getContext=p("R");w.Nz=function(){return this.yi().getId()};
w.DY=p("F");w.x4=function(a,b){var c=this.Wn();return a||c?b==this.Nz()||this.F&&this.F.D==a?!0:!WQf(this,a):!1};function WQf(a,b){if(a.Wn()==b)return!0;a=a.aK();return!!a&&a==b}
w.c9=function(a,b,c){if(this.x4(a,b)){var d=WQf(this,a)?null:this.J;this.J=A4(this.R).ac(a)||null;var e=d&&a!=d.getId()&&(!R4(d)||a!=R4(d));if(e){var f=this.V.jc(d.getId());f&&!I4(d.D)&&f.update()}d=!d||e;b=b==this.Nz()&&(void 0===c||c);a&&(d||b)&&(d&&this.cAa(),(c=this.V.jc(a))?(this.F=null,c.update(),b&&c.focus()):this.F=new NUf(a,b),d&&this.Pfa(a))}};w.cAa=h();
w.xta=function(a,b){var c=D4(this.R);c.Ob("docos-before-highlight-doco").fireAction(a);g5(A4(this.R),b.getId());c.Ob("docos-highlight-doco").fireAction(a);!this.ia&&(this.ia=!0,c=b.getId(),c==o5(this).R&&(a=o5(this).O["highlight-initial-doco"]))&&(b=(new p4("highlight-initial-doco")).addAnchorId(S4(b)).addDocoHandle(Y4(A4(this.getContext()),c)).setNonAnchored(!(b.Vu()&&!C4(b))).setUserInitiated(!0).build(),a(b))};w.highlightNext=function(a,b,c){OUf(this,!0,void 0,a,b,c)};
w.highlightPrevious=function(a,b,c){OUf(this,!1,void 0,a,b,c)};w.Q2=h();w.P2=h();function OUf(a,b,c,d,e,f){var g=A4(a.R),k=PUf(a,g,b,!!d,!!e);k||!c||e||(k=PUf(a,g,!b,!!d,!1));b=D4(a.R);k&&(a=WNf(VNf(TNf(f4(e4(k.getId()),a.Nz())),void 0!==f?f:!0)).build(),b.Ob("docos-before-highlight-doco").fireAction(a),g5(g,k.getId()),b.Ob("docos-highlight-doco").fireAction(a))}
function PUf(a,b,c,d,e){c=c?1:-1;var f=null,g=a.yi().wc();if(0==g)return null;a:{var k=a.Wn();if(k){var l=a.yi();if(k=l.jc(k)){l=SB(l,k);break a}}l=-1}0>l&&(l=0,f=a.yi().Hb(l));for(k=l;!f||d&&!rQf(b,f.ac());){l+=c;if(!e&&(l>=g||0>l)){f=null;break}l=(l+g)%g;if(l==k){f=null;break}f=a.yi().Hb(l)}return f}
w.Pfa=function(a){if(a==o5(this).R){var b=this.V.jc(a);b&&b.Jk()&&!this.ma&&(this.ma=!0,b=o5(this).O["linked-doco-highlighted"])&&(a=A4(this.R).ac(a),a=XNf("linked-doco-highlighted").addAnchorId(S4(a)).setUserInitiated(!0).build(),b(a))}};w.ZY=function(a){for(var b=this.yi(),c=b.wc(),d=c,e=0;e<c;++e){var f=b.Hb(e);if(f&&0>=this.xJ(a,f)){d=e;break}}return d};
function QUf(a){if(a.ZQ()){for(var b=a.yi(),c=[],d=b.wc(),e=0;e<d;++e)c.push(b.Hb(e));c.sort(z(a.xJ,a));for(e=0;e<d;++e)b.Hb(e)!=c[e]&&b.Fg(c[e],e)}}w.vu=function(){HQf(x4(this.getContext()))};w.WB=h();w.b9=function(){for(var a=this.yi().wc(),b=new LNf,c,d=0;d<a;d++)c=this.yi().Hb(d),null!=c&&(c=c.ac(),null!=c&&MSf(b,c));return b.build()};w.nC=pa;w.RX=Zb;w.SP=Zb;w.TP=h();w.wa=function(){n5.Ia.wa.call(this);this.J=null};
w.copyTo=function(a){a=a.NJ()||a;a instanceof n5&&(a.F=this.F?this.F.clone():null,a.ia=this.ia,a.ma=this.ma)};w.NJ=t(null);w.Aha=ba("Ea");w.Fa=function(a){if(null===a)a=!1;else if(a===this)a=!0;else if(a instanceof n5){var b=a.F;a=(this.F?this.F.Fa(b):null==b)&&this.ia==a.ia&&this.ma==a.ma}else a=!1;return a};function RUf(a,b){Ne.call(this,a);this.kna=b}A(RUf,Ne);function p5(a,b){n5.call(this,a,b);this.aa=A4(this.getContext());this.D={};this.W={};this.Ya=new pzd;this.O=new ZNf}A(p5,n5);w=p5.prototype;w.ZF=function(){var a=p5.Ia.ZF.call(this);a.push("docos-layout-anchored");o5(this).qb&&a.push("docos-layout-anchored-shadows");return a};w.B8=function(a){return(new MUf(this.getContext(),this,this.oa(),this)).H(a.getId())};
w.gJ=function(a){if(this.aa.W(a)){var b=a.getId(),c=Y4(this.aa,b),d=this.H$(c,!1);if(d){var e=this.B8(a);this.W[c]&&delete this.W[c];c=this.ZY(e);if(c<=this.yi().wc()&&-1<c)for(SUf(this,e,d,c);!this.Ya.isEmpty()&&YMf(this.Ya)<=this.yi().wc();)e=this.Ya.remove(),SUf(this,e.view,e.position,e.index);else e=new TUf(e,d,c),ozd(this.Ya,c,e)}else this.W[c]=a;b=VNf(e4(b),!a.FL());a.Ji()||f4(b,this.Nz());d&&a.Aw()&&pb(a.Vv())&&(d=D4(this.getContext()),d.Ob("docos-before-highlight-doco").fireAction(b.build()),
g5(this.aa,a.getId()),d.Ob("docos-highlight-doco").fireAction(b.build()));(d=this.DY())&&d.D==a.getId()&&(VNf(b,d.F),Ze(z(this.xta,this,b.build(),a),0))}};function SUf(a,b,c,d){var e=Ca();a.yi().Fg(b,d,!0);a.D2(c.x,c.y,b,!1);b=Ca()-e;(a=o5(a).O["doco-rendered"])&&a(new YNf("doco-rendered",b))}w.dI=function(a){var b=this.yi().jc(a);a==this.Wn()&&(this.J=null);if(b){var c=this.aa.ac(a);c&&C4(c)&&b.Lm()&&o5(this).dc?UUf(this,a,b):(this.yi().removeChild(b,!0),He(b));this.hC(this.D)}};
function UUf(a,b,c){function d(){n||(n=!0,He(c),ce(e),El(g,"docos-resolve-highlight"),Ze(function(){Fl(g,"docos-resolve-highlight")},600))}var e=c.ha(),f=Qm(e),g=o5(a).dc,k=Sm(g),l=Sm(e),m=Qm(g);m.x+=(k.width-l.width)/2;a.yi().removeChild(c);El(e,"docos-readonly");c.Nc();e.style.zIndex=502;e.style.position="fixed";document.body.appendChild(e);var n=!1;Yc?VUf(a,e,f,m,d,b):WUf(a,e,c.getId(),f,m,d)}
function WUf(a,b,c,d,e,f){aOf(a.O,c);b.style.left=d.x+"px";b.style.top=d.y+"px";Ze(function(){Ue(b,Tea,f);Ze(f,570);El(b,"docos-resolve-animation");b.style.left=e.x+"px";b.style.top=e.y+"px"},0)}function VUf(a,b,c,d,e,f){var g=new LM(b,[c.x,c.y],[d.x,d.y],270),k=new Tdb(b,270);k.play();$Nf(a.O,f,g,270,function(){He(g);He(k);e()})}
function XUf(a){var b=[];a.yi().cg(function(c){var d=c.ac();null!=d&&null!=S4(d)?(d=Y4(this.aa,c.ac().getId()),this.H$(d,!0)||this.W[d]||(this.W[d]=c.ac(),b.push(c.getId()))):b.push(c.getId())},a);0<b.length&&a.dispatchEvent(new RUf("rv",b))}w.QX=function(a){for(var b=Ob(this.D),c=0;c<a.length;c++)a[c]in b&&delete b[a[c]];this.hC(b)};w.MJ=function(a){var b=Ob(this.D),c;for(c in a)b[c]=a[c];this.hC(b)};w.H$=function(a){return this.D[a]||null};
w.RX=function(a){a=YUf(this,a);return a?(a=a?a.ha():null)?new Ed(a.offsetLeft,a.offsetTop):null:null};w.getDocoMaxHeight=function(a){return(a=YUf(this,a))?a.getDocoMaxHeight():null};w.a9=function(a,b){(a=YUf(this,a))&&a.MU(b)};function YUf(a,b){return(b=a5(a.aa,b))?a.yi().jc(b.getId()):null}w.wa=function(){p5.Ia.wa.call(this);var a=this.O,b;for(b in a.D)a.D[b].stop();a.D={};a.F={}};function TUf(a,b,c){this.ii=a.getId();this.view=a;this.position=b;this.index=c};function ZUf(a,b){p5.call(this,a,b)}A(ZUf,p5);w=ZUf.prototype;w.ZQ=t(!1);w.xJ=t(0);w.IN=pa;w.iC=function(){XUf(this)};w.vu=function(){ZUf.Ia.vu.call(this);this.yi().cg(function(a){var b=a.ac();b&&null!=S4(b)&&(b=Y4(A4(this.getContext()),b.getId()),b=this.D[b],null!=b&&this.D2(b.x,b.y,a,!1))},this)};w.hC=function(a){this.D=a;XUf(this);for(var b in this.D)(a=this.W[b])&&this.gJ(a);this.vu()};w.D2=function(a,b,c){(c=c.ha())&&coc(c,a,b,u4(this.getContext()).zi)};function q5(a,b,c,d,e,f){this.R=a;this.H=b;this.F=c;this.J=d;this.D=e;this.O=f&&!pb(f)?f:null}na("docos.api.Assignee",q5,void 0);q5.prototype.getToken=p("R");q5.prototype.getToken=q5.prototype.getToken;q5.prototype.getEmail=p("H");q5.prototype.getEmail=q5.prototype.getEmail;q5.prototype.getAffinity=p("F");q5.prototype.getAffinity=q5.prototype.getAffinity;q5.prototype.getMatchingMethod=p("J");q5.prototype.getMatchingMethod=q5.prototype.getMatchingMethod;q5.prototype.V=p("D");
q5.prototype.isMatchedOnEmailUserName=q5.prototype.V;q5.prototype.getName=p("O");q5.prototype.getName=q5.prototype.getName;function $Uf(a,b,c){this.D=a;this.R=b;this.F=!1;this.H=c.toLowerCase();a=c.split("@");this.O=2==a.length?a[0]:"";this.J=2==a.length?a[1]:""}function aVf(a,b,c,d){return new q5(a.D,b,d,a.R,a.F,c)}function bVf(a,b){return a.D.toLowerCase().replace(cVf,"")==b?a.F=!0:!1}$Uf.prototype.V=function(a,b){var c=[];b||a.resolve(c);for(var d=0;d<b.length;d++){var e=b[d];if(e&&dVf(this,e)){var f=aL(e.getEmail());pb(f)||c.push(aVf(this,f,e.getName(),0))}}a.resolve(c)};
function dVf(a,b){if(b.getEmail())var c=aL(b.getEmail()).toLowerCase();else return!1;b=b.getName();var d=c.split("@"),e=d[0],f=d[1];if(!(d=2!=d.length||f!=a.J||0<=e.indexOf("-")||fSf.contains(e.trim().toLowerCase()))&&(d=b)){a:{d=b.trim().toLowerCase().split(/\s/);for(f=0;f<d.length;f++)if(Ra(eSf,d[f].trim().toLowerCase())){d=!0;break a}d=!1}d=d||b.toLowerCase()==e}if(d)return!1;d=a.D.toLowerCase().split(/\s/);f=b?b.toLowerCase().split(/\s/):[];for(var g=0;g<d.length;g++)if((d[g]==c||b&&Ra(f,d[g]))&&
1<d[g].length)return!0;return bVf(a,e)}function eVf(a,b){for(var c=[],d=0;d<a.length;d++)c.push(new $Uf(a[d],"full-query",b));return c}function fVf(a,b){for(var c=[],d=0;d<a.length;d++)db(c,gVf(a[d],b));return c}function gVf(a,b){return oSf(mSf,a).map(function(c){return new $Uf(c,"email",b)})}var cVf=/^[@+]|[@+]$/g;function hVf(a){this.D=a}na("docos.api.AssigneeThenable",hVf,void 0);hVf.prototype.get=p("D");hVf.prototype.get=hVf.prototype.get;function iVf(a,b,c,d){this.D=a;this.F=b.getEmail();this.R=c;this.H=new Cw;this.O=d}function jVf(a,b){var c=Ce();a.D.D?kVf(a,b,c):WRf(a.D).then(z(function(d,e,f){f?kVf(this,d,e):e.reject()},a,b,c));return new hVf(c.od)}function kVf(a,b,c){var d=Aa(fVf,b,a.F);b=Aa(eVf,b,a.F);b=z(a.J,a,b,c,function(){return c.resolve(null)});a.J(d,c,b)}
iVf.prototype.J=function(a,b,c){a=a();for(var d=[],e=0;e<a.length;e++){var f=a[e];var g=this.D,k=Ce();pb(f.D)?k.resolve([]):bVf(f,f.O)||f.D.toLowerCase()==f.H?k.resolve([aVf(f,f.H,null,Number.MAX_VALUE)]):g.Hn(f.D,5,z(f.V,f,k));f=k.od;db(d,f)}lVf(this,d,b,c)};function lVf(a,b,c,d){Ae(b).then(function(e){for(var f=[],g=0;g<e.length;g++){var k=e[g];k.Pz&&k.value&&db(f,k.value)}Sa(f)?d():mVf(a,f,c)})}
function mVf(a,b,c){if(a.O&&"full-query"==b[0].getMatchingMethod()){for(var d=[],e=[],f=0;f<b.length;f++){var g=b[f];g.D?e.push(g):d.push(g.getEmail())}Sa(e)?(nVf(a,d),a.O(d).then(function(k){return oVf(a,b,c,k)})):pVf(a,e,c)}else pVf(a,b,c)}function pVf(a,b,c){b.sort(Aa(qVf,a.F));c.resolve(b[0])}function nVf(a,b){qOa(a.H,b)||(Dw(a.H,b),X4(a.R,Q4(43026).build()))}
function oVf(a,b,c,d){for(var e=[],f={XN:0};f.XN<d.length;f={XN:f.XN},f.XN++){var g=Oa(b,function(k){return function(l){return l.getEmail()==d[k.XN]}}(f));g&&e.push(g)}Sa(e)?c.resolve(null):pVf(a,e,c)}function qVf(a,b,c){var d=b.getEmail()==a;a=c.getEmail()==a;var e="full-query"==b.getMatchingMethod(),f="full-query"==c.getMatchingMethod();return(d||a)&&e&&f?d?-1:1:c.getAffinity()-b.getAffinity()};function rVf(a){this.LHa=a;return this}x(rVf,qZ);rVf.prototype.getCancelAnchorId=p("LHa");rVf.prototype.getCancelAnchorId=rVf.prototype.getCancelAnchorId;function sVf(a,b,c,d,e,f){a=g4.call(this,a,b,c,d,e,f||new qZ)||this;a.D=!1;return a}x(sVf,g4);sVf.prototype.canPreventDefault=t(!0);sVf.prototype.preventDefault=function(){this.D=!0};function tVf(a){return p4.call(this,a)||this}x(tVf,p4);tVf.prototype.build=function(){return new sVf(this.type,this.D,this.F,this.H,this.J,this.args?this.args:new qZ)};function uVf(){this.F=!1}uVf.prototype.cancel=function(){this.D&&this.D.cancel();this.F=!0};uVf.prototype.Qi=function(){return!this.F&&(null==this.D||this.D.Qi())};function vVf(a){this.H=a||pa;this.D=Ze(this.rjb,0,this);this.F=""}w=vVf.prototype;w.h4=ba("F");w.ofa=p("F");w.cancel=function(){$e(this.D);this.D=null};w.Qi=function(){return!!this.D};w.rjb=function(){this.D=null;this.H()};function wVf(a,b,c){this.R=a;this.F=b;this.O=new Cw(c);this.H=[]}var xVf=new wVf(["6","12"],"1"),yVf=new wVf("2 1f 1c 12 16 13 14 1d 22 1b 20".split(" "),"4",[xVf]);new wVf("6 12 16 17 18 1a".split(" "),"3",[xVf]);new wVf("2 4 2a 5 6 9 b 1c d e f 11 12 29 13 14 15 1d 22 16 17 19 28 1e 1b".split(" "),"2",[xVf,yVf]);new wVf([]);wVf.prototype.toString=function(){var a=this.F?"g"+this.F:this.R.join(",");this.F&&this.H.length&&(a+=","+this.H.join(","));return a};
function zVf(a){a.J||(a.J=new Cw(a.R));return a.J}wVf.prototype.contains=function(a){if(this.O.contains(a))return!0;this.D||(this.D=new Cw);if(this.D.contains(a))return!1;if(qOa(zVf(this),zVf(a)))return this.O.add(a),!0;this.D.add(a);return!1};var AVf={D:"",AW:"personal",ea:1,R:!0,H:!0,V:!0,J:5E3,F:-1,O:10,name:"Load All Contacts"};function BVf(a,b,c){this.O=a;this.F=b;this.H=null;this.D=!1;this.J=Ce();this.R=c}A(BVf,B);function WRf(a){if(!D8d())return ue(!1);if(a.D)return ue(!0);if(!a.H){var b=Ob(AVf);b.H=!0;b.O=3;b.ia=!0;b.J=0;a.H=a.F.Hn(b,function(c,d,e,f,g){a.D=!g&&0<c.length;a.J.resolve(a.D);if(a.D&&(g=c.length,c=a.O.W)){var k=new CNf;g=N(k,1,g);g=VMf(g);c.tm("dacpc",Ca()-a.R,g.Ta())}})}return a.J.od}
BVf.prototype.Hn=function(a,b,c,d){var e=this;if(!D8d())return new vVf;var f=null!=d,g={D:a,F:b,R:!0,H:!0,ea:f?1:0,V:f,filter:d};if(0==a.length&&this.H&&this.H.Qi()){var k=new uVf,l=Ca();this.J.od.then(function(){var m=e.O.W;if(k.Qi()){var n=e.F.Hn(g,c);m&&m.tm("dcrdtdr",Ca()-l);k.F||(k.D=n)}else m&&m.tm("dcrdc",Ca()-l)});return k}return this.F.Hn(g,c)};BVf.prototype.wa=function(){delete this.F};function r5(a){this.D=a}A(r5,qZ);na("docos.api.OriginatingDocoTypeArgs",r5,void 0);r5.prototype.getOriginatingDocoTypeArgs=p("D");r5.prototype.getOriginatingDocoTypeArgs=r5.prototype.getOriginatingDocoTypeArgs;function s5(a,b,c){this.D=c;this.yk=a;this.F=b}A(s5,r5);na("docos.api.ConvertDocoArgs",s5,void 0);s5.prototype.getAnchorId=p("yk");s5.prototype.getAnchorId=s5.prototype.getAnchorId;s5.prototype.getNewDocoArgs=p("F");s5.prototype.getNewDocoArgs=s5.prototype.getNewDocoArgs;function t5(a,b,c){this.F=a;this.Vb=void 0!==b?b:null;this.D=void 0==c?-1:c}A(t5,qZ);t5.prototype.isInstantDoco=p("F");t5.prototype.getPosition=p("Vb");t5.prototype.getInstantDocoSpacerIndex=p("D");t5.prototype.isInstantDoco=t5.prototype.isInstantDoco;t5.prototype.getInstantDocoSpacerIndex=t5.prototype.getInstantDocoSpacerIndex;function CVf(a){this.D=a}CVf.prototype.F=function(a,b){return b?(a=this.D.ac(b.ii))?w4(a)?["Toimintokohde poistettiin."]:["Kommentti poistettu"]:[]:[]};CVf.prototype.H=t(0);function u5(a,b){this.Vb=a;this.yk=b;return this}x(u5,qZ);u5.prototype.getPosition=p("Vb");u5.prototype.getAnchorId=p("yk");u5.prototype.getPosition=u5.prototype.getPosition;u5.prototype.getAnchorId=u5.prototype.getAnchorId;function DVf(a){B.call(this);this.D=a}x(DVf,B);function X4(a,b){var c=u4(a.D).Ya;if(c){var d=new OL,e=b.D;null!=b.R?N(d,1,2):null!=e?N(d,1,3):N(d,1,1);EVf(a,d,b.F);b.O&&(a=iTf(A4(a.D)).D.clone(),Fj(d,10,a));a=new oze;b.yk&&N(a,1,b.yk);c(b.J,b.H||void 0,d,a)}}
function Z4(a,b){var c=u4(a.D).Ya;if(c){var d=b.ac();var e=new OL;var f=d.Bca();e=N(e,2,f);null!=d.Uu()&&(f=G4(d.Uu()).length,N(e,8,f));null!=b.H&&(f=b.H.Bca(),N(e,3,f));if(null!=b.D){var g=b.D;switch(g.getOriginatingDocoType()){case "discussion":N(e,4,1);break;case "draft":N(e,4,2);break;case "instant-doco":N(e,4,3);break;case "smart-todo":N(e,4,4);f=new zNf;var k=new ANf;var l=!g.isTodo();k=N(k,1,l);g=g.isWrongAssignee();g=N(k,2,g);Fj(f,2,g);Fj(e,5,f);break;case "suggestion":N(e,4,5);break;default:N(e,
4,0)}}null!=b.F&&N(e,7,b.F);null!=u4(a.D).Ja&&(f=u4(a.D).Ja,Fj(e,12,f));null!=u4(a.D).R&&(f=u4(a.D).R==d.getId(),N(e,13,f));f=d.IA();g=w4(d);null!=f?N(e,1,2):null!=g?N(e,1,3):N(e,1,1);EVf(a,e,d.getId());b.V&&(a=iTf(A4(a.D)).D.clone(),Fj(e,10,a));a=new oze;d=S4(b.ac());a=N(a,1,d);c(b.R,b.O||void 0,e,a)}}function EVf(a,b,c){a=A4(a.D).V;null!=c&&b.Jf(null!=a&&c==a.getId())}DVf.prototype.wa=function(){B.prototype.wa.call(this)};function FVf(){}FVf.prototype.F=function(){return["Kommenttia muutettu"]};FVf.prototype.H=t(0);function GVf(a,b,c){b=ia(b);for(var d=b.next();!d.done;d=b.next())d=d.value,d.F&c&&(d.Qm&&a.addDocoHandle(d.Qm),d.xk&&a.addAnchorId(d.xk));return a};function HVf(a,b){this.D=a;this.F=b}A(HVf,r5);na("docos.api.FeedbackArgs",HVf,void 0);HVf.prototype.getFeedback=p("F");HVf.prototype.getFeedback=HVf.prototype.getFeedback;var IVf=ic(ec("https://apis.google.com/js/api.js"));function JVf(){return oa("gapi.load")?KVf():Tf(IVf).then(function(){return KVf()},function(){return ve("Failed initializing gapi")})}function KVf(){var a=Ce(),b=oa("client");if(b)a.resolve(b);else try{oa("gapi.load")("client",{callback:function(){var c="client";"client".startsWith("gapi.")||(c="gapi.client");a.resolve(oa(c))}})}catch(c){a.reject("Failed loading gapi library: client")}return a.od};function LVf(a){this.D=a}A(LVf,qZ);na("docos.api.HighlightDocoArgs",LVf,void 0);LVf.prototype.isOriginInStreamOrGutter=p("D");LVf.prototype.isOriginInStreamOrGutter=LVf.prototype.isOriginInStreamOrGutter;function MVf(a){var b=a.T5a,c=a.pe,d=a.s6a;a=a.U5a;return T('<div id="docs-instant-button-bubble" class="'+V("docs-material")+" "+(c?V("docs-instant-button-bubble-transformation-rtl"):V("docs-instant-button-bubble-transformation-ltr"))+(d?" "+V(d):"")+'" role="button" tabindex="-1"><div class="'+V("docs-instant-button-bubble-icon-container")+(a?" "+V(a):"")+'"><span class="'+V("docs-instant-button-bubble-icon")+(b?" "+V(b):"")+'"></span></div></div>')};function NVf(a,b,c,d){c=void 0===c?[]:c;d=void 0===d?[]:d;var e=eO(dO,0<c.length?c[0]:"docs-instant-button");iO.call(this,void 0,e,b);this.W=a;this.O=c;this.R=d;this.H=!1;this.J=0;this.V=-1;this.F=this.D=null;mO(this,2)}x(NVf,iO);w=NVf.prototype;w.ua=function(){var a=this.oa(),b={pe:!1};b.T5a=this.W.join(" ");Sa(this.O)||(b.s6a=this.O.join(" "));Sa(this.R)||(b.U5a=this.R.join(" "));this.ub(uO(MVf,b,void 0,a))};
function OVf(a,b,c,d,e){var f=void 0;c=void 0===c?0:c;d=void 0===d?-1:d;f=void 0===f?1:f;if(a.Bb()){var g=0>=c;a.isVisible()||g?(PVf(a),QVf(a,b,d,f),e&&e()):(a.F=new RVf(b,d,f,e),b=!a.D,g||b||PVf(a),a.D||(a.D=Ze(function(){QVf(a,a.F.H,a.F.F,a.F.getOpacity());var k=a.F.Vc;k&&k();a.F=null;a.D=null},c,a)))}}
w.hide=function(a){if(this.Bb()){if(void 0===a?0:a)Lm(this.ha(),"top","0px"),El(this.ha(),"docs-instant-quick-hide");this.isVisible()&&(Fl(this.ha(),"docs-instant-button-visible"),Um(this.Ua(),0),this.H=!1);PVf(this)}};w.We=function(a){this.isVisible()&&(iO.prototype.We.call(this,a),a.stopPropagation())};w.Ii=function(a){this.isVisible()&&(iO.prototype.Ii.call(this,a),a.stopPropagation())};w.vt=function(a){this.isVisible()&&a.stopPropagation()};
function QVf(a,b,c,d){a.V=c;a.ha().style.top=b+"px";a.ha().style.opacity=d;Fl(a.ha(),"docs-instant-quick-hide");El(a.ha(),"docs-instant-button-visible");a.J=b;a.H=!0}function PVf(a){a.D&&($e(a.D),a.D=null)}w.isVisible=function(){Dl(this.ha(),"docs-instant-button-visible");return this.H};function RVf(a,b,c,d){this.H=a;this.F=b;this.D=c;this.Vc=d}RVf.prototype.getOpacity=p("D");function SVf(a,b){t4.call(this,a,b);this.F=null;this.H=a}x(SVf,t4);SVf.prototype.ua=function(){t4.prototype.ua.call(this);this.F=new NVf(["docos-icon-img","docos-icon-img-hdpi","docos-instant-icon-img","docos-icon-instant-docos-ltr","docos-instant-button-bubble-icon"],this.oa());this.F.render();this.Za(this.F.ha())};
SVf.prototype.Aa=function(){t4.prototype.Aa.call(this);u4(this.H).F.D(this.ha(),"Lis\u00e4\u00e4 kommentti");this.F.isVisible()||u4(this.H).F.F(this.ha(),!0);this.F.Aa();v4(this,this.F,"action",this.J)};function TVf(a,b,c,d){QN(a.F.ha(),"docos");u4(a.H).F.F(a.ha(),!1);var e=a.F.J;OVf(a.F,b,c,d,function(){e!=b&&u4(a.H).F.hide(a.ha())})}SVf.prototype.hide=function(a){this.F.isVisible()&&u4(this.H).F.F(this.ha(),!0);this.F.hide(a)};SVf.prototype.J=function(){this.hide();this.dispatchEvent("create-draft")};function UVf(a,b){B.call(this);this.F=a;this.H=u4(a);this.D=b;this.J=new IO(this);a=D4(this.F);this.J.Lc(a.xe("docos-edit-reply"),un,this.Tfb).Lc(a.xe("docos-delete-reply"),un,this.Ffb).Lc(a.xe("docos-edit-doco"),un,this.Pfb).Lc(a.xe("docos-edit-draft"),un,this.Sfb)}x(UVf,B);function VVf(a,b,c,d,e,f){return v5(a,z(a.n6a,a,b,c,d,e,void 0===f?!1:f))}w=UVf.prototype;w.n6a=function(a,b,c,d,e,f,g){if(w5(g))return a=eQf(this.D,a,b,c,d,e),f.Mi.callback(a),a;f.Mi.callback(0);return 0};
w.p6a=function(a,b,c,d,e,f){if(w5(f))return a=gQf(this.D,a,b,c,d),e.Mi.callback(a),a;e.Mi.callback(0);return 0};w.m6a=function(a,b,c,d,e,f){if(w5(f))return a=hQf(this.D,a,b,c,d),e.Mi.callback(a),a;e.Mi.callback(0);return 0};function WVf(a,b){return v5(a,z(a.Qjb,a,b))}w.Sfb=function(a){var b=this,c=a.data;Kf(v5(this,z(this.Rfb,this,c.ii,c.text)),function(d){d&&c.Jla&&B4(x4(b.F),c.Jla);return d})};w.Rfb=function(a,b,c,d){x5(z(this.D.Qfb,this.D,a,b),c,d)};
w.Qjb=function(a,b,c){x5(z(this.D.LJa,this.D,a),b,c)};function XVf(a,b,c,d,e,f,g){return v5(a,z(a.QFa,a,b,c,d,e,f,g))}
w.QFa=function(a,b,c,d,e,f,g,k){if(w5(k)){k=this.D;var l,m;a&&(m=gTf(A4(k.D),a))&&"instant-doco"==m.Sp&&(l=31);var n=Q4(43009);null!=m&&QPf(n,m.getId());null!=l&&(n.H=l);m&&m.Aw()&&a!=b&&iQf(A4(k.D),m.getId());a=Qc();l=Ca();m=dPf($Of(K4(new J4(a)),l),k.H.mg());c&&L4(m,c,l);d&&(c=oNf(new fNf,"text/plain").$a(d),Fj(m.D,9,c));e&&(ZOf(m,e),n.O=e);f&&(cPf(m,f),n.D=f);e=W4(V4(m),!0);N(e.D,3,l);b&&(WPf(e,b),RPf(n,b));$4(A4(k.D),e);A4(k.D).flush();X4(k.F,n.build());b=Y4(A4(k.D),a);g.Mi.callback(b);return b}g.Mi.callback(0);
return 0};w.Pfb=function(a){var b=a.data;Kf(v5(this,z(this.kOa,this,b.id,b.text)),function(c){c||b.t9.dispatchEvent("c")})};w.kOa=function(a,b,c,d){x5(z(this.D.jOa,this.D,a,b),c,d)};w.Ffb=function(a){a=a.data;Kf(v5(this,z(this.Efb,this,a.ii,a.fha)),h())};w.Efb=function(a,b,c,d){x5(z(this.D.iJa,this.D,a,b),c,d)};w.Tfb=function(a){var b=a.data;Kf(v5(this,z(this.mOa,this,b.ii,b.fha,b.text)),function(c){c||b.t9.dispatchEvent("c")})};w.mOa=function(a,b,c,d,e){x5(z(this.D.lOa,this.D,a,b,c),d,e)};
w.RFa=function(a,b,c,d,e,f){x5(z(this.D.HJa,this.D,a,b,c,d),e,f)};w.iob=function(a,b,c,d){x5(z(this.D.NJa,this.D,a,b),c,d)};w.job=function(a,b,c,d,e){x5(z(this.D.OJa,this.D,a,b,c),d,e)};w.nkb=function(a,b,c,d,e){x5(z(this.D.MJa,this.D,a,b,c),d,e)};function x5(a,b,c){w5(c)?(a(),b.Mi.callback(!0)):b.Mi.callback(!1)}w.fJa=function(a,b,c,d){x5(z(this.D.IJa,this.D,a,b),c,d)};w.Inb=function(a,b,c){if(w5(c))return a=jQf(this.D,a),b.Mi.callback(a),a;b.Mi.callback(0);return 0};
w.vlb=function(a,b,c,d){x5(z(this.D.pna,this.D,a,b),c,d)};w.hJa=function(a,b,c){x5(z(this.D.KJa,this.D,a),b,c)};w.gJa=function(a,b,c){x5(z(this.D.JJa,this.D,a),b,c)};function YVf(a,b,c,d){return v5(a,z(a.IFa,a,b,c,d))}w.IFa=function(a,b,c,d,e){if(w5(e))return a=oQf(this.D,a,b,c),d.Mi.callback(a),a;d.Mi.callback(0);return 0};w.Ska=function(a,b,c,d){if(w5(d))return a=sQf(this.D,a,b),c.Mi.callback(a),a;a=[];c.Mi.callback(a);return a};
function v5(a,b){var c=new If,d={Mi:c};(a=a.H.vd)?a(d,b):b(d,"edit-not-intercepted");return c}function w5(a){return"warning-accepted"==a||"edit-not-intercepted"==a?!0:!1};function ZVf(a){B.call(this);this.F=a;this.D={};this.F.aI(z(this.H,this))}A(ZVf,B);function $Vf(a,b){if(-1!=b.indexOf(":"))throw Error("vJ`"+b);if(b in a.D)throw Error("wJ`"+b);var c=new aWf(a,b);return a.D[b]=c}ZVf.prototype.H=function(a,b){if(a=a.match(/^([^:]*):(.*)/)){var c=a[1];a=a[2];c in this.D&&(c=this.D[c])&&c.F&&c.F(a,b)}};ZVf.prototype.wa=function(){wb(this.D,function(a){He(a)});He(this.F);delete this.D;delete this.F};function aWf(a,b){B.call(this);this.kf=a;this.D=b}A(aWf,B);w=aWf.prototype;
w.connect=function(a){a&&a()};w.isConnected=t(!0);w.bd=function(a,b,c){this.kf.F.bd(this.D+":"+a,z(this.jna,this,b),c)};w.aI=function(a){this.F=z(this.jna,this,a)};w.send=function(a,b){if(this.Yb())throw Error("xJ");this.kf.F.send(this.D+":"+a,b)};w.jna=function(a,b){this.Yb()||a.apply({},Array.prototype.slice.call(arguments,1))};w.wa=function(){this.kf=this.kf.D[this.D]=null};function bWf(a,b){B.call(this);this.F=[];this.J=new ZVf(a);this.H=$Vf(this.J,"user");this.R=$Vf(this.J,"control");this.D=new Ye(b||50);this.D.start();Re(this.D,"tick",this.zAa,!1,this);this.R.bd("setPeerReady_",z(this.ylb,this))}A(bWf,B);w=bWf.prototype;w.connect=function(a){a&&a()};w.isConnected=t(!0);w.zAa=function(){try{this.R.send("setPeerReady_",this.O?"1":"")}catch(a){throw this.D.stop(),a;}};w.bd=function(a,b,c){this.H.bd(a,b,c)};w.aI=function(a){this.H.aI(a)};
w.send=function(a,b){this.O?this.H.send(a,b):this.F.push({iN:a,rl:b})};w.ylb=function(a){a?this.D.stop():this.D.start();if(!this.O){this.O=!0;this.zAa();for(a=0;a<this.F.length;a++){var b=this.F[a];this.H.send(b.iN,b.rl)}this.F=null}};w.wa=function(){He(this.J);He(this.D);bWf.Ia.wa.call(this)};function cWf(a){C.call(this);this.D=a;this.va=new bf(this);this.la(this.va);this.va.ga(this.D,"u",this.F);this.D.tf(this)}A(cWf,tQf);cWf.prototype.F=function(a){var b=oPf(a.rl.p,"u");b&&(b.unshift("u"),this.dispatchEvent(new uQf("u",new sNf(b))));a.stopPropagation()};function wQf(a,b,c,d,e,f,g,k){var l;d&&(l=function(m){0<m.length&&ta(m[0])&&d(m[0])});a.D.rna(b,c?c.Cf():void 0,l,e,f,g,k)};function dWf(a,b,c){a$e.call(this);c&&(this.F=c.H.F(this.F));this.D=a;this.la(this.D);this.D.aI(z(this.F,this));this.H=b}A(dWf,a$e);dWf.prototype.send=function(a,b){xa(b)&&(b=jf(b));this.D.send(a,{t:this.H,p:b})};dWf.prototype.F=function(a,b){b$e(this,a,b)};dWf.prototype.BX=function(a,b,c){b=dWf.Ia.BX.call(this,a,b,!0);if(!b)return null;var d=b.t;return d&&d==this.H?dWf.Ia.BX.call(this,a,b.p,c):null};function eWf(){C.call(this)}A(eWf,C);function fWf(a,b,c,d,e,f,g){c=void 0===c?[]:c;C.call(this);var k=this;this.D=null;this.J=a;this.V=c;this.O=e;this.Na=new Kk;this.la(this.Na);Lk(this.Na,this.J.Qc().F,function(l){1!=l.F.D&&1==l.D.D?k.dispatchEvent(new uQf("r")):uG(l.D)&&k.dispatchEvent(new uQf("e"))});this.H=function(l){l&&k.dispatchEvent(new uQf("u",l))};d&&(this.D=d,this.D.subscribe("9",this.H));this.F=f;this.R=g;this.aa=0;this.W=b}x(fWf,eWf);
fWf.prototype.qna=function(a){if(!this.F||!this.R)throw Error("yJ");if(this.F.NX)throw Error("zJ");this.D&&(this.D.unsubscribe("9",this.H),this.D.dispose(),this.D=null);if(a){a=new Fvc;var b=this.F.mg().getId();a.W=b;Sec(a,this.F.OX,this.R,this.F.Z8);this.D=a;this.D.subscribe("9",this.H)}};fWf.prototype.rna=function(a,b,c,d,e,f,g){b=b?["p",jf(b)]:[];gWf(this,b,"/docos/p/"+a,c,d,e,f,g)};
function gWf(a,b,c,d,e,f,g,k){var l=["reqid",a.aa++];b=b?bga(b):void 0;c=IK(a.J.Bf(c),a.V.concat(l));0<b.length&&c.Fc(b);a.W&&c.IB();g?Az(c,g):Az(c,3);d&&zz(c,function(m){d(m.Ab())});e&&yz(c,e,f);k&&KK(c,k);null!=a.O&&(c.Ja=a.O);c.uh()}fWf.prototype.wa=function(){this.D&&(this.D.unsubscribe("9",this.H),this.D.dispose());eWf.prototype.wa.call(this)};function hWf(a,b,c){this.seq=iWf++;this.type=a;this.payload=b||null;this.rseq=0;this.httpMethodHeader=c||null}var iWf=1;function jWf(a){C.call(this);this.D=a;this.D.bd("recv",z(this.whb,this),!0);this.D.bd("recvEvt",z(this.vhb,this),!0);this.F={}}A(jWf,eWf);w=jWf.prototype;w.whb=function(a){var b=this.F[a.rseq];b&&(b(a.payload),delete this.F[a.rseq])};w.vhb=function(a){this.dispatchEvent(new uQf(a.type,a.payload))};w.qna=function(a){this.D.send("connectBrowserChannel",a.toString())};w.rna=function(a,b,c,d,e,f,g){a=new hWf(a,b,g);c&&(this.F[a.seq]=c);this.D.send("send",a)};w.wa=function(){jWf.Ia.wa.call(this);delete this.D};function kWf(a){B.call(this);this.H=a;this.F=this.D=null}x(kWf,B);
function lWf(a){if(a.D)return a.D;var b=u4(a.H),c=b.Y8;if(void 0!==c)return c&&(a.D=new cWf(c),a.la(a.D)),a.D;if(b.mna){var d=cC();c=new Eec(new Pwc,void 0,void 0,void 0,new eec,void 0,void 0,Aec(d).build());var e=b.Z8;e&&c.M1(e);var f=b.ona;f&&Nec(c,f);b.yoa&&jec(c.F,"anon","true");(f=b.jua)&&jec(c.F,"invite",f);f=null;if(b.NX){f=new Fvc;var g=b.mg().getId();f.W=g;lec(c.J,f);Sec(f,b.OX,d,e)}b=new fWf(c,!0,["id",b.OX],f,null!=b.RP?b.RP:6E4,b,d);b.la(c);a.D=new cWf(b);a.la(a.D);a.la(b);return a.D}b=
b.Xya;if(!b)throw Error("AJ");c={};d=new Xj(window.location.href);(e=fk(d,"docos-tp"))&&(c.tp=parseInt(e,10));"/"==b.charAt(0)&&(b=d.resolve(new Xj(b)).toString());d=cC();b=rG(new Xj(b),"ctoken",d).toString();c.pu=b;a.F=Yd("div");a.F.style.display="none";document.body.appendChild(a.F);b=new r$e(c);v$e(b,a.F);b.connect();b=new bWf(b);c=iOf(a.H);b=new dWf(b,d,c);c=new jWf(b);a.D=new cWf(c);a.la(a.D);a.la(c);a.la(b);return a.D}
kWf.prototype.wa=function(){delete this.D;this.F&&(document.body.removeChild(this.F),this.F=null);B.prototype.wa.call(this)};function mWf(a,b){this.D=a;this.H=b}mWf.prototype[bfa]=!0;function y5(a,b,c){var d=Ca();b();b=Ca()-d;a.H.tm(c,b)}w=mWf.prototype;w.c9=function(a,b,c){a=z(this.D.c9,this.D,a,b,c);y5(this,a,"dvmhd")};w.highlightNext=function(a,b,c){a=z(this.D.highlightNext,this.D,a,b,c);y5(this,a,"dvmhn")};w.highlightPrevious=function(a,b,c){a=z(this.D.highlightPrevious,this.D,a,b,c);y5(this,a,"dvmhp")};w.iC=function(){var a=z(this.D.iC,this.D);y5(this,a,"dvmla")};
w.vu=function(){var a=z(this.D.vu,this.D);y5(this,a,"dvmfl")};w.gJ=function(a){a=z(this.D.gJ,this.D,a);y5(this,a,"dvmadv")};w.IN=function(a){a=z(this.D.IN,this.D,a);y5(this,a,"dvmudv")};w.dI=function(a){a=z(this.D.dI,this.D,a);y5(this,a,"dvmrdv")};w.yi=function(){return this.D.yi()};w.Bha=function(a){this.D.Bha(a)};w.ZF=function(){return this.D.ZF()};w.Wn=function(){return this.D.Wn()};w.aK=function(){return this.D.aK()};w.bK=function(){return this.D.bK()};w.oa=function(){return this.D.oa()};
w.Nz=function(){return this.D.Nz()};w.DY=function(){return this.D.DY()};w.x4=function(a,b){return this.D.x4(a,b)};w.Q2=function(){this.D.Q2()};w.P2=function(){this.D.P2()};w.xJ=function(a,b){return this.D.xJ(a,b)};w.WB=function(a,b){this.D.WB(a,b)};w.b9=function(){return this.D.b9()};w.nC=function(a){this.D.nC(a)};w.RX=function(a){return this.D.RX(a)};w.SP=function(){return this.D.SP()};w.TP=function(a){this.D.TP(a)};w.dispose=function(){this.D.dispose()};w.Yb=function(){return this.D.Yb()};
w.ga=function(a,b,c,d){return this.D.ga(a,b,c,d)};w.mc=function(a,b,c,d){return this.D.mc(a,b,c,d)};w.Sb=function(a,b,c,d){return this.D.Sb(a,b,c,d)};w.KE=function(a){return this.D.KE(a)};w.dispatchEvent=function(a){return this.D.dispatchEvent(a)};w.cI=function(a){return this.D.cI(a)};w.yn=function(){return this.D.yn()};w.XF=function(a,b,c){return this.D.XF(a,b,c)};w.sK=function(a,b){return this.D.sK(a,b)};w.mG=function(a,b,c,d){return this.D.mG(a,b,c,d)};
w.hasListener=function(a,b){return this.D.hasListener(a,b)};w.NJ=function(){return this.D.NJ()||this.D};w.copyTo=function(a){this.NJ().copyTo(a)};w.Fa=function(a){return this===a};w.Aha=function(a){this.NJ().Aha(a)};function nWf(a,b){mWf.call(this,a,b);this.F=a}x(nWf,mWf);w=nWf.prototype;w.QX=function(a){a=z(this.F.QX,this.F,a);y5(this,a,"davmddp")};w.MJ=function(a){a=z(this.F.MJ,this.F,a);y5(this,a,"davmudp")};w.hC=function(a){a=z(this.F.hC,this.F,a);y5(this,a,"davmfdp")};w.getDocoMaxHeight=function(a){return this.F.getDocoMaxHeight(a)};w.a9=function(a,b){this.F.a9(a,b)};function oWf(a,b,c){C.call(this);this.D=a;this.ia=b;this.aa=c||null;this.va=new bf(this);this.la(this.va);this.O=a.get("netIo");this.V=!0;this.H="not-in-progress";this.J=!1;this.R=this.F=this.W=null;this.ea=new IO(this);this.la(this.ea);this.va.ga(this.O,"r",this.uhb).ga(this.O,"u",this.oib).ga(this.O,"e",this.G8a);this.va.ga(A4(a),["dd"],this.F8a).ga(A4(a),"bu",this.E8a)}x(oWf,C);
function pWf(a,b){switch(a.H){case "in-progress":return a.F;case "blocked":return qWf(a,b),a.F;case "not-in-progress":return a.F||(a.F=new If),a.H="in-progress",qWf(a,b),a.F;default:throw Error("BJ`"+a.H);}}function qWf(a,b){a.J?a.H="blocked":(a.H="in-progress",a.fCa(b))}function rWf(a,b,c){c=void 0===c?null:c;var d=a.F;a.F=null;a.H="not-in-progress";b?d.errback(null):d.callback(c)}w=oWf.prototype;
w.fCa=function(a){for(var b=A4(this.D),c=jTf(b),d=[],e=0;e<c.length;e++){d.push(Mj(c[e].H));var f=c[e].getId();Ya(b.J,f)}b=new PNf;d=Gj(b,1,d);this.R&&N(d,2,this.R);u4(this.D).gb&&(b=u4(this.D).gb,N(d,5,b));wQf(this.O,"sync",d,z(this.wgb,this),z(this.vgb,this),!1,a?a:void 0)};w.vgb=function(){this.V=!1;rWf(this,!0)};w.G8a=function(){this.dispatchEvent("net-error")};
w.wgb=function(a){a=new wNf(a);var b=this.V;this.V=!1;var c=Ca();if(b){var d=z5(this.ia,"model-loaded");if(d){var e=(new p4("model-loaded")).build();d(e)}}d=A4(this.D);try{if(sWf(this,a,b),this.R=L(a,2),kTf(d))Ze(z(this.fCa,this));else{var f=Ca()-c;rWf(this,!1,b?f:void 0);this.aa&&this.aa.tm("dscat",f)}}catch(g){throw Ze(function(){throw g;}),g;}};
function sWf(a,b,c){var d=A4(a.D),e=hTf(d),f=bG(b,Z3,1);b=0<f.length;var g=A4(a.D),k=[];f=ia(f);for(var l=f.next();!l.done;l=f.next()){l=Mj(l.value);var m=b4(l),n=dTf(g,m.getId(),L(m,11));m=!0;if(n)a:{var q=a,r=A4(q.D);m=b4(l);delete e[n.getId()];var u=n.getId();if(Ra(r.J,u))m=!1;else{u=n.getId();if(u=Ra(r.qa,u)){if(I4(n.D)){tWf(q,n);m=!1;break a}q=n.getId();Ya(r.qa,q)}N(l,9,!1);N(m,12,!1);void 0===L(m,13)&&N(m,13,0);n=Ob(n.F);r=ia($3(m));for(q=r.next();!q.done;q=r.next())q=q.value,N(q,12,!1),void 0===
L(q,13)&&N(q,13,0),delete n[q.getId()||""],delete n[L(q,11)||""];r=[];q=ia(Object.keys(n));for(u=q.next();!u.done;u=q.next())r.push(uWf(Mj(n[u.value].D)));n=$3(m);Gj(m,8,bb(n,r));m=!0}}m&&k.push(new U4(l))}nQf(g,k,"n");g=ia(jTf(d));for(k=g.next();!k.done;k=g.next())k=k.value,I4(k.D)&&void 0===k.D.D.getId()&&tWf(a,k);if(c)for(a=ia(Object.keys(e)),g=a.next();!g.done;g=a.next())g=e[g.value],T4(g)||void 0===g.D.D.getId()&&!I4(g.D)||(b=!0,g=Mj(g.H),b4(g),k=b4(g),Gj(k,8,[]),f=Ca(),N(k,13,f),N(k,12,!1),
N(g,9,!1),$4(d,new U4(g),"n"));b&&d.flush(c)}function tWf(a,b){a=A4(a.D);var c=Mj(b.H),d=b4(c);N(c,9,!1);N(d,12,!1);b=b.getId();Ya(a.J,b);$4(a,new U4(c),"n")}function uWf(a){var b=Ca();N(a,13,b);N(a,12,!1);return a}w.uhb=function(){var a=12E4*Math.random();null!==this.W&&$e(this.W);this.W=Ze(function(){pWf(this,u4(this.D).P_?1:void 0)},a,this)};
w.oib=function(a){if(a.rl){var b=a.rl;a=A4(this.D);var c=0;b=bG(b,Z3,1);b=ia(b);for(var d=b.next();!d.done;d=b.next()){d=Mj(d.value);var e=b4(d);e=dTf(a,e.getId(),L(e,11));e&&e.gH()||($4(a,new U4(d),"n"),c++)}0<c&&A4(this.D).flush()}};w.F8a=function(a){"n"!=a.getSource()&&cTf(A4(this.D))&&pWf(this)};w.E8a=function(a){"n"!=a.source&&cTf(A4(this.D))&&pWf(this)};w.wa=function(){C.prototype.wa.call(this);delete this.D;delete this.va;delete this.ea};function vWf(a,b,c){B.call(this);this.J=a;this.D=b;this.H=c;this.va=new bf(this);this.la(this.va);this.F=null;this.V=!1;this.O=null}x(vWf,B);function wWf(a){if(!UMf(a.J,"netIo"))return!1;a.F=new oWf(a.J,a.H,a.D.W||void 0);a.la(a.F);a.va.ga(a.F,"net-error",a.W);return!0}vWf.prototype.W=function(){xWf(this.H,"fe")};function yWf(a){a.V=!0;a.O=Ca();Mf(Kf(pWf(a.F,a.D.Iv?1:void 0),a.R,a),a.aa,a)}function zWf(a){if(sPf(a.D)){var b=a.F.F;b?Kf(b,function(){return AWf(a)}):AWf(a)}}
vWf.prototype.R=function(a){var b=this.D.W;b&&b.Rha(iTf(A4(this.J)).D.clone().Ta());if(b=z5(this.H,"sync-success")){var c=(new p4("sync-success")).build();b(c)}(b=z5(this.H,"initial-anchored-render-done"))&&null!==a&&b(new YNf("initial-anchored-render-done",a));(a=z5(this.H,"initial-sync-and-render-complete"))&&a(new YNf("initial-sync-and-render-complete",Ca()-this.O));xWf(this.H,"s");xWf(this.H,"r")};
vWf.prototype.aa=function(){var a=z5(this.H,"sync-error");if(a){var b=(new p4("sync-error")).build();a(b)}xWf(this.H,"e")};function AWf(a){a.F.R=null;pWf(a.F,a.D.P_?1:void 0)};function BWf(){}BWf.prototype.F=function(a,b){return b?b.cP?["Toimintokohde luotiin."]:["Kommentti luotu"]:[]};BWf.prototype.H=t(0);function CWf(){}CWf.prototype.F=function(){return["Vastaus lis\u00e4tty"]};CWf.prototype.H=t(0);function DWf(a){var b=a.bGa,c=a.a6a,d=a.Heb;a='<div class="'+V("docos-notificationdialog-content")+'">';var e='<div class="'+V("docos-notificationdialog-header")+'">';e=e+'Ilmoita seuraavista::</div><div><input type="radio" name="docos-notificationdialog-notify" value="all" id="'+(V(b)+'" class="'+V("docos-notificationdialog-control")+'"/><label for="'+V(b)+'" class="'+V("docos-notificationdialog-label")+'">');e=e+'Kaikki kommentit</label></div><div><input type="radio" name="docos-notificationdialog-notify" value="important" id="'+
(V(c)+'" class="'+V("docos-notificationdialog-control")+'"/><label for="'+V(c)+'" class="'+V("docos-notificationdialog-label")+'">');e=e+'Vain maininnat ja omien kommenttieni vastaukset</label></div><div><input type="radio" name="docos-notificationdialog-notify" value="none" id="'+(V(d)+'" class="'+V("docos-notificationdialog-control")+'"/><label for="'+V(d)+'" class="'+V("docos-notificationdialog-label")+'">');b=T(e+"Ei mit\u00e4\u00e4n</label></div>");b=a+b;c='<a class="'+V("docos-notificationdialog-help")+
'" href="https://support.google.com/docs?p=comments_guide" target="_blank">';c=T(c+"Ohje</a>");return T(b+c+"</div>")};function EWf(a){bU.call(this);this.V=a;this.ea=u4(a);this.D=[];this.W=this.R=this.O=null;this.setTitle("Ilmoitusasetukset")}x(EWf,bU);w=EWf.prototype;
w.ua=function(){bU.prototype.ua.call(this);El(ZM(this),"docos");var a=za(ZM(this));this.O="docos-notificationdialog-all"+a;this.R="docos-notificationdialog-important"+a;this.W="docos-notificationdialog-none"+a;sO(this.hb(),DWf,{bGa:this.O,a6a:this.R,Heb:this.W});hN(this,"ok");a=this.ea.Wa;null!==a&&(Lm(this.Lo(),"z-index",a),Lm(ZM(this),"z-index",a+1))};
w.Aa=function(){bU.prototype.Aa.call(this);var a=this.oa();this.F=a.ha(this.O);this.F.value="all";this.H=a.ha(this.R);this.H.value="important";this.J=a.ha(this.W);this.J.value="none";this.D=[this.F,this.H,this.J];this.aa=LK(this.Id,"ok");Re(this.F,"click",z(this.Uda,this));Re(this.H,"click",z(this.Uda,this));Re(this.J,"click",z(this.Uda,this))};
w.update=function(){this.aa.disabled=!0;FWf(JQf(this.V)).then(function(a){for(var b=ia(this.D),c=b.next();!c.done;c=b.next())if(c=c.value,c.value==a){c.checked=!0;break}},void 0,this)};w.a4=function(){for(var a=null,b=0;b<this.D.length;b++)if(this.D[b].checked){a=this.D[b].value;break}GWf(JQf(this.V),a)};w.Uda=function(){var a=this;FWf(JQf(this.V)).then(function(b){for(var c=!0,d=ia(a.D),e=d.next();!e.done;e=d.next())if(e=e.value,e.value==b&&e.checked){c=!1;break}a.aa.disabled=!c},void 0,this)};
w.Nc=function(){iL(this.F);iL(this.H);iL(this.J)};w.wa=function(){bU.prototype.wa.call(this);delete this.aa;delete this.F;delete this.H;delete this.J};function HWf(a,b,c){this.key=a;this.data=b;this.dirty=c;this.key=this.key;this.data=this.data;this.dirty=this.dirty}na("docos.api.StorageUpdate",HWf,void 0);function IWf(a,b){if(a){b||a.unshift(void 0);JWf(a[2],b);var c=a[5];c&&(b||c.unshift(void 0),KWf(c[2],b),IWf(c[3],b),b&&c.shift());b&&a.shift()}}function KWf(a,b){a&&(b?a.shift():a.unshift(void 0))}
function JWf(a,b){if(a){b||a.unshift(void 0);KWf(a[3],b);KWf(a[4],b);var c=a[5];c&&(b?c.shift():c.unshift(void 0));if(c=a[14]){b||c.unshift(void 0);var d=c[3];d&&(b?d.shift():d.unshift(void 0));(d=c[7])&&(b?d.shift():d.unshift(void 0));b&&c.shift()}if(a[8])for(c=0;c<a[8].length;c++)JWf(a[8][c],b);(c=a[9])&&(b?c.shift():c.unshift(void 0));if(c=a[18])b||c.unshift(void 0),(d=c[1])&&(b?d.shift():d.unshift(void 0)),b&&c.shift();(c=a[19])&&(b?c.shift():c.unshift(void 0));b&&a.shift()}};function LWf(a){B.call(this);this.F=a;this.D=u4(a).Jb;this.J=[];this.H=[];u4(a).Wb||(this.va=new bf(this),this.la(this.va),this.va.ga(A4(a),["f","dd"],this.QJa).ga(A4(a),"bu",this.PJa))}A(LWf,B);w=LWf.prototype;w.QJa=function(a){if("o"!=a.getSource()&&this.D)if("f"==a.type){if(this.J.length||this.H.length){a=cb(this.J);var b=cb(this.H);this.D.fDa(a,b,z(this.A4a,this,a),z(this.y4a,this,b));this.J=[];this.H=[]}}else MWf(this,a.type,a.D,a.J)};
w.PJa=function(a){if("o"!=a.source&&this.D)for(var b=ia(a.D),c=b.next();!c.done;c=b.next())c=c.value,MWf(this,a.type,c.ii,c.D)};function MWf(a,b,c,d){if(c){var e;"bu"==b?e=A4(a.F).ac(c):e=A4(a.F).H[c];(b=e)&&I4(b.D)&&void 0===b.D.D.getId()?a.H.push(c):b&&!T4(b)&&(e=Mj(b.H).Cf(),e=ZK(e),IWf(e,!1),b=new HWf(c,e,b.gH()),a.J.push(b),d&&d!=c&&a.H.push(d))}}w.A4a=function(a){for(var b=0;b<a.length;b++);};
w.y4a=function(a,b,c){for(var d="",e=0;e<a.length;e++)d+="Put failure for docoId: "+a[e]+".\n";b&&(d+="Error message: "+b);NWf(this,d,c)};w.RXa=function(a,b){if(0<b.length){for(var c=A4(this.F),d=0;d<b.length;d++){ta(b[d]);var e=ZK(b[d]);IWf(e,!0);e=new Z3(e);$4(c,new U4(e),"o")}c.flush(!0)}a()};w.QXa=function(a,b,c){var d="#inSync failure";b&&(d+=", message: "+b);NWf(this,d,c);a()};
function NWf(a,b,c){if(a=iOf(a.F))c&&void 0!==c.message?(c.message=b+"  Original message: "+c.message,a.D(c)):a.D(Error(b))}w.wa=function(){LWf.Ia.wa.call(this);delete this.F;delete this.va;delete this.D};function OWf(a){K(this,a,0,-1,null,null)}A(OWf,J);function PWf(a){K(this,a,0,-1,QWf,null)}A(PWf,J);var QWf=[4];function RWf(a){K(this,a,0,-1,null,null)}A(RWf,J);var SWf=/^https?:\/\/(?:\w|[\-\.])+\.google\.(?:\w|[\-:\.])+(?:\/[^\?#]*)?\/u\/(\d)\//,TWf=/([#].*?&|[#])authuser=([^&#]*)\b/,UWf=/([?][^#]*?&|[?])authuser=([^&#]*)\b/;function VWf(a){return null==a?"":"number"===typeof a?isFinite(a)?String(a):"":a&&(a=String(a),254>=a.length)?a:""}
function WWf(){var a=oa("gapi.config.get");if((a=VWf(a&&a("googleapis.config/sessionIndex")))||(a=VWf(ma.__X_GOOG_AUTHUSER))||(a=VWf(oa("google.authuser"))))return a;var b=ma.location.href||"",c=TWf.exec(b);try{a=VWf(c&&decodeURIComponent(c[2]))}catch(d){}if(a)return a;c=UWf.exec(b);try{a=VWf(c&&decodeURIComponent(c[2]))}catch(d){}if(a)return a;a=SWf.exec(b);return(a=VWf(a&&a[1]))?a:""};function XWf(a){a=void 0===a?"":a;var b;if((b=(b=oa("gapi.auth2.getAuthInstance"))?b():null)&&b.isSignedIn.get()){var c=(b=b.currentUser.get().getAuthResponse(!0))&&b.access_token;b=c?{Authorization:(b.token_type||"Bearer")+" "+c}:null}else b=null;if(!b){b=a;var d=void 0===d?WWf():d;a={};(c=E8d([]))&&(a.Authorization=c);b||(b=(b=oa("gapi.config.get"))&&b("client/apiKey"));b&&(a["X-Goog-Api-Key"]=b);d&&(a["X-Goog-AuthUser"]=String(d));b=a}return b};function YWf(a,b){return 1>a||!isFinite(a)?Promise.reject("gapi.client missing"):(new Promise(function(c){return ma.setTimeout(c,b)})).then(function(){return ZWf(a-1,2*b)})}function ZWf(a,b){a=void 0===a?0:a;b=void 0===b?5E3:b;var c=ma;try{do var d=c.gapi;while(!d&&c!==c.top&&(c=c.parent))}catch(e){}if(!d)return YWf(a,b);ma.gapi||(ma.gapi=d);return d.client?Promise.resolve(d):new Promise(function(e,f){d.load("client",function(){d.client?e(d):f("gapi.client missing")})})}
function $Wf(){var a=void 0===a?"":a;var b=void 0===b?WWf():b;var c=oa("gapi.config.update");c("googleapis.config/auth/useFirstPartyAuth",!0);c("googleapis.config/auth/useFirstPartyAuthV2",!0);b&&c("googleapis.config/sessionIndex",b);a&&c("client/apiKey",a)};function aXf(a){K(this,a,0,-1,null,null)}A(aXf,J);function bXf(){this.H=new RWf([["AIzaSyBuUpn1wi2-0JpM3S-tq2csYx0z2_m_pqc","ANVavNLWozk6oXyP9qguyx4QAuef5j_qQw4Y3Rw",741,"MINIMAL_DOMAIN_GROUP","DOCOS_MENTIONS",null,null,null,null,!1,!0,null,null,250,null,"person.name,person.photo,person.email,person.metadata"],[]]);this.F=new aXf;this.D=null}function A5(a){return O(a.H,OWf,1)}function cXf(a){return O(a.H,PWf,2)}function dXf(a){a.D||(a.D=ZWf(10,5E3).then(function(b){return b.client}));return a.D}
function eXf(a,b){b&&(a.D=b.then(aa(),function(){return ZWf(10,5E3).then(function(c){return c.client})}))};var fXf=window&&window.performance&&window.performance.now&&window.performance.timing&&window.performance.timing.navigationStart?function(){return window.performance.timing.navigationStart+window.performance.now()}:function(){return Date.now()};function gXf(a){this.F=a;this.D=NaN}gXf.prototype.duration=function(){return this.D-this.F};gXf.prototype.stop=function(a){this.D=a;return this.duration()};function B5(a){var b=void 0===b?fXf:b;this.J=a;this.H=b;this.D=new Map;this.F="_"}w=B5.prototype;w.source=p("J");function hXf(a,b){b&&(a.F=b);return a.F}w.duration=function(a){a=hXf(this,void 0===a?"":a);return this.D.has(a)?this.D.get(a).duration():NaN};
function iXf(a,b){a=a.duration(void 0===b?"":b);a=Math.round(1E3*a);return isFinite(a)?a:null}w.toString=function(a,b){b=void 0===b?1:b;return this.duration(void 0===a?"":a).toFixed(b)};w.start=function(a){a=void 0===a?"":a;var b=this.H();a=hXf(this,a);this.D.set(a,new gXf(b));return this};w.stop=function(a){a=void 0===a?"":a;var b=this.H();a=hXf(this,a);this.D.has(a)&&this.D.get(a).stop(b);return this};w.clear=function(){this.D.clear();return this};function jXf(a){K(this,a,0,-1,kXf,null)}A(jXf,J);var kXf=[7];function lXf(a){K(this,a,0,-1,null,null)}A(lXf,J);function mXf(a){K(this,a,0,-1,nXf,null)}A(mXf,J);var nXf=[6];function oXf(a,b){this.D=a;this.H=b;this.F=Eca()||vb("iPod")?4:vb("iPad")?5:vb("Android")?B8a()?3:2:Znc()?1:0}function pXf(a){var b=a.H.D(),c=new lXf,d=L(b,3);N(c,2,d);N(c,1,a.F);N(c,3,1);a=new mXf;Fj(a,3,c);c=L(b,4);N(a,5,c);c=L(b,8);N(a,9,c);c=L(b,9);N(a,2,c);b=Math.round(L(b,5));isFinite(b)&&N(a,7,b);return a}function qXf(a,b){var c=new rY;K8d(c,b.Ta());a.D&&a.D.log(c)};function rXf(a,b){this.D=a;this.F=b}function sXf(a){var b=a.D();var c=null;if(Cj(b,6)){c=new $8d(L(b,2),WWf());var d=L(b,7);d&&d.length&&(b=new KNf,N(b,3,d||[]),d=c,b?(d.J||(d.J=new $Mf),b=b.Ta(),N(d.J,4,b)):d.J&&N(d.J,4,void 0))}c=new oXf(c,a);return new rXf(c,a)};function tXf(){var a=new jXf;this.O=N(a,1,"ppl.store")}tXf.prototype.D=p("O");tXf.prototype.F=t(null);tXf.prototype.J=t(null);tXf.prototype.H=t(null);function uXf(a){this.D=a}w=uXf.prototype;w.start=function(a,b){a.start(b);return this};w.stop=function(a,b){a.stop(b);return this};w.count=function(a){var b=this.D,c=pXf(b.D);(a=b.F.F(c,a))&&qXf(b.D,a);return this};w.status=function(a,b){var c=this.D,d=pXf(c.D);(a=c.F.J(d,a,b))&&qXf(c.D,a);return this};
w.error=function(){var a=this.D;pXf(a.D);var b=a.F.H();b&&qXf(a.D,b);return this};function vXf(a){this.H=a;this.F=0}function wXf(a){var b=new xXf;a=new vXf(a);a.O=b;a.F=b.getError();return a}function yXf(a,b){b=new vXf(b);b.F=a;b.J="Palvelimen virhe.";return b}vXf.prototype.getError=p("F");function zXf(a,b,c){this.Yp=a;this.D=b;this.group=c||""+a.F++}A(zXf,B);w=zXf.prototype;w.Po=p("group");w.Ri=function(){return this.getState().Ri()};w.reset=function(){this.getState().reset()};w.Qi=function(){return this.getState().Qi()};w.cancel=function(){this.Yp.cancel(this.getState())};w.getState=function(){return this.Yp.getState(this.group)};w.rza=function(){this.getState();this.D(this)};function AXf(a){this.Yp=a;this.F=0;this.reset()}A(AXf,B);AXf.prototype.reset=function(){this.H=this.F;this.J=!1;this.D=1;this.R=this.O=-1};AXf.prototype.Ri=p("J");AXf.prototype.Qi=function(){return!(4==this.D||5==this.D)};AXf.prototype.wa=function(){AXf.Ia.wa.call(this);this.Yp=null};function BXf(){this.D={};this.F=1}A(BXf,B);BXf.prototype.schedule=function(a,b,c,d){b=b||0;var e=Ca()+b,f=this.D[a.Po()];f||(f=new AXf(this),this.D[a.Po()]=f);f.F=Math.max(c||1,f.F);switch(f.D){case 1:case 5:f.reset();CXf(a,b,e);break;case 6:CXf(a,b,e);break;case 4:d&&(f.reset(),CXf(a,b,e));break;case 2:e<f.O?(this.cancel(f),f.reset(),CXf(a,b,e)):f.H=f.F}};function CXf(a,b,c){0==b?(a.getState().D=3,a.rza()):(a.getState().D=2,a.getState().O=c,b=Ze(a.rza,b,a),a.getState().R=b)}
BXf.prototype.getState=function(a){return this.D[a]};BXf.prototype.wa=function(){BXf.Ia.wa.call(this);for(var a in this.D){var b=this.D[a];this.cancel(b);He(b)}this.D={}};BXf.prototype.cancel=function(a){2==a.D&&$e(a.R)};var DXf={YDb:"vh",QDa:"wh"};function EXf(a,b){Ne.call(this,a&&a[0].getError()?"wh":"vh");this.F=a;this.H=b||"yh";"wh"==this.type||null==FXf(this)||FXf(this)}x(EXf,Ne);function FXf(a){if(!a.D){if(!a.F)return null;var b=[];Ha(a.F,function(c){c=c.D().H();b&&c?b=b.concat(c):b=null});a.D=b}return a.D}EXf.prototype.getSource=p("H");function GXf(){B.call(this);this.D=new C;this.F=new C;this.H=new KY}x(GXf,B);GXf.prototype.dispatchEvent=function(a){this.F.dispatchEvent(a);this.D.dispatchEvent(a)};GXf.prototype.wa=function(){B.prototype.wa.call(this);this.D.dispose();this.D=null;this.F.dispose();this.F=null};var HXf=new Map([["personal",2],["domain",4],["pcab",3]]);function IXf(a){K(this,a,0,-1,null,null)}A(IXf,J);function JXf(a){K(this,a,0,-1,null,null)}A(JXf,J);JXf.prototype.Qc=function(){return Dj(this,4,2)};JXf.prototype.Vj=function(){return null!=L(this,4)};function KXf(a){K(this,a,0,-1,null,null)}A(KXf,J);KXf.prototype.Qc=function(){return Dj(this,1,2)};KXf.prototype.Vj=function(){return null!=L(this,1)};function LXf(a){K(this,a,0,-1,null,null)}A(LXf,J);function MXf(a){K(this,a,0,-1,null,null)}A(MXf,J);MXf.prototype.Qc=function(){return Dj(this,3,2)};MXf.prototype.Vj=function(){return null!=L(this,3)};function NXf(a){K(this,a,0,-1,null,null)}A(NXf,J);function C5(a){K(this,a,0,-1,null,OXf)}A(C5,J);var OXf=[[4,5,6,7,8]];function PXf(a,b){return Fj(a,1,b)}C5.prototype.getSource=function(){return L(this,2)};C5.prototype.Ee=function(a){return N(this,2,a)};function QXf(a,b){return N(a,3,b)}function RXf(a,b){return Fj(a,9,b)};function SXf(a){K(this,a,0,-1,null,null)}A(SXf,J);function TXf(a){var b=new UXf;return N(b,1,a)}function VXf(a){var b=TXf(4);return N(b,2,a)}function WXf(a){var b=TXf(2);return N(b,5,a)}function XXf(a,b){return N(a,6,b)}SXf.prototype.getToken=function(){return Dj(this,7,"")};SXf.prototype.setToken=function(a){return N(this,7,a)};function UXf(a){SXf.call(this,a)}x(UXf,SXf);UXf.prototype.toString=function(){return SXf.prototype.toString.call(this)};function YXf(a,b){b=void 0===b?0:b;this.O=a;this.V=b;switch(b){case 1:var c="ppl.store.peopleapi";b=Ej(cXf(a),1,!0);break;case 2:c="ppl.store.ppl.store.ozcontactstore";b=Ej(cXf(a),2,!0);break;default:c="ppl.store",b=!1}var d=new jXf;c=N(d,1,c);c=N(c,2,932);d=L(A5(a),3);c=N(c,3,d);c=N(c,4,"1011");c=N(N(c,5,287339940),8,3);b=N(c,6,b);a=L(cXf(a),4);a=N(b,7,a||[]);this.R=$ka(a,7,20090307)}YXf.prototype.D=p("R");
YXf.prototype.F=function(a,b){b=b.source();var c=ZXf(this);switch(Dj(b,1,0)){case 2:case 3:a=QXf(RXf(PXf(new C5,a),c).Ee(2),2);c=new LXf;var d=Dj(b,5,0);c=N(c,1,d);b=Dj(b,6,0);b=N(c,2,b);return mL(a,5,OXf[0],b);case 4:case 5:return a=QXf(RXf(PXf(new C5,a),c),4),c=new IXf,b=Dj(b,2,0),b=N(c,1,b),mL(a,7,OXf[0],b);default:return null}};
YXf.prototype.J=function(a,b,c){var d=b.source(),e=ZXf(this);switch(Dj(d,1,0)){case 1:d=QXf(RXf(PXf(new C5,a),e).Ee(1),1);a=this.V;e=new KXf;e=N(e,1,c);if(0==c||4==c)c=iXf(b,"total"),c=N(e,2,c),b=iXf(b,"blocked"),b=N(c,3,b),N(b,5,a);return mL(d,4,OXf[0],e);case 2:case 3:a=QXf(RXf(PXf(new C5,a),e).Ee(2),3);e=new MXf;var f=Dj(d,5,0);e=N(e,1,f);d=Dj(d,6,0);d=N(e,2,d);d=N(d,3,c);if(0==c||4==c)c=iXf(b,"total"),c=N(d,4,c),e=iXf(b,"blocked"),c=N(c,5,e),b=iXf(b,"network"),N(c,6,b);return mL(a,6,OXf[0],d);
case 4:case 5:a=QXf(RXf(PXf(new C5,a),e),5);e=new JXf;f=Dj(d,2,0);f=N(e,1,f);var g=Dj(d,3,0);f=N(f,8,g);d=Dj(d,4,0);d=N(f,9,d);N(d,4,c);if(0===c||4===c)b=iXf(b,"total"),N(e,5,b);return mL(a,8,OXf[0],e);default:return null}};YXf.prototype.H=t(null);function ZXf(a){a=a.O.F;var b=new NXf;var c=!!L(a,2);b=N(b,4,c);null!=L(a,7)&&(c=L(a,7),N(b,2,c));a=L(a,6)||0;N(b,1,a);return b};function $Xf(a){return WXf(1).setToken(a)}function aYf(a){return XXf(WXf(2),a)};var bYf=new Map([[200,0],[400,3],[401,16],[403,7],[404,5],[409,10],[416,11],[429,8],[499,1],[-1,1],[504,4],[501,12],[503,14]]),cYf=new Map([[0,0],[1,11],[2,1],[3,3],[4,10],[5,8],[6,7],[7,2],[16,2],[8,6],[9,7],[10,11],[11,9],[12,5],[13,9],[14,4],[15,6]]),dYf=new Map([[0,0],[11,1],[1,2],[3,3],[10,4],[8,5],[2,16],[6,8],[7,9],[5,12],[9,13],[4,14]]);function eYf(a){return cYf.has(a)?cYf.get(a):1}function fYf(a){return dYf.has(a)?dYf.get(a):2};function gYf(a,b){this.O={};this.F=[];this.W=[];this.R=new BXf;this.va=new bf(this);this.aa=!a;this.V=[];this.H=a||new GXf;(a=b)||(a=new uXf(sXf(new tXf)));this.D=a;this.V.push(this.H)}A(gYf,B);w=gYf.prototype;w.q3=function(a,b){this.F.push(a);b&&this.W.push(a);this.O[a.getId()]=a;this.va.ga(a,Db(DXf),z(this.sjb,this))};w.sjb=function(a){this.H.dispatchEvent(a)};
w.Hn=function(a,b){var c=this,d=VXf(2),e=new B5(d);this.D.count(e);this.D.start(e,"total");return hYf(this,a,function(f){return f.Hn},function(f,g,k,l,m){iYf(function(n,q,r,u){var v=q===SRf||q instanceof vVf?2:1,y=e.source();N(y,3,v);v=e.source();y=r?HXf.get(r)||1:1;N(v,4,y);c.D.stop(e,"total");c.D.status(e,fYf(m||0));b&&b(n,q,r,u,m)},f,g,k,l)})};
function hYf(a,b,c,d){var e=new jYf(d,a.D,void 0),f;if(b.AW){var g=a.O[b.AW];0<b.J||1<b.O?f=kYf(a,g,c(g),b,d):f=c(g).call(g,b,d);f&&e.add(f)}else for(var k=0;k<a.F.length;k++)g=a.F[k],0<b.J||1<b.O?f=kYf(a,g,c(g),b,d):f=c(g).call(g,b,d),f&&e.add(f);return e}
w.execute=function(a){var b=this,c=VXf(1),d=new B5(c);this.D.count(d);this.D.start(d,"total");lYf(this,a);a.R(function(e){var f=e?fYf(e.F):2;e=(e=e?e.H:null)?e.ofa():"";var g=d.source();N(g,3,e?1:2);g=d.source();e=e?e?HXf.get(e)||1:1:0;N(g,4,e);b.D.stop(d,"total");b.D.status(d,f)});return this.ea&&(c=a.V(this.ea,function(e){return mYf(b,e,d)}))?c:mYf(this,a,d)};function lYf(a,b){Ha(a.V,h());b.D()&&(b=b.H())&&(b=b.F())&&lYf(a,b)}
function mYf(a,b,c){if(b.D()){var d=b.H();d&&(d=d.D())&&a.H.H.set(d,Ca())}if(d=b.aa())if(d=a.O[d])return d.execute(b);c=new jYf(void 0,a.D,c);for(var e=0;e<a.F.length;e++)d=a.F[e],d.execute&&c.add(d.execute(b));return c}function kYf(a,b,c,d,e){b=z(a.Fkb,a,b,c,d,e);b=new zXf(a.R,b,d.name);a.R.schedule(b,d.J,d.O,d.na);return new nYf(b)}
w.Fkb=function(a,b,c,d,e){e.request=b.call(a,c,function(f,g,k,l,m){var n=e.Yp;var q=!m;e.getState();e.getState().J=q;var r=e.getState();--r.H;!q&&0<e.getState().H?(e.getState().D=6,n.schedule(e,Math.max(100,Math.round(45E3*Math.random()))),n=!1):(n=q?4:5,e.getState().D=n,n=!0);n&&d&&d(f,g,k,l,m)})};function iYf(a,b,c,d,e){a&&(b&&(e.filter&&(b=e.filter(b,e.D)),oYf(b)),a(b||[],c,d,e))}
function oYf(a){if(0<a.length)for(var b=a[0].xga(),c=1;c<a.length;c++){var d=a[c],e=d.xga();e<b&&(d.ea=d.ea|1,b=e)}}w.wa=function(){gYf.Ia.wa.call(this);He(this.R);this.R=null;Ha(this.W,He);this.W=this.O=this.F=null;He(this.va);this.va=null;Ha(this.V,function(a){a!=this.H&&He(a)},this);this.V=null;this.aa&&(He(this.H),this.H=null)};function pYf(a){var b=new YXf(a,0);N(b.D(),1,"ppl.store");a=Ej(cXf(a),3,!0);N(b.D(),6,a);return new uXf(sXf(b))}
function jYf(a,b,c){this.D=[];this.Rc=a;this.H=b;this.ab=c;this.F=""}w=jYf.prototype;w.h4=ba("F");w.ofa=p("F");w.add=function(a){this.D.push(a)};w.isEmpty=function(){return 0==this.D.length};w.cancel=function(){this.Qi()&&this.H&&this.ab&&this.H.status(this.ab,1);for(var a=0;a<this.D.length;a++)this.D[a].cancel()};w.Qi=function(){for(var a=0;a<this.D.length;a++)if(this.D[a].Qi())return!0;return!1};function nYf(a){this.D=a;this.request=null}
nYf.prototype.cancel=function(){this.D.cancel();this.request&&this.request.cancel()};nYf.prototype.Qi=function(){return this.D.Qi()||this.D.request&&this.D.request.Qi()};function qYf(a,b){this.text=a;this.ia=b}A(qYf,URf);qYf.prototype.getName=t(null);qYf.prototype.getEmail=t(null);qYf.prototype.getType=t("sr");qYf.prototype.xga=t(0);function rYf(a,b){gYf.call(this,a,b)}A(rYf,gYf);rYf.prototype.q3=function(a,b){if(1==this.F.length){var c=this.J=new sYf(this.D);c.D.push(new tYf(c,c.D.length,this.F[0]))}rYf.Ia.q3.call(this,a,b);this.J&&(b=this.J,b.D.push(new tYf(b,b.D.length,a)))};rYf.prototype.Hn=function(a,b){return this.J&&a.V&&!a.AW?this.J.Hn(a,b):rYf.Ia.Hn.call(this,a,b)};function sYf(a){this.D=[];this.F=null;this.J=a}sYf.prototype.Hn=function(a,b){a=new uYf(a,this.J,b);vYf(this,a);return a};
function vYf(a,b,c,d){a.F=[];for(var e=0;e<a.D.length&&!(e==c?a.F[e]=d:a.D[e].Hn(b),0==e&&a.F[e]&&a.F[e].length>=b.query.F);e++);c=b.query;d=a.F;var f=[];e=!1;for(var g,k=0;k<d.length&&f.length<c.F;k++)if(d[k]){g=f.length;e=!0;var l=d[k],m=c.F,n=f.length;if(0==n)f=l.length>m?l.slice(0,m):l;else for(var q=0;q<l.length;q++){for(var r=null,u=0;u<n&&!(r=wYf(f[u],l[q]));u++);if(r)r===l[q]&&(f[u]=r);else if(f.length==n?f=f.concat(l[q]):f.push(l[q]),f.length==m)break}0<g&&f.length>g&&(f[g].ea=f[g].ea|1)}e?
(oYf(f),c=f):c=null;c&&b.Rc&&a.D[0]&&a.D[0].O&&b.Rc(c,b,null,b.query);a.F=null}function wYf(a,b){if(a.ia||b.ia)return null;if(a.text==b.text)return a;if(a.getEmail()==b.getEmail()&&a.getType()==b.getType()){if(!b.getName())return a;if(!a.getName())return b}return null}function xYf(a,b,c,d){a.F?a.F[c]=d:vYf(a,b,c,d)}sYf.prototype.H=h();function tYf(a,b,c){this.D=a;this.Nb=b;this.F=c;this.R=0;this.H=!1}
tYf.prototype.Hn=function(a){var b=this,c=a.J[this.Nb];if(!c){this.H=!0;this.O=!1;var d=Ca(),e=this.F.Hn(a.query,function(f,g,k,l,m){m=void 0===m?0:m;b.O=!0;b.H||(b.R=Ca()-d);a.query.filter&&f&&(f=a.query.filter(f,a.query.D));g=b.Nb;k=b.F.getId();a.J[g]=f;a.H[g]=m;a.F[g]=k;xYf(b.D,a,b.Nb,f)});a.D[this.Nb]=e;this.H=!1;this.O||a.query.V&&300<this.R&&(c=[yYf(this)])}c&&xYf(this.D,a,this.Nb,c)};
function yYf(a){var b=a.F.Cd;return new qYf(b?"Etsit\u00e4\u00e4n osumia osoitteesta "+b:"Etsit\u00e4\u00e4n lis\u00e4\u00e4 osumia.",a.D.H)}tYf.prototype.dispose=function(){this.D=this.J=null};
function uYf(a,b,c){var d=this;this.query=a;this.D={};this.J={};this.F=[];this.H=[];var e=new B5(VXf(2));b.count(e);b.start(e,"total");this.Rc=function(f,g,k,l){d.F.forEach(function(m,n){var q=d.D[n];q=q===SRf||q instanceof vVf?2:1;var r=e.source();N(r,3,q);q=e.source();m=m?HXf.get(m)||1:1;N(q,4,m);b.stop(e,"total");b.status(e,fYf(d.H[n]))});d.F=[];c&&c(f,g,k,l)}}uYf.prototype.cancel=function(){for(var a in this.D)this.D[a].cancel();this.D={}};
uYf.prototype.Qi=function(){for(var a in this.D)if(this.D[a].Qi())return!0;return!1};var zYf={198:"AE",230:"ae",306:"IJ",307:"ij",338:"AE",339:"ae"};
function AYf(a){for(var b=[],c=0,d=0;d<a.length;d++){var e=a.charCodeAt(d);if(192>e||382<e)e=null;else{var f=zYf[e];f?e=f:(f="AAAAAA*CEEEEIIIIDNOOOOOx0UUUUYpBaaaaaa*ceeeeiiiionooooo^ouuuuypyAaAaAaCcCcCcCcDdDdEeEeEeEeEeGgGgGgGgHhHhIiIiIiIiIi**JjKkkLlLlLLLlllNnNnNnnNnOoOoOo**RrRrRrSsSsSsSsTtTtttUuUuUuUuUuUuWwYyYZzZzZz"[e-192],e="^"==f?null:f)}e&&(c!=d&&b.push(a.substr(c,d-c)),c=d+1,b.push(e))}return 0<b.length?(b.push(a.substr(c)),b.join("")):a};function BYf(a,b,c,d,e,f){C.call(this);this.R=e||0;this.aa=f||CYf;this.D=new KY(this.R,!0);this.H=a||0;this.V=b||0;this.J=c||0;this.F=!!d}A(BYf,C);BYf.prototype.wa=function(){BYf.Ia.wa.call(this);this.D=null};BYf.prototype.clear=function(){this.D.clear()};function CYf(a){var b=iG(AYf(a.D));return function(c){var d=new RegExp("(^|\\W+)"+b,"i");(d=null!=AYf(String(c[1])).match(d))||(d=c[0],d=null!=c[2].match(new RegExp("^"+b,"i"))&&"cl"!=String(d));return d}}
function DYf(a,b){var c="^"+a.D.toLowerCase();b&&(a.R||(c="nc"+c),a.H||(c="ng"+c),a.W||(c="np"+c),a.aa||(c="na"+c));a.ma&&(c="pa"+c);return c}function EYf(a,b,c){a.D.set(DYf(b,a.F),c);if(a.H&&(b=a.D.Dd(),b>a.H)){c=Ca()-a.V;do{if(a.D.D.ul.value.BJ>=c)break;a.D.pop()}while(--b>a.H)}}function FYf(a,b,c){c?c=a.D.get(b):c=(c=a.D.F.get(b))?c.value:void 0;return c&&a.J&&c.BJ+a.J<Ca()?(a.D.remove(b),null):c}
function GYf(a,b,c){c=b.length-c.length;for(var d=b.length;d>=c;d--){var e=FYf(a,b,!1);if(e)return e;b=b.substr(0,d-1)}return null}function HYf(a,b){if(b.aa)return null;var c=DYf(b,a.F),d=GYf(a,c,b.D);return d?d:a.F&&!nb(c,"^")?(c=DYf(b,!1),GYf(a,c,b.D)):null}function IYf(a,b,c){this.D=a;this.F=b;this.H=!!c;this.count=1;this.BJ=Ca()};function D5(a,b,c,d){C.call(this);this.Xe=!1;this.Cd=null;this.F=b;this.Nb=c;this.D=a;JYf(this.D,this.Nb);d&&Re(d.D,"vh",this.xfb,!1,this)}A(D5,C);w=D5.prototype;w.jX=function(a,b){this.Cd=b;this.Xe||(this.Xe=!0)};w.getId=p("Nb");
w.Hn=function(a,b){if(this.Xe){var c=this.F;if(pb(a.D)&&!c.O)var d=RRf;else{d=a.F;var e=FYf(c,DYf(a,c.F),!0);(d=e&&d&&e.H&&!(0<=d&&d<=e.F.length)?null:e)?d=d.F:(d=HYf(c,a))&&0==d.F.length?(EYf(c,a,new IYf(a.D,RRf)),d=RRf):d&&!d.H&&c.W?(d=Ja(d.F,c.aa(a),c),EYf(c,a,new IYf(a.D,d))):d=null}d&&0<=a.F&&d.length>a.F&&(d=d.slice(0,a.F));return(c=d)?(b&&b(c,SRf,this.getId(),a),SRf):this.D.Hn(a,this.getId(),z(this.CHa,this,b))}b&&b(RRf,SRf,this.getId(),a,4);return SRf};
w.CHa=function(a,b,c,d,e,f){f||EYf(this.F,e,new IYf(e.D,b,-1!=e.F&&b.length>=e.F));a&&(b&&0<=e.F&&b.length>e.F&&(b=b.slice(0,e.F)),a(b,c,d,e,f))};w.xfb=function(){this.F.clear()};w.wa=function(){D5.Ia.wa.call(this);this.F.dispose();this.F=null;KYf(this.D,this.Nb);this.D=null};function LYf(a,b,c){BYf.call(this,100,18E5,432E5,!0,0,c||MYf);this.W=a;this.O=b}x(LYf,BYf);function MYf(a){return function(b){var c=b.getType(),d;if(d=NYf(a,c)){d=new RegExp("(^|\\W+)"+iG(AYf(a.D)),"i");var e=AYf(b.getName()||"");(d=d.test(e))||(d=a.D,d=((b=b.getEmail())?(new RegExp("^"+iG(AYf(d)),"i")).test(b):!1)&&"cl"!=c)}return d}}function NYf(a,b){switch(b){case "ct":return a.R;case "cl":case "li":return a.H;case "pt":return a.W}return!1};function OYf(a,b,c){this.H=!!c;b=b||new LYf(!0,!1,PYf);D5.call(this,a,b,"domain")}A(OYf,D5);OYf.prototype.Hn=function(a,b){a.H&&!this.H&&(a=Ob(a),a.H=!1);return OYf.Ia.Hn.call(this,a,b)};
function PYf(a){for(var b=Jc(a.D).toLowerCase().split(/\s+/),c=[],d=[],e=0;e<b.length;e++){var f=iG(b[e]),g=new RegExp("^"+f,"i");c.push(new RegExp("(^|\\W+)"+f,"i"));d.push(g)}return function(k){if(NYf(a,k.getType())){for(var l=0;l<c.length;l++)if(!k.getName().match(c[l])&&!k.getEmail().match(d[l]))return!1;return!0}return!1}}OYf.prototype.execute=function(a){a=this.D.execute(a);a.h4(this.getId());return a};function QYf(a){var b={};if(a){a=ia(a);for(var c=a.next();!c.done;c=a.next()){var d=c.value;c=d.containerType;d=d.id||"";c&&d&&(b[c]=b[c]||d)}}return b}function RYf(a,b){this.J=a;this.D=b.CONTACT||"";this.H=b.DOMAIN_CONTACT||"";this.F=b.PROFILE||b.DOMAIN_PROFILE||""}
function SYf(a){if(!a)return TYf;var b=QYf(oa("metadata.identityInfo.sourceIds",a)),c=oa("metadata.contactId",a);c&&c[0]?b.CONTACT=c[0]:b.CONTACT&&(c=parseInt(b.CONTACT,16),isFinite(c)&&(b.CONTACT=String(c)));return new RYf(a.personId||"",b)}var TYf=new RYf("",{});function UYf(a,b){this.F=a;this.D=b}UYf.prototype.toString=t("");function VYf(a,b){this.F=a||{};this.D=b}VYf.prototype.toString=t("");function WYf(a){return XYf(a).some(function(b){return!b.F})}VYf.prototype.getSource=function(a){return XYf(this)[a]};function XYf(a){return a.D?YYf(a.D,a.F.encodedContainerId,a.F.containerType):[]}function ZYf(a){return a.D?$Yf(a.D,a.F.edgeKeyInfo):[]}var aZf=new VYf({},null);function bZf(a,b){this.D=a;this.H=b;this.F=null}bZf.prototype.toString=t("");bZf.prototype.getValue=function(){return this.D.value||""};var cZf=new bZf({},null);function dZf(a,b){this.D=[];a=ia(a);for(var c=a.next();!c.done;c=a.next())this.D.push(new bZf(c.value,b))}dZf.prototype.toString=t("");function eZf(a,b){return a.D[b]||cZf}var fZf=new dZf([],null);function gZf(a,b){this.D=a||{};this.H=b;this.F=null}gZf.prototype.toString=t("");function hZf(a){a.F||(a.F=new VYf(a.D.metadata,a.H));return a.F}gZf.prototype.getValue=function(){return this.D.displayName||this.D.formattedName||this.D.formattedValue||this.D.value||""};var iZf=new gZf({},null);function jZf(a){this.D=a}jZf.prototype.toString=t("");jZf.prototype.getValue=function(){return this.D.getValue()};var kZf=new jZf(iZf);var lZf=["CONTACT","PROFILE","DOMAIN_PROFILE"];function mZf(a,b){this.D=[];a=ia(a);for(var c=a.next();!c.done;c=a.next())this.D.push(new gZf(c.value,b))}mZf.prototype.toString=t("");var nZf=new mZf([],null);function oZf(a){this.D=a}oZf.prototype.toString=t("");oZf.prototype.getValue=function(){return this.D.value||""};var pZf=new oZf({});function qZf(a){this.D=[];a=ia(a);for(var b=a.next();!b.done;b=a.next())this.D.push(new oZf(b.value))}qZf.prototype.toString=t("");var rZf=new qZf([]);function sZf(a,b){this.D=a;this.H=b;this.F=null}sZf.prototype.toString=t("");var tZf=new sZf({},null);function uZf(a,b){this.D=[];a=ia(a);for(var c=a.next();!c.done;c=a.next())c=c.value,c.isMonogram||c.isDefault||this.D.push(new sZf(c,b))}uZf.prototype.toString=t("");var vZf=new uZf([],null);function wZf(a){return a.extendedData&&a.extendedData.contactPreferences?a.extendedData.contactPreferences.map(function(b){return xZf(b.name,b.email)}).join(", "):""}function yZf(a,b,c,d,e){this.F=a;this.H=b;this.D=c;this.J=d;this.O=this.R=this.aa=this.ze=null;this.ea=void 0===e?0:e;this.W=this.V=null}w=yZf.prototype;
w.toString=function(){if(null==this.ze){if(this.D){var a=this.D.extendedData&&this.D.extendedData.contactPreferences?this.D.extendedData.contactPreferences.length:0;a=1==a?"(1\u00a0kontakti)":"("+(a+"\u00a0kontaktia)");a=this.getName().getValue()+" "+a}else a=this.F||this.H?xZf(this.getName().getValue(),eZf(this.getEmail(),this.ea).getValue()):"";this.ze=a}return this.ze};
w.getName=function(){if(!this.R){a:{var a=zZf(this);if(a.D.length){for(var b=ia(lZf),c=b.next();!c.done;c=b.next()){c=c.value;for(var d=ia(a.D),e=d.next();!e.done;e=d.next())if(e=e.value,hZf(e).F.containerType===c){a=new jZf(e);break a}}a=new jZf(a.D[0])}else a=kZf}this.R=a}return this.R};function zZf(a){if(!a.aa){var b;a.F?b=a.F.name:a.H?b=a.H.names:a.D&&(b=[a.D.name]);a.aa=b?new mZf(b,a.J):nZf}return a.aa}w.QG=function(){return!!eZf(this.getEmail(),0).getValue()};
w.getEmail=function(){if(!this.O){var a=null;this.F?a=this.F.email:this.H?a=this.H.emails:this.D&&(a=[{value:wZf(this.D)}]);this.O=a?new dZf(a,this.J):fZf}return this.O};w.Qc=t(null);w.Vj=function(){return!!this.Qc()};w.hasAttribute=function(a){return!!this.getAttribute(a)};w.getAttribute=t(null);w.Uba=t(!1);function xZf(a,b){return a?b&&a!=b?'"'+a.replace(/[\\"]/g,"\\$&")+'" <'+b+">":a:b||""}var AZf=new yZf(null,null,null,null);function BZf(){this.D=new Map}function CZf(a,b,c){return c.map(function(d){return a.get(b,d)}).filter(function(d){return null!=d})}BZf.prototype.get=function(a,b){"DOMAIN_PROFILE"===b&&(b="PROFILE");return this.contains(a,b)?this.D.get(a+"="+b):null};BZf.prototype.set=function(a,b,c){"DOMAIN_PROFILE"===b&&(b="PROFILE");this.D.set(a+"="+b,c)};BZf.prototype.contains=function(a,b){"DOMAIN_PROFILE"===b&&(b="PROFILE");return this.D.has(a+"="+b)};function DZf(a){this.D=a?new yZf(a,null,null,null):AZf}DZf.prototype.toString=t("");var EZf=new DZf(null);var FZf=new UYf(!0,null);function GZf(a,b,c){var d=[];a&&(HZf("name",a.name,b,d,c),HZf("phone",a.phone,b,d,c),HZf("photo",a.photo,b,d,c));return d.map(function(e){return new DZf(e)})}
function HZf(a,b,c,d,e){if(b){b=ia(b);for(var f=b.next();!f.done;f=b.next())if(f=f.value,"CONTACT"!==oa("metadata.containerType",f)){var g=c,k=d,l=e,m=oa("metadata.encodedContainerId",f),n=oa("metadata.containerType",f);if(g.contains(m,n))var q=g.get(m,n)||0;else q=k.length,g.set(m,n,q),k.push({}),l.push(m);q=k[q];q[a]=q[a]||[];q[a].push(f)}}}function IZf(a){this.D=new BZf;this.F=new Map;this.J=[];this.H=GZf(a,this.D,this.J)}IZf.prototype.get=function(a){return this.H[a]||EZf};
function $Yf(a,b){return b?b.map(function(c){return a.D.get(c.containerId,c.containerType)}).filter(function(c){return null!=c}):[]}IZf.prototype.getSize=function(){return this.H.length};function YYf(a,b,c){if(!b||!c)return[];if("CONTACT"===c)return[FZf];var d=b+"="+c;a.F.has(d)||a.F.set(d,CZf(a.D,b,[c]).map(function(e){return new UYf(!1,e)}));return a.F.get(d)}new IZf(null);function JZf(a,b){if(a){a=zZf(a);for(var c=0;c<a.D.length;c++){var d=a.D[c]||iZf;if(d.getValue()&&(!b||b(hZf(d))))return d.getValue()}}return null}function KZf(a,b){if(a){if(!a.W){var c;a.F&&(c=a.F.photo);a.W=c?new uZf(c,a.J):vZf}a=a.W;for(c=0;c<a.D.length;c++){var d=a.D[c]||tZf,e;(e=!!d.D.url)&&!(e=!b)&&(d.F||(d.F="metadata"in d.D?new VYf(d.D.metadata,d.H):aZf),e=b(d.F));if(e)return d.D.url||""}}return null}
function LZf(a,b,c){a=void 0===a?null:a;b=void 0===b?0:b;c=void 0===c?!1:c;this.J=a&&a.person||null;this.aa=a&&a.googleGroup||null;this.R=a&&a.contactGroup||null;this.V=new IZf(this.J);this.W=b;this.D=new yZf(this.J,this.aa,this.R,this.V,this.W);this.H=this.F=this.O=null;this.text=c?this.getName()||"":this.D.toString()}x(LZf,URf);w=LZf.prototype;w.toString=function(){return"cl"===this.getType()?this.getEmail()||"":this.text};
w.getId=function(){if(!this.O){if(this.J)var a=SYf(this.J);else if(this.aa)if(a=this.aa){var b=QYf(a.sourceIds);a=new RYf(a.personId||"",b)}else a=TYf;else this.R?(a=this.R)?(b={},b.CONTACT=oa("id.id",a)||"",a=new RYf("",b)):a=TYf:a=TYf;this.O=a}return this.O.D};w.getName=function(){null===this.F&&(this.F=JZf(this.D,function(a){return!!a&&!WYf(a)}),null===this.F&&(this.F=MZf(this,JZf)));return this.F};w.getEmail=function(){return eZf(this.D.getEmail(),this.W).getValue()};
w.getType=function(){var a=this.D;if(a.D)a="cl";else if(a.H)a="li";else{var b;if(b=!a.QG()){if(!a.V){var c;a.F?c=a.F.phone:a.H&&(c=a.H.phones);a.V=c?new qZf(c):rZf}b=(a.V.D[0]||pZf).getValue()}a=b?"pt":"ct"}return a};w.xga=t(0);function bSf(a){null===a.H&&(a.H=KZf(a.D,function(b){return!!b&&!WYf(b)}),null===a.H&&(a.H=MZf(a,KZf)));return a.H}
function MZf(a,b){var c=eZf(a.D.getEmail(),a.W);c.F||(c.F="metadata"in c.D?new VYf(c.D.metadata,c.H):aZf);c=c.F;for(var d=0;d<ZYf(c).length;d++){var e=d;e=ZYf(c)[e];e=a.V.get(e).D;e=b(e);if(null!==e)return e}for(d=0;d<XYf(c).length;d++)if(e=c.getSource(d),null!==e.D&&(e=a.V.get(e.D||0).D,e=b(e),null!==e))return e;return""}
function NZf(a,b,c){c=void 0===c?!1:c;if(void 0===b?0:b)return a.map(function(l){return new LZf(l,void 0,!0)});b=new Set;var d=[];a=ia(a);for(var e=a.next();!e.done;e=a.next()){e=e.value;var f=oa("person.email",e)||oa("googleGroup.emails",e)||[];if(c||f&&f.length)for(var g=0;g<f.length;g++){var k=(oa("value",f[g])||"").trim().toLowerCase();if(c){if(b.has(k))continue;b.add(k)}d.push(new LZf(e,g))}else d.push(new LZf(e))}return d};function OZf(a,b,c,d,e,f,g,k,l,m,n,q,r,u,v){u=void 0===u?new PWf:u;v=void 0===v?!1:v;this.W=a;this.qa=b;this.ma=c;this.na=d;this.D=e;this.F=f||"contact_store_287339940";this.aa=g;this.H=k;this.R=l;this.ea=m;this.xa=n;this.J=q.split(/[\s,]+/).filter(function(y){return!!y});this.O=r;this.ia=u;this.V=v}OZf.prototype.setTimeout=function(a){var b=this.R;0<a&&(this.R=a);return b};function PZf(a,b){b=Error.call(this,void 0===b?"":b);this.message=b.message;"stack"in b&&(this.stack=b.stack);this.code=a}x(PZf,Error);function E5(a,b,c){this.config=a;this.xa=a.R;this.F=a.W;this.D=new B5(b);this.qa=c;this.H=null;this.ab=0;this.aa="";this.F.start(this.D,"total");this.F.start(this.D,"blocked")}w=E5.prototype;w.h4=ba("aa");w.ofa=p("aa");w.Qi=function(){return 1==this.ab};w.cancel=function(){switch(this.ab){case 1:this.H.cancel();break;case 0:this.ab=2,this.H=ve(new Fe),QZf(this,null,11)}};
w.send=function(a){var b=this;if(0!==this.ab)return this.H;this.F.count(this.D);this.F.stop(this.D,"blocked");this.F.start(this.D,"network");this.ab=1;var c=this.J();if(c&&c.path){var d=this.config.ma||"";d&&(c.params=c.params||{},c.params.key=d);c.headers=XWf(d);c.root=this.config.qa;c.authType="auto";a=a.request(c)}else a=Promise.resolve({result:{}});return this.H=De(mdc([a,af(this.xa,"TIMEOUT")]),function(){b.ab=2;b.F.stop(b.D,"network")}).then(function(e){a:{if("TIMEOUT"===e)RZf(b,e);else{var f=
e&&e.result;if(!f||"error"in f)RZf(b,e);else{try{var g=b.O(f)}catch(k){RZf(b,k);e=void 0;break a}try{QZf(b,g,0)}finally{b.F.stop(b.D,"total"),b.F.status(b.D,0)}}}e=void 0}return e},function(e){return RZf(b,e)})};
function RZf(a,b){var c=2,d=1;try{if("TIMEOUT"===b)c=4,d=10;else if(b instanceof Fe)c=1,d=11;else if(b instanceof PZf)c=b.code,d=eYf(c);else if(b&&"object"===typeof b){var e=oa("result.error.code",b)||b.status;e=Number(e);c=bYf.has(e)?bYf.get(e):200<=e&&300>e?0:400<=e&&500>e?9:500<=e&&600>e?13:2;d=eYf(c)}else c=2,d=1}finally{a.F.status(a.D,c),QZf(a,null,d)}}function QZf(a,b,c){try{a.qa(b||[],c)}catch(d){throw d;}};function SZf(a,b,c){E5.call(this,a,$Xf(b),c);this.V=a.na;this.W=a.D;this.ea=a.F;this.R=a.H;this.ma=b;this.ia=a.ea}x(SZf,E5);SZf.prototype.J=function(){var a={query:this.ma,client:this.V,"clientVersion.clientAgent":"CONTACT_STORE","clientVersion.clientType":this.W,"clientVersion.clientVersion":this.ea,pageSize:this.ia};this.R&&(a["authDelegationContext.delegationType"]="GMAIL",a["authDelegationContext.obfuscatedOwnerId"]=this.R);return{method:"GET",path:"v2/people/autocomplete",params:a}};
SZf.prototype.O=function(a){var b=a.status;if(b){if(b.personalResultsNotReady)throw new PZf(14,"PersonalResultsNotReady");if(b.requestThrottled)throw new PZf(8,"RequestThrottled");if(b.containsPartialResults)throw new PZf(8,"ContainsPartialResults");}return NZf(a.results||[],this.config.V)};function TZf(a){this.F=a;this.D=null}w=TZf.prototype;w.toString=t("");function UZf(a){a.D||(a.D=SYf(a.F));return a.D}w.getId=function(){return UZf(this).D||UZf(this).F||UZf(this).H};w.hasAttribute=function(a){return!!this.getAttribute(a)};w.getAttribute=t(null);w.VG=function(a){return!!this.dw(a)};w.dw=t(null);var VZf=new TZf(null);function WZf(a){a=void 0===a?null:a;new IZf(a);this.D=a?new TZf(a):VZf}w=WZf.prototype;w.toString=t("");w.getId=function(){return this.D.getId()};w.getAttribute=function(a){return this.D.getAttribute(a)};w.hasAttribute=function(a){return this.D.hasAttribute(a)};w.dw=function(a){return this.D.dw(a)};w.VG=function(a){return this.D.VG(a)};function XZf(a,b,c){E5.call(this,a,XXf(WXf(3),4),c);this.W=a.D;this.ea=a.F;this.R=a.H;this.V=b.filter(function(d){return!!d});this.ia=a.J;this.ma=a.O}x(XZf,E5);
XZf.prototype.J=function(){if(!this.V.length)return{};var a={personId:this.V,context:{clientVersion:{clientAgent:"CONTACT_STORE",clientType:this.W,clientVersion:this.ea}},mergedPersonSourceOptions:{includedProfileStates:"CORE_ID",personModelParams:{personModel:"CONTACT_CENTRIC"}},requestMask:{imageUrlType:"FIFE_URL",includeContainer:this.ia,includeField:this.ma}};this.R&&(a.context.authDelegationContext={delegationType:"GMAIL",obfuscatedOwnerId:this.R});return{method:"POST",path:"v2/people:batchGet",
body:a}};XZf.prototype.O=function(a){return(a.personResponse||[]).filter(function(b){return"SUCCESS"==b.status}).map(function(b){return new WZf(b.nJb)})};function YZf(a,b,c,d){E5.call(this,a,aYf(b),d);this.ea=a.D;this.ia=a.F;this.W=a.H;this.V=ZZf(b);this.R=c.filter(function(e){return!!e});this.ma=a.J;this.na=a.O}x(YZf,E5);
YZf.prototype.J=function(){if(!this.R.length||!this.V)return{};var a={"context.clientVersion.clientAgent":"CONTACT_STORE","context.clientVersion.clientType":this.ea,"context.clientVersion.clientVersion":this.ia,id:this.R,"mergedPersonSourceOptions.includedProfileStates":"CORE_ID","mergedPersonSourceOptions.personModelParams.personModel":"CONTACT_CENTRIC","profileLookupOptions.emailLookupOption":"INCLUDE_EMAIL_LOOKUP_KEY","requestMask.includeContainer":this.ma,"requestMask.includeField":this.na,"requestMask.imageUrlType":"FIFE_URL",
type:this.V};this.W&&(a["context.authDelegationContext.delegationType"]="GMAIL",a["context.authDelegationContext.obfuscatedOwnerId"]=this.W);return{method:"GET",path:"v2/people/lookup",params:a}};YZf.prototype.O=function(a){var b=a.matches,c=a.people,d=[];b&&c&&b.forEach(function(e){e=ia(e.personId);for(var f=e.next();!f.done;f=e.next())(f=c[f.value])&&d.push(new WZf(f))});return d};
function ZZf(a){switch(a){case 1:return"EMAIL";case 2:return"PHONE";case 3:return"CONTACT";case 5:return"SYNTHETIC";default:return""}};function $Zf(a,b){E5.call(this,a,WXf(9),b);this.V=a.aa;this.W=a.D;this.ea=a.F;this.ia=a.xa;this.ma=a.J;this.na=a.O;this.R=[];Ej(a.ia,6,!0)&&this.R.push("FILTER_TO_PRIMARY")}x($Zf,E5);
$Zf.prototype.J=function(){var a={"affinity.type":this.V,"context.clientVersion.clientAgent":"CONTACT_STORE","context.clientVersion.clientType":this.W,"context.clientVersion.clientVersion":this.ea,"pagingOptions.pageSize":this.ia,"requestMask.includeContainer":this.ma,"requestMask.includeField":this.na,"mergedPersonSourceOptions.includedProfileStates":"CORE_ID","mergedPersonSourceOptions.personModelParams.personModel":"CONTACT_CENTRIC"};this.R.length&&(a["extensionSet.extensionNames"]=this.R);return{method:"GET",
path:"v2/people/rankedTargets",params:a}};$Zf.prototype.O=function(a){return NZf(a.rankedTarget||[],this.config.V,!0)};function xXf(){this.D=0}xXf.prototype.getError=p("D");xXf.prototype.wf=ba("D");var a_f=new Map([[1,4],[2,2],[3,1],[4,7]]);function b_f(a,b){B.call(this);var c=this;this.F=a;this.D=new Map;this.O=null;this.R=!1;this.H=a.W;this.J=new B5(TXf(1));this.H.start(this.J,"total");this.H.start(this.J,"blocked");b.then(function(d){c.H.stop(c.J,"blocked");d?c_f(c,d):d_f(c,5)},function(){d_f(c,5)})}x(b_f,B);function c_f(a,b){b&&b.request?($Wf(),a.H.stop(a.J,"total"),a.H.status(a.J,0),a.O=b,a.D.forEach(function(c,d){return c.forEach(function(e){return e_f(a,d,e)})})):d_f(a,9)}
b_f.prototype.wa=function(){for(var a=ia(this.D.keys()),b=a.next();!b.done;b=a.next())KYf(this,b.value)};function d_f(a,b){a.H.status(a.J,b);a.R=!0;a.wa()}function KYf(a,b){b=b||"";a.D.has(b)&&(f_f(a.D.get(b)),a.D.delete(b))}function g_f(a,b,c){a.R?c.cancel():(JYf(a,b).push(c),e_f(a,b,c))}function e_f(a,b,c){a.O&&De(c.send(a.O),function(){var d=b;d=d||"";if(a.D.has(d)){d=a.D.get(d);var e=d.indexOf(c);0<=e&&d.splice(e,1)}})}
function JYf(a,b){b=b||"";if(a.D.has(b))return a.D.get(b);var c=[];a.D.set(b,c);return c}function f_f(a){a&&a.length&&(a.forEach(function(b){return b.cancel()}),a.length=0)}b_f.prototype.Hn=function(a,b,c){function d(g,k){return c(g,f,b,a,k)}var e=a&&a.D||"",f=e?new SZf(this.F,e,d):new $Zf(this.F,d);g_f(this,b,f);return f};
b_f.prototype.execute=function(a){function b(n,q){q?a.F(yXf(q,g)):a.F(wXf(g))}if(a.D())return this.H.status(new B5(WXf(4)),12),h_f(a);var c=a.J&&a.J()||{},d=c.AW,e=this.F.setTimeout(a.ea());try{var f=c.HIb||[];if(f.length)var g=new YZf(this.F,1,f,b);else{var k=c.AIb||[];if(k.length)g=new YZf(this.F,3,k,b);else{var l=c.oJb||[];if(l.length)g=new XZf(this.F,l,b);else{var m=c.xJb||[];if(m.length)g=new YZf(this.F,5,m,b);else return this.H.status(new B5(TXf(2)),12),h_f(a)}}}}finally{this.F.setTimeout(e)}g_f(this,
d,g);return g};function h_f(a){var b=new vVf(function(){return a.F(yXf(5,b))});return b};function i_f(a,b,c,d){D5.call(this,a,b,c,d)}x(i_f,D5);i_f.prototype.execute=function(a){a.D()&&a.O(z(this.H,this,a));a=this.D.execute(a);a.h4(this.getId());return a};i_f.prototype.H=function(a,b){if(b.D&&b.D.D()&&b.D.D().J()){var c=b.D;if(a.W()||c&&c.getError())a=new EXf([b.D],"xh"),this.dispatchEvent(a)}};function j_f(a,b,c){b=b||new LYf(!0,!0);D5.call(this,a,b,"personal",c)}x(j_f,i_f);j_f.prototype.jX=function(a,b){i_f.prototype.jX.call(this,a,b)};function k_f(a,b){var c=new bXf;eXf(c,b);b=c.F;a=null!=L(a.D,50)?L(a.D,50):4;N(b,5,l_f(a));b=A5(c);var d=Cj(b,10)||Ej(cXf(c),5,!0);a=d?new rYf(void 0,pYf(c)):new gYf(void 0,pYf(c));var e=new uXf(sXf(new YXf(c,1))),f=L(c.F,5)||1;var g=a_f.get(f)||4;g=void 0===g?0:g;g=void 0===g?0:g;var k;if(k=0===g)k=(k=oa("gapi.config.get"))?(k=k("oauth-flow/authUrl"))&&(0<k.indexOf("staging")||0<k.indexOf("test"))?2:1:0,k=2===k;k&&(g=7);switch(g){case 7:g="dev-";k="-googleapis.corp";break;case 1:g="autopush-";k=
"-googleapis.sandbox";break;case 2:g="staging-";k="-googleapis.sandbox";break;default:g="",k=".clients6"}g="https://"+g+"people-pa"+k+".google.com";f=4===f?L(A5(c),2)||"":L(A5(c),1)||"";k=L(A5(c),4);var l=L(A5(c),5),m=L(A5(c),6)||"",n=Dj(A5(c),12,"CONTACT_STORE_DEFAULT_AFFINITY")||"",q=L(c.F,2),r=Dj(A5(c),8,3E4),u=Ej(A5(c),17,!1);e=new OZf(e,g,f,k,l,m,n,q,r,Dj(A5(c),13,15),Dj(A5(c),14,500),Dj(A5(c),15,"CONTACT,PROFILE,DOMAIN_CONTACT,DOMAIN_PROFILE,AFFINITY"),Dj(A5(c),16,"person.name,person.photo,person.email,person.phone,person.email.certificate,person.metadata"),
cXf(c),u);c=new b_f(e,dXf(c));e=new j_f(c);e.jX(null,"Personal Contacts");a.q3(e,!0);d&&(c=new OYf(c,null,!!Cj(b,11)),c.jX(null,"Domain Contacts"),a.q3(c,!0));return a}function l_f(a){switch(a){case 4:return 1;case 2:return 2;case 1:return 3;case 7:return 4;default:return 1}};function m_f(a,b){this.H=a;this.F=b;this.J=u4(this.F);this.D=null};function n_f(a){this.D=a}n_f.prototype.F=function(a,b){if(!b)return[];a=b.F;return(b=this.D.ac(b.D))?w4(b)?a?["Merkitty valmiiksi"]:["Toimintokohde avattiin uudelleen."]:a?["Kommentti ratkaistu"]:["Kommentti avattu uudelleen"]:[]};n_f.prototype.H=t(0);function o_f(a,b){this.D=a;this.J=A4(this.D);this.O=b}
o_f.prototype.F=function(a,b){var c=this.J.ac(b);if(!c)return[];a=this.D.get("relativeDateFormatter");if(c.Aw())return["Kommenttiluonnos"];b=[];c=TPf(c,!0);for(var d=c.length-1,e=0;e<c.length;e++){var f=c[e];if(f.Ji()){var g=this.O;var k=f.WQ();null==k?g="":(g=g(k).D(),g=null==g?"":VHc(g,mIc.Ma()))}else g=f.Vv();k=g;g="";0<e&&(g="Vastaus "+(e+("/"+(d+" "))));f=k+(", tekij\u00e4: "+(s4(f.Es())+(", p\u00e4iv\u00e4m\u00e4\u00e4r\u00e4: "+a.format(VOf(f)))));b.push(g+f)}return b};o_f.prototype.H=t(0);function p_f(a){this.Rlb=a;return this}x(p_f,qZ);p_f.prototype.shouldOverrideHide=p("Rlb");p_f.prototype.shouldOverrideHide=p_f.prototype.shouldOverrideHide;function q_f(a){this.D=a}A(q_f,qZ);na("docos.api.ToggleShowStreamPaneArgs",q_f,void 0);q_f.prototype.getDisplay=p("D");q_f.prototype.getDisplay=q_f.prototype.getDisplay;function r_f(a){qQ.call(this,a);this.zh("back-to-document",[85]);this.zh("next-doco",[74]);this.zh("prev-doco",[75]);this.zh("prev-anch",[75,1]);this.zh("next-anch",[74,1]);this.zh("resolve",[69]);this.zh("reopen",[69,1]);this.zh("reply",[82]);this.zh("speak-comment",GH(["A","C"]));this.addEventListener("shortcut",this.na)}x(r_f,qQ);r_f.prototype.na=function(a){this.dispatchEvent(a.identifier)};function s_f(a,b,c){b=c||b;var d=a.gC,e=a.Eeb;c=a.PGa;var f=a.OGa,g=a.Qj,k='<div class="'+V("docos")+" "+V("docos-streampane-container")+'" role="dialog" aria-label="';k+=NF("Kommenttihistorian laatikko");var l='"><div class="'+V("docos-streampane-content")+'">';e?(a='<div class="'+V("docos-streampane-header")+'"><div class="'+V("docos-new-comment-button")+'">',b=b={Qj:g},e="",b.Qj?(e+='<div class="'+V("docos-ns-caption")+'">'+T('<svg class="'+V("docos-ns-caption-icon")+'" width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H4V4h16v12zm-9-5H7V9h4V5h2v4h4v2h-4v4h-2v-4z" id="docos_add_comment_24"/></defs><g fill="none" fill-rule="evenodd"><g transform="translate(-2 -2)"><mask fill="#fff"><use xlink:href="#docos_add_comment_24"/></mask><use fill="#000000" fill-rule="nonzero" class="docos-new-comment-icon-path" xlink:href="#docos_add_comment_24"/></g></g></svg>')+
'<div class="'+V("docos-ns-caption-text")+'">',e+="Kommentti</div></div>"):(e+='<div class="'+V("docs-material")+'">'+X(q4({Of:"docos-icon-add-comment",yw:"docos-icon-add-comment-size",$e:"docos-new-comment-icon",hH:!0})),e+="Kommentti</div>"),b=T(e),a=a+X(b)+"</div>",d?(d='<div class="'+V("docos-notification-settings")+'">',g=g={Qj:g},g=g.Qj,g=T('<div class="'+V("docos-ns-caption")+'">'+(g?T('<svg class="'+V("docos-ns-caption-icon")+'" width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M12 11V7.16666667c0-2.55833334-.6083333-4.7-3-5.26666667l-.75-.56666667C8.25.64166667 7.69166667 0 7 0S5.75.64166667 5.75 1.33333333L5 1.9c-2.38333333.56666667-3 2.7-3 5.26666667V11H0v2h14v-2h-2zm-2 0H4V7.16666667C4 5.1 4.925 3 7 3s3 2.1 3 4.16666667V11zm-3 5c.91666667 0 2-1.0833333 2-2H5c0 .9166667 1.08333333 2 2 2z" id="docos_notifications_20_a"/></defs><g fill="none" fill-rule="evenodd"><g transform="translate(3 2)"><mask fill="#fff"><use xlink:href="#docos_notifications_20_a"/></mask><use fill="#000000" fill-rule="nonzero" class="docos-gm-notification-icon-path" xlink:href="#docos_notifications_20_a"/></g></g></svg>'):
X(q4({Of:"docos-icon-bell",yw:"docos-icon-bell-size",$e:"docos-ns-caption-icon"})))+'<div class="'+V("docos-ns-caption-text")+'"><div class="'+V("docos-ns-caption-text-value")+'"></div></div></div>'),g=d+X(g)+"</div>"):g="",g=a+g+"</div>"):(d=b,b=a.sx,g=a.gC,a=a.yB,d='<div class="'+V("docos-streampane-entryarea")+" "+V("hide-on-readonly")+'">'+X(bOf({size:48,$e:"docos-streampane-avatar"}))+'<div class="'+V("docos-streampane-entryarea-content")+'"><div class="'+V("docos-streampane-username")+" "+V("goog-inline-block")+
'">'+X(b)+"</div>"+X(TQf({$e:"docos-streampane-input-pane",nmb:!0,yB:a},d)),g&&(d+='<div class="'+V("docos-streampane-notificationslink")+'">',d+="Ilmoitusasetukset</div>"),g=T(d+"</div></div>"));k+=l+g;c&&(k+='<div class="'+V("docos-streampane-bannertext")+'">'+X(c),f&&(k+='<a target="_blank" rel="noreferrer" href="'+V(yN(f))+'" class="'+V("docos-streampane-bannerlink")+'">',k+="Lis\u00e4tietoja</a>"),k+="</div>");k+='<div class="'+V("docos-streampane-readonlytext")+" "+V("show-on-readonly")+" "+
V("goog-inline-block")+'">';return T(k+"Sinulla ei ole oikeuksia lis\u00e4t\u00e4 kommentteja.</div></div></div>")}function t_f(){var a='<div class="'+V("docos-streampane-error")+'">';return T(a+"Kommenttien l\u00e4hett\u00e4minen ei onnistu verkkovirheen takia. P\u00e4ivit\u00e4 sivu.</div>")};function u_f(){return T('<div class="'+V("docos-spinner")+'" dir="ltr"><div class="'+V("docos-quantum-spinner")+" "+V("active")+'">'+v_f({Sn:"spinner-blue"})+v_f({Sn:"spinner-red"})+v_f({Sn:"spinner-yellow"})+v_f({Sn:"spinner-green"})+"</div></div>")}
function v_f(a){a=a.Sn;return T('<div class="'+V("spinner-layer")+" "+V(a)+'"><div class="'+V("spinner-circle-clipper")+" "+V("spinner-left")+'"><div class="'+V("spinner-circle")+" "+V("spinner-fit")+'"></div></div><div class="'+V("spinner-gap-patch")+'"><div class="'+V("spinner-circle")+" "+V("spinner-fit")+'"></div></div><div class="'+V("spinner-circle-clipper")+" "+V("spinner-right")+'"><div class="'+V("spinner-circle")+" "+V("spinner-fit")+'"></div></div></div>')};function w_f(a,b){t4.call(this,a,b);this.F=null}A(w_f,t4);w_f.prototype.ua=function(){var a=this.oa();this.F=uO(u_f,{},void 0,a);this.ub(this.F)};w_f.prototype.hide=function(){this.F.parentElement.removeChild(this.F)};w_f.prototype.wa=function(){delete this.F};function x_f(a,b){bf.call(this);this.W=a;this.D=b;this.F=0;this.H=this.J=!1;this.R=D4(this.W);this.Xf=null;this.aa=new qQ(this.D.oa().Db());this.aa.zh("blur",27);this.ea=new IO(this);this.la(this.ea);this.ea.Lc(this.R.xe("docos-new-doco"),un,this.y8a).Lc(this.R.xe("docos-highlight-doco"),un,this.x8a);this.ga(this.D,"bd",this.w8a).ga(this.D,"br",this.z8a)}x(x_f,bf);
function y_f(a){0==a.F&&0<a.D.wc()&&(a.F=z_f(a,0));if(0!=a.F){for(var b=0,c=0;c<a.D.wc();c++)z_f(a,c)==a.F&&(b=c);A_f(a);F5(a.D,!1);b=a.D.Hb(b).getId();b=new RNf(b,a.D.getId());a.R.Ob("docos-before-highlight-doco").fireAction(b);a.R.Ob("docos-highlight-doco").fireAction(b)}}function A_f(a){a.Xf||(a.Xf=new VM(a.D.oa().Db()),a.la(a.Xf));a.ga(a.Xf,"focusin",a.zya).ga(a.aa,"shortcut",a.ura)}w=x_f.prototype;
w.zya=function(a){this.D.oa().contains(this.D.ha(),a.target)||this.D.ha().nextSibling==a.target||(this.J=this.H=!1,B_f(this,!0),F5(this.D,!0),this.Sb(this.Xf,"focusin",this.zya).Sb(this.aa,"shortcut",this.ura),a=d4(),this.R.Ob("docos-before-highlight-doco").fireAction(a),this.R.Ob("docos-highlight-doco").fireAction(a))};w.ura=function(){F5(this.D,!1);B_f(this,!1)};
w.x8a=function(a){var b=a.data;if(a=b.D)if(a=this.D.jc(a)){if(this.F=Y4(A4(this.W),b.D),b.F==this.D.getId()){A_f(this);B_f(this,!1);a instanceof tUf&&(a.oa().Vi(a.ha(),!0),yUf(a,!0));F5(this.D,!1);if(0!=this.F&&this.J&&!this.H&&a instanceof tUf)a:if(l5(a),a.F)a.F.ready(void 0,void 0,!0),a.F.V.focus();else{b=TPf(a.ac(),!1);for(var c=b.length-1;0<=c;c--)if(hUf(a.J[b[c].getId()]))break a;hUf(a.H)||a.focus()}else a.focus();this.J=this.H=!1}}else this.J=this.H=!1;else this.J=this.H=!1,F5(this.D,!0),B_f(this,
!0)};w.y8a=function(a){a=a.data;var b=a5(A4(this.W),a.Qm);if(b){for(var c=0;c<this.D.wc();c++)if(b.getId()==this.D.Hb(c).getId()){this.F=a.Qm;break}this.H=!0;F5(this.D,!1,!0);B_f(this,!1)}};w.w8a=function(){C_f(this)};w.z8a=function(){A4(this.W).aa||C_f(this)};function C_f(a){if(1==a.D.wc())a.F=0,F5(a.D,!1);else{for(var b=0,c=0;c<a.D.wc();c++)if(z_f(a,c)==a.F){b=c;break}b==a.D.wc()-1?b--:b++;a.F=z_f(a,b);a.H=!0;F5(a.D,!1,!0);B_f(a,!1)}}
function B_f(a,b){for(var c=a.D.getChildIds(),d=0;d<c.length;d++){var e=a.D.jc(c[d]);if(e instanceof tUf){var f=b;e.oa().Vi(e.ha(),f);yUf(e,b)}}}function z_f(a,b){return Y4(A4(a.W),a.D.Hb(b).getId())};function D_f(a,b,c){this.F=a;this.H=b;this.D=c||null};function G5(a,b,c,d){t4.call(this,a,d);this.qa=c;this.context=a;this.F=b;this.F.Bha(this);this.V={};this.O=[];this.J=[];this.ma=!1;this.ea=this.H=this.W=null;this.ia=new IO(this);this.la(this.ia);a=A4(this.context);this.Da().ga(a,"bu",this.hfb).ga(a,"dd",this.Gfb).ga(a,"f",this.cgb).ga(b,"rv",this.Ujb).ga(this,"ra",this.qhb).ga(this,"sd",this.Thb).ga(this,"sr",this.Uhb).ga(this,"sn",this.Ehb).ga(this,"sp",this.Fhb).ga(this,"bd",this.ifb).ga(this,"ar",this.Xeb).ga(this,"ph",this.ugb);kOf(this)}
A(G5,t4);w=G5.prototype;
w.Aa=function(){G5.Ia.Aa.call(this);QN(this.ha(),"docos");uL(this.ha(),["docos","docos-stream-view"]);DM(this.ha(),"list");tPf(this.D)?El(this.ha(),"docos-stream-view-height"):(El(this.ha(),"docos-stream-view-legacy"),El(this.ha(),"docos-stream-view-height-legacy"));"legacy"!=this.D.H&&El(this.ha(),"docs-gm");"material_blue"==this.D.H?El(this.ha(),"docos-gm-blue"):"material_green"==this.D.H?El(this.ha(),"docos-gm-green"):"material_yellow"==this.D.H&&El(this.ha(),"docos-gm-yellow");uL(this.hb(),this.F.ZF());
this.Da().ga(this,"rd",this.WJa);var a=D4(this.context);this.ia.Lc(a.xe("docos-highlight-doco"),un,this.S2);u4(this.context).tb&&Dl(this.ha(),"docos-layout-vertical")&&(this.W=new x_f(this.context,this),this.H=this.Bc.createElement("DIV"),El(this.H,"docos-tab-sentinel"),this.Da().ga(this.ha(),"focus",this.Ww).ga(this.H,"focus",this.Hhb),E_f(this).appendChild(this.H),this.ea=new $N);this.Xka()};w.sna=t(!0);w.hX=function(){this.F.iC();F_f(this);this.F.nC(!0);this.dispatchEvent("ail")};w.Ww=function(){y_f(this.W)};
w.Hhb=function(){var a=this.W;a.J=!0;y_f(a)};w.Xka=function(){var a=A4(this.context);if(Bb(a.D)){this.F.nC(!1);a=Ob(a.D);for(var b in a)G_f(this,b);this.F.WB();this.hX()}};w.Gv=function(a,b){for(var c=this.wc()-1;0<=c;--c){var d=this.Hb(c);a&&!a[d.getId()]||!b&&!d.isVisible()||d.Gv()}};
w.S2=function(a){var b=a.data;a=b.D;var c=b.F;b=b.O;if(!this.context.aa&&this.F.x4(a,c)){if(this.ea&&a&&this.F.Wn()!=a){var d=this.wc();d="Kommentti "+(SB(this,this.jc(a))+1+("/"+(d+" ")));aO(this.ea,d)}this.dispatchEvent("us");this.F.c9(a,c,b);F_f(this);this.dispatchEvent("ud")}};w.hfb=function(a){a=ia(a.D);for(var b=a.next();!b.done;b=a.next()){var c=b.value;b=c.ii;c=c.D;b&&(A4(this.context).ac(b),(c=this.jc(b)||c&&this.jc(c))?(c.getId()!=b&&c.Sc(b),this.O.push(b)):this.V[b]=!0)}};w.Gfb=function(a){this.J.push(a.D)};
function F_f(a){a.ma||a.F.vu()}w.cgb=function(a){this.F.nC(!a.H);this.ma=!0;for(var b=0;b<this.J.length;++b)H_f(this,this.J[b]);for(var c in this.V)G_f(this,c);Ib(this.V)||this.F.WB();for(b=0;b<this.O.length;++b)I_f(this,this.O[b]);this.V={};this.O.length=0;this.J.length=0;a.H&&this.F.iC();this.F.vu();this.ma=!1;this.F.nC(!0)};w.WJa=function(a){this.jc(a.ii)&&(this.F.IN(a.ii),F_f(this))};
w.qhb=function(a){var b=A4(this.context).ac(a.ii);if(a=u4(this.context).O.reanchor)b=S4(b),b=XNf("reanchor").addAnchorId(b).build(),a(b),this.context.aa=!0};w.Thb=function(a){var b={text:a.D,xk:a.xk,Qm:a.Qm,nKa:a.xk,cP:a.cP};a.xk&&u4(this.context).eb&&(b.quote=(0,u4(this.context).eb)(a.xk));a.xk&&u4(this.context).Ca&&(b.xk=(0,u4(this.context).Ca)(a.xk));D4(this.context).Ob("docos-new-doco").fireAction(b)};
w.Uhb=function(a){var b=A4(this.context).ac(a.ii);if(!b)throw Error("CJ`"+a.ii);var c=D4(this.context);C4(b)?c.Ob("docos-resolve-doco").fireAction(new lOf(a.ii,!1,a.D)):c.Ob("docos-new-reply").fireAction(new D_f(a.ii,a.D,a.cP))};w.Ehb=function(){this.F.highlightNext()};w.Fhb=function(){this.F.highlightPrevious()};w.ifb=function(){this.F.Q2()};w.Xeb=function(){this.F.P2()};
function G_f(a,b){var c=A4(a.context).ac(b);c&&a.qa(c)&&!a.jc(b)&&(a.dispatchEvent("us"),a.F.gJ(c),a.dispatchEvent("ud"),a.W&&F5(a,!0))}function I_f(a,b){a.dispatchEvent("us");var c=a.jc(b);if(c){var d=A4(a.context).ac(b);d&&a.qa(d)?(c.update(),a.F.IN(b)):H_f(a,b)}a.dispatchEvent("ud")}function H_f(a,b){b&&(a.dispatchEvent("us"),a.F.dI(b),a.dispatchEvent("ud"))}w.Ujb=function(a){for(var b=a.kna.length,c=0;c<b;++c)H_f(this,a.kna[c])};w.QT=function(){for(var a=this.wc(),b=0;b<a;++b)this.Hb(b).QT()};
function E_f(a){return(a=a.ha())?a.parentElement:null}function F5(a,b,c){if(!b&&!c||0!=a.wc())a.oa().Vi(a.ha(),b),a.H&&(b=null!=c?c:b,a.oa().Vi(a.H,b))}w.wa=function(){G5.Ia.wa.call(this);delete this.ia};w.ugb=function(){var a=this.F.bK();null==a||a.Yb()||(a.update(),a.focus())};function J_f(a){B.call(this);this.D=[];this.F=!1;this.H=new nk;this.J=a?!1:!0}x(J_f,B);J_f.prototype.start=function(){this.J=!0;K_f(this)};function K_f(a){!a.J||a.F||0>=a.D.length||(a.F=!0,a.H.wi(z(a.O,a)))}J_f.prototype.O=function(){this.D.shift()();this.F=!1;K_f(this)};J_f.prototype.wa=function(){this.H.dispose();B.prototype.wa.call(this)};function L_f(a,b,c,d){G5.call(this,a,b,c,d);this.Ba=new J_f;this.R=[];this.xa=new w_f(a,d);this.na=!1;this.aa=null}A(L_f,G5);w=L_f.prototype;w.sna=p("na");w.hX=function(){L_f.Ia.hX.call(this);this.xa.hide();this.na=!0;this.aa&&this.S2(this.aa)};w.$ka=function(){for(var a=0;0<this.R.length&&50>a;){var b=this.R.shift();this.jc(b)||(G_f(this,b),a++)}0==this.R.length?this.hX():(a=this.Ba,b=z(this.$ka,this),a.D.push(b),K_f(a))};
w.Xka=function(){var a=A4(this.context);if(Bb(a.D)){this.xa.render(E_f(this));this.F.nC(!1);a=Ob(a.D);for(var b in a)this.R.push(b);b=this.Ba;a=z(this.$ka,this);b.D.push(a);K_f(b)}};w.S2=function(a){this.na?L_f.Ia.S2.call(this,a):this.aa=a};function M_f(a,b,c,d,e){k5.call(this,a,b,c,d,e);c=["edit","delete","reanchor","resolve"];u4(a).Tb&&(c=c.concat(["link"]));this.R=new APf(a,b,d,"docos-actionmenu",c);this.addChild(this.R);this.addChild(this.H);l5(this);this.qa+=" docos-streamdocoview-input-pane";this.Sa="Hylk\u00e4\u00e4 vastaus";this.ma=this.aa=this.xa=this.Ka=this.Ja=this.na=null}x(M_f,k5);w=M_f.prototype;
w.ua=function(){k5.prototype.ua.call(this);var a=this.oa(),b=this.ha();this.na=a.Va("docos-streamdocoview-inputcontainer",b);this.Ja=a.Va("docos-streamdocoview-reopen-control",b);this.Ka=a.Va("docos-streamdocoview-resolve-control",b);this.R.Za(a.Va("docos-actionmenu-outer",b));GM(this.R.H.Ua(),"Lis\u00e4asetukset");this.xa=a.Va("docos-author",b);this.aa=Y_(a,"IMG","docos-streamdocoview-avatar",b);this.ma=Y_(a,"IMG","docos-streamreplyview-avatar",this.na);a=this.oa();b=this.ha();var c=a.Va("docos-docoview-comment",
b);c&&(u4(this.getContext()).F.D(c,"Vastaa t\u00e4h\u00e4n kommenttiin"),GM(c,"Vastaa t\u00e4h\u00e4n kommenttiin"));if(c=a.Va("docos-docoview-resolve",b))u4(this.getContext()).F.D(c,"Merkitse ratkaistuksi ja piilota keskustelu"),GM(c,"Merkitse ratkaistuksi ja piilota keskustelu");if(a=a.Va("docos-docoview-reopen",b))u4(this.getContext()).F.D(a,"Merkitse avatuksi ja palauta keskustelu dokumenttin\u00e4kym\u00e4\u00e4n"),GM(a,"Merkitse avatuksi ja palauta keskustelu dokumenttin\u00e4kym\u00e4\u00e4n")};
w.Aa=function(){k5.prototype.Aa.call(this);N_f(this);var a=this.ha();this.F.aa=a;v4(v4(v4(v4(this,this.R,"d",this.GBa),this.R,"e",this.Ofb),this.R,"r",this.zhb),this.R,"ra",this.shb);a=this.ac().Es();O_f(this,a);P_f(this,a);a=u4(this.getContext()).mg();oOf(x4(this.getContext()),this.ma,a.D,s4(a));this.D.ea||(a=a.getName())&&this.ma&&this.D.F.D(this.ma,a)};w.Sc=function(a){k5.prototype.Sc.call(this,a);this.R&&CPf(this.R,a)};
w.update=function(){k5.prototype.update.call(this);var a=this.ac().Es();O_f(this,a);P_f(this,a);this.R.update();N_f(this);this.na&&(a=!Ib(this.J)||d5(this.F)||this.Jk(),R(this.na,a))};function O_f(a,b){var c=x4(a.getContext()),d=b.D;a.aa&&BTf(b,a.ac().gm())&&(d=DQf(c),a.aa.classList.add("docos-avatar-unverified"),a.D.F.D(a.aa,"Kirjoittaja tuodusta dokumentista"));oOf(c,a.aa,d,s4(b))}function P_f(a,b){(b=b.getName())&&!a.D.ea&&(a.xa&&a.D.F.D(a.xa,b),a.aa&&a.D.F.D(a.aa,b))}
function N_f(a){var b=a.ac();a.Ja&&R(a.Ja,C4(b));a.Ka&&R(a.Ka,!C4(b))}w.gya=function(a){var b=this.ha();a=a.target;Dl(a,"docos-docoview-comment")&&b?this.F.ready():Dl(a,"docos-docoview-resolve")&&b?Q_f(this):Dl(a,"docos-docoview-reopen")&&b&&rUf(this)};w.Ofb=function(){eUf(this.H)};w.zhb=function(){C4(this.ac())?rUf(this):Q_f(this)};w.shb=function(a){this.dispatchEvent(new VQf("ra",this.ac().getId()));a.stopPropagation()};
function Q_f(a){var b=D4(a.getContext());a.dispatchEvent("br");var c=new lOf(a.getId(),!0,d5(a.F)?a.F.getValue():null);b.Ob("docos-resolve-doco").fireAction(c);a.dispatchEvent("ar")}w.QT=function(){var a=this.H;a.gb&&!a.J.Jk()||$Tf(a)};w.Nc=function(){k5.prototype.Nc.call(this);var a=x4(this.getContext());B4(a,this.aa);B4(a,this.ma)};w.wa=function(){k5.prototype.wa.call(this);delete this.R;delete this.xa;delete this.aa;delete this.ma;delete this.na;delete this.Ja;delete this.Ka};function R_f(a,b,c,d){this.D=a;this.F=b;this.Qa=c;this.J=d}R_f.prototype.H=function(a){a=A4(this.D).ac(a);var b=this.F.yi().getId();return new M_f(this.D,a.getId(),b,this.Qa,this.J)};function S_f(a,b){n5.call(this,a,b)}A(S_f,n5);w=S_f.prototype;w.ZQ=function(){return"none"!=u4(this.getContext()).cb};w.B8=function(a){return(new R_f(this.getContext(),this,this.oa(),this)).H(a.getId())};w.xJ=function(a,b){a=a.ac();b=b.ac();if(!a||!b)throw Error("DJ");return("creation"==o5(this).cb?b.Ct().getTime()-a.Ct().getTime():b.kG().getTime()-a.kG().getTime())||(a.getId()<b.getId()?-1:b.getId()<a.getId()?1:0)};
w.gJ=function(a){var b=this.yi(),c=this.B8(a),d=0;this.ZQ()&&(d=this.ZY(c));b.Fg(c,d,!0);c.update();if(c=b=this.DY())b.D!=a.getId()?c=!1:(c=a.Vu()?S4(a):void 0,d=u4(this.getContext()).yd,d=null!=c&&d(c),c=null==c||C4(a)||!!VPf(a)||d);c&&(b=VNf(f4(e4(a.getId()),this.Nz()),b.F).build(),this.xta(b,a))};w.dI=function(a){this.yi().jc(a)&&(a=this.yi().removeChild(a),He(a))};w.IN=function(a){if(this.ZQ()){var b=this.yi();if(a=b.jc(a)){var c=SB(b,a),d=this.ZY(a);c!=d&&b.Fg(a,d)}}};
w.Q2=function(){OUf(this,!0,!0)};w.P2=function(){if(this.J&&this.Wn()){var a=this.Wn();g5(A4(this.getContext()),a);this.Nz()&&D4(this.getContext()).Ob("docos-highlight-doco").fireAction(TNf(f4(e4(a),this.Nz())).build())}};w.iC=function(){QUf(this)};function T_f(a){a=a||{};var b=a.Bkb,c=a.Ckb,d=a.zHa,e=a.yHa;a=a.bJa;if(tN(d)||tN(c)){var f;tN(a)&&tN(c)?f='<a href="'+V(yN(c))+'" title="'+V(b)+'" target="_blank">'+X(a)+"</a>":a?f=X(a):f="";b='<div class="'+V("docos-build-info")+'">'+(d?'<span title="'+(e?"CL #"+V(e)+" built at...":"No CL #")+'">'+X(d)+"</span>":"")+" "+f+"</div>"}else b="";return T(b)};function U_f(a,b){S.call(this,b);this.D=a}x(U_f,S);U_f.prototype.ua=function(){this.ub(uO(T_f,{yHa:L(this.D,4),zHa:this.D.Em(),bJa:L(this.D,5),Bkb:L(this.D,2),Ckb:L(this.D,1)},void 0,this.oa()))};function V_f(a,b){t4.call(this,a,b);D4(a);this.F=new pQ(b);this.J=a;for(var c in FNf){a=FNf[c];a:{switch(a){case "all":var d="kaikki";break a;case "important":d="Vain omat";break a;case "none":d="ei mit\u00e4\u00e4n";break a}throw Error("EJ");}a=new pme(d,a,b);this.F.addChild(a,!0)}this.H=new zQ("",this.F,GU.Ma(),b);VJc(this.H,new LJc(null,9));this.H.Pt=!0;this.addChild(this.H)}A(V_f,t4);w=V_f.prototype;
w.Aa=function(){V_f.Ia.Aa.call(this);var a=this.oa(),b=a.Va("docos-ns-caption",this.ha());a=a.Va("docos-ns-caption-text-value",b);this.H.Fc(b);this.H.render(this.ha());this.oa().Kf(a,"Ilmoitukset");b=u4(this.J).F;b.D(this.H.ha(),"Muuta t\u00e4m\u00e4n asiakirjan s\u00e4hk\u00f6posti-ilmoitusasetuksia.");for(a=0;a<this.F.wc();a++){var c=this.F.Hb(a),d=c.ha();a:{switch(c.getModel()){case "all":c="Saat ilmoituksen jokaisesta kommentista.";break a;case "important":c="Saat ilmoituksen vain kommenteista, joissa olet mukana.";
break a;case "none":c="Ei ilmoituksia.";break a}throw Error("EJ");}b.D(d,c)}v4(this,this.H,"action",this.ZJa);v4(this,this.D,"r",this.d9);v4(this,this.ha(),"keyup",this.fPa);v4(this,this.F,"show",this.YJa);v4(this,this.F,"hide",this.XJa);this.d9()};w.YJa=function(){0<this.F.wc()&&this.F.nj(0)};w.XJa=function(a){a.stopPropagation()};w.fPa=function(a){32==a.keyCode&&a.stopPropagation();27==a.keyCode&&a.stopPropagation()};
w.ZJa=function(a){var b=a.target.getModel(),c=JQf(this.J);b!=FWf(c)&&GWf(c,b);this.d9();a.stopPropagation()};w.d9=function(){var a=this;!this.D.aa&&this.D.gC()?FWf(JQf(this.J)).then(function(b){for(var c=0;c<a.F.wc();++c){var d=a.F.Hb(c);d.tc(d.getModel()==b)}b=!a.D.aa&&a.D.gC();a.H.Pa(b)},void 0,this):this.H.Pa(!1)};function W_f(a,b,c,d){t4.call(this,a,b);this.J=new S_f(a,b);this.la(this.J);this.F=c?new L_f(a,this.J,bc(UPf),b):new G5(a,this.J,bc(UPf),b);this.addChild(this.F);this.O=a;this.ea=null;this.na=!!d;Cj(this.D.D,30)||(this.H=new wSf(a,b),this.la(this.H),this.addChild(this.H),this.H.ma="Lis\u00e4\u00e4 kommentti");this.V=null;Cj(this.D.D,30)&&this.D.gC()&&!this.D.ia&&(this.V=new V_f(a,b),this.addChild(this.V));this.R=null;Cj(this.D.D,30)&&(this.R=new hP("",b,"legacy"!=this.D.H?4:void 0),this.addChild(this.R));
this.ia=new IO(this);this.la(this.ia);this.aa=new U_f(O(this.D.D,uNf,2)||new uNf,b);this.addChild(this.aa);this.ma=!1;this.W=null;kOf(this)}A(W_f,t4);w=W_f.prototype;w.uza=0;w.wu=null;w.PX=null;w.LJ=null;w.Ix=null;w.LF=null;
w.ua=function(){var a="legacy"!=this.D.H,b=this.oa(),c=uO(s_f,{sx:this.D.mg().getName(),gC:this.D.gC(),Eeb:!!Cj(this.D.D,30),yB:this.D.qa,PGa:this.D.Hv,OGa:this.D.Pm,Qj:a},void 0,b);Cj(this.D.D,30)&&El(c,"docos-enable-docs-header");a&&El(c,"docs-gm");"material_blue"==this.D.H?El(c,"docos-gm-blue"):"material_green"==this.D.H?El(c,"docos-gm-green"):"material_yellow"==this.D.H&&El(c,"docos-gm-yellow");this.ub(c);a=b.Va("docos-streampane-content",c);this.F.render(a);this.LF=Cj(this.D.D,30)?this.F.hb():
this.D.V;this.aa.render(c);this.PX=b.Va("docos-streampane-username",c);this.LJ=Y_(b,"IMG","docos-streampane-avatar",c)};
w.Aa=function(){W_f.Ia.Aa.call(this);var a=this.oa(),b=this.ha();this.H&&this.H.Za(a.Va("docos-streampane-input-pane",b));if(this.V){var c=a.Va("docos-notification-settings",b);this.V.Za(c)}c=u4(this.O).F;this.R&&(a=a.Va("docos-new-comment-button",b),this.R.Za(a),c.D(a,this.D.Ba?"Kommentin lis\u00e4\u00e4minen ei k\u00e4ytett\u00e4viss\u00e4":"Lis\u00e4\u00e4 kommentti"),v4(this,this.R,"action",this.RJa),this.TCa(),this.Da().ga(this.D,"r",this.TCa));this.D.na&&(b=this.D.na,this.H&&(this.H.aa=b));
ie(b,!0);this.Ix=new r_f(b);Re(this.Ix,"next-doco",this.Sgb,!0,this);this.Ix.addEventListener("prev-doco",this.ihb,!0,this);Re(this.Ix,"resolve",z(this.HFa,this),!0);Re(this.Ix,"reopen",z(this.VJa,this),!0);Re(this.Ix,"back-to-document",this.KGa,!0,this);Re(this.Ix,"speak-comment",this.ymb,!0,this);b=D4(this.O);a=this.D.Ba?this.ngb:this.UJa;this.ia.Lc(b.xe("docos-highlight-doco"),un,a);this.H&&v4(this,this.H,"p",this.Ueb);v4(v4(v4(v4(v4(v4(v4(v4(this,this.ha(),"click",this.SJa),this.F,"f",this.dgb),
this.F,"b",this.mfb),this.F,"e",this.Ufb),this.F,"us",this.Shb),this.F,"ud",this.Rhb),this.F,"ail",this.Qhb),this,["aftershow","afterhide"],this.TJa);b=this.D.mg();EQf(x4(this.O),this.LJ,b.D,s4(b));this.PX&&(a=b.getName())&&this.D.F.D(this.PX,a);this.LJ&&(a=b.getName())&&this.D.F.D(this.LJ,a);this.na||(this.ea=new WQ(this.ha(),this.oa()),this.la(this.ea),XQ(this.ea));X_f(this)};
w.TJa=function(a){var b="aftershow"==a.type?"dialog-opened":"dialog-closed",c=this.D.O[b];if(c){a=a.target instanceof zPf;var d=(new p4(b)).setNonAnchored(!0).setApiEventArgs(new p_f(a)).build();c(d);a&&"dialog-closed"==b&&this.D.na&&this.D.na.focus()}};w.QT=function(){this.F.QT()};w.SJa=function(a){Dl(a.target,"docos-streampane-notificationslink")&&!this.D.aa&&this.dispatchEvent("dnd")};
w.Ueb=function(){var a=this.H.getValue();pb(a)||(D4(this.O).Ob("docos-new-doco").fireAction({text:a,xk:null,Qm:0,quote:null}),this.wu=null)};w.dgb=function(a){if(a=a.target)this.wu=a.ha()};w.mfb=function(a){Y_f(this,a)};w.Ufb=function(a){Y_f(this,a)};function Y_f(a,b){(b=b.target)&&b.ha()==a.wu&&(a.wu=null)}w.Shb=function(){null!=this.wu&&(this.uza=this.wu.offsetTop)};w.Rhb=function(){null!=this.wu&&this.LF&&(this.LF.scrollTop+=this.wu.offsetTop-this.uza)};w.Qhb=function(){this.dispatchEvent("initial-load-complete")};
w.UJa=function(a){a=a.data;(a.F&&a.F!=this.F.getId()||a.V)&&Z_f(this,a.D||null);if(a=a.D?this.F.jc(a.D):null)this.wu=a.ha()};w.ngb=function(a){a=a.data;var b=a.D||null,c=this.D.O["toggle-show-stream-pane"];c&&(b=b?A4(this.O).ac(b):null)&&(b=(new p4("toggle-show-stream-pane")).addAnchorId(S4(b)).addDocoHandle(Y4(A4(this.O),b.getId())).setNonAnchored(!(b.Vu()&&!C4(b))).setUserInitiated(!0).setApiEventArgs(new q_f(!0)).build(),c(b));Z_f(this,a.D||null)};
function Z_f(a,b){(b=b?a.F.jc(b):null)?(a.wu=b.ha(),a.LF&&(a.LF.scrollTop=b.ha().offsetTop)):a.wu=null}w.Sgb=function(){this.J.highlightNext()};w.ihb=function(){this.J.highlightPrevious()};w.HFa=function(){var a=this.J.bK(),b=this.J.Wn();b=b?A4(this.O).ac(b):null;a&&b&&(a=a.H,b.Ji()?YTf(a):XTf(a,!0))};w.VJa=function(){var a=this.J.bK();a&&XTf(a.H,!1)};w.KGa=function(){var a=D4(this.O),b=this.J.Wn();a.Ob("docos-back-to-document").fireAction({ii:b})};w.ymb=function(){var a=this.J.bK();a&&sUf(a)};
function X_f(a){if(a.ma&&!a.W&&a.Bb()){var b=uO(t_f);a.W=new S;a.W.Za(b);a.Fg(a.W,0)}}w.TCa=function(){this.R.Pa(this.D.we)};w.RJa=function(){this.dispatchEvent("create-draft")};w.Nc=function(){W_f.Ia.Nc.call(this);B4(x4(this.O),this.LJ)};w.wa=function(){W_f.Ia.wa.call(this);delete this.PX;delete this.LJ;delete this.wu;delete this.LF;delete this.aa;delete this.H;delete this.J;delete this.F;delete this.ia;this.Ix&&(delete this.Ix,this.Ix=null)};function $_f(a){B.call(this);this.J=a;a=u4(a);null!=L(a.D,44)&&null!=L(c4(a.D),39)&&Cj(c4(a.D),39)?a=null:a=(a=O(a.D,pNf,7))?a:new pNf;this.D=a;this.F=null;this.H=Ce();UMf(this.J,"netIo")&&this.H.resolve()}A($_f,B);
function FWf(a){if(a.D)return ue(a0f(a.D));a.F||(a.F=a.H.od.then(function(){return new se(function(b,c){wQf(a.J.get("netIo"),"uc",void 0,function(d){return b(new qNf(d))},c,void 0,void 0,"GET")},a)},void 0,a));return a.F.then(function(b){a.D=b.Tpa();a.F=null;return a0f(a.D)},void 0,a)}function GWf(a,b){var c="all"==b;b="none"==b;var d=(new pNf).Pa(!0);c=N(d,3,c);c=N(c,4,!b);b=N(c,5,!b);b=N(b,6,!0);a.D=b;b=new MNf;b=Fj(b,1,a.D);wQf(a.J.get("netIo"),"uc",b)}
function a0f(a){return Ej(a,2,!0)?Cj(a,3)?"all":Ej(a,4,!0)||Ej(a,5,!0)?"important":"none":"none"};function b0f(a,b){var c=a.ac(),d=b.ac();a=a.getPosition();b=b.getPosition();if(a.y!=b.y)return a.y-b.y;if(a.x!=b.x)return a.x-b.x;if(null!=c&&null!=d){b=c.Ct();a=d.Ct();if(b&&a&&b.getTime()!=a.getTime())return b.getTime()-a.getTime();if(!b&&a)return 1;if(b&&!a)return-1;c=c.getId();d=d.getId();return c<d?-1:c>d?1:0}return null!=c?1:null!=d?-1:0}function c0f(a,b){this.D=a;this.Vb=b}c0f.prototype.ac=p("D");c0f.prototype.getPosition=p("Vb");function d0f(a,b,c,d){this.D=a;this.O=b;this.R=c;this.J=d;this.H=[];this.F=0}function e0f(a,b){return a.D().Hb(b).getId()}function f0f(a,b){for(var c=a.D().wc(),d=0;d<c;++d)a.J(e0f(a,d),Infinity);a.layout(b||[])}w=d0f.prototype;w.layout=function(a){do{var b=a;g0f(this,0,this.D().wc(),1,-Infinity,this.rPa,this.sPa,b);b=a;g0f(this,this.D().wc()-1,-1,-1,Infinity,this.MGa,this.NGa,b);a.pop()}while(0<a.length)};function h0f(a,b){0==a.F&&(a.F=1);a.H=bb(b,a.H);gb(a.H)}
function i0f(a){0!=a.F&&(2==a.F?f0f(a,a.H):a.layout(a.H),a.H=[],a.F=0)}function g0f(a,b,c,d,e,f,g,k){for(;b!=c;b+=d){var l=e0f(a,b);var m=b;m=a.D().Hb(m).getHeight();var n=a;var q=b;q=n.D().Hb(q).ac().getId();n=n.O(q);q=a.R(l);e=Ra(k,l)?n:g(m,n,q,e);a.J(l,e);e=f(m,e)}}w.rPa=function(a,b){return b+a+10};w.MGa=function(a,b){return b-10};w.sPa=function(a,b,c,d){return Math.max(Math.min(c,b),d)};w.NGa=function(a,b,c,d){return Math.min(Math.max(c,b),d-a)};function j0f(a,b){var c=this;p5.call(this,a,b);this.H={};this.ea={};this.na=new d0f(z(this.yi,this),z(this.Dva,this),z(this.s$,this),z(this.qlb,this));this.Ka=u4(a).Pn;this.qa=new KY;this.cb=!0;this.lb=new yk(this.Ynb,500,this);this.Ba=this.Ca=null;this.xa=KQf(a);this.Na=new Kk;this.la(this.Na);Lk(this.Na,this.xa.F,function(){c.Ja=!0;c.Wa&&k0f(c,c.Wa);i0f(c.na);c.gb&&c.vu();c.Ja=!1});this.gb=!1;this.Wa=null;this.Oa=this.Ja=!1}A(j0f,p5);var l0f=null;w=j0f.prototype;
w.ZF=function(){var a=j0f.Ia.ZF.call(this);a.push("docos-layout-vertical");return a};w.ZQ=t(!0);w.nC=ba("cb");w.xJ=function(a,b){a=a.ac();b=b.ac();if(!a||!b)throw Error("DJ");var c=Y4(A4(this.getContext()),a.getId()),d=Y4(A4(this.getContext()),b.getId());return b0f(new c0f(a,this.D[c]||new Ed(Number.MAX_VALUE,Number.MAX_VALUE)),new c0f(b,this.D[d]||new Ed(Number.MAX_VALUE,Number.MAX_VALUE)))};w.IN=function(a){this.WB(a,!1)};w.Pfa=function(a){j0f.Ia.Pfa.call(this,a);this.vu()};
w.cAa=function(){for(var a=this.yi(),b=a.wc(),c=0;c<b;c++){var d=a.Hb(c);d.getId()!=this.Wn()&&d.getId()!=this.aK()&&d.ZW()&&d.collapse()}};w.iC=function(){XUf(this);QUf(this);for(var a=this.yi(),b=a.wc(),c=0;c<b;++c){var d=a.Hb(c);d.ZW()&&!d.Jk()&&d.Nga()}a=[];(b=this.Wn())&&a.push(b);this.xa.D||this.Ja?(b=this.na,b.F=2,h0f(b,a||[])):f0f(this.na,a);m0f(this)};w.TP=function(a){this.Ca=a.clone();this.Ba&&this.Ba.contains(a)?this.lb.start():(a=this.lb,a.stop(),a.Daa())};
w.Ynb=function(){if(this.V){this.Ba=this.Ca.clone();var a=this.yi();this.Ba.expand(500,0,500,0);var b=a.wc(),c="";0<b&&(c=a.Hb(b-1).getId());for(var d=0;d<b;d++){var e=a.Hb(d),f=this.ea[e.getId()];f=n0f(e,this.Ba,f.y,c);e.setVisible(f)}}};
w.vu=function(){j0f.Ia.vu.call(this);if(this.xa.D)this.gb=!0;else{i0f(this.na);var a=this.yi(),b;for(b in this.H){var c=a.jc(b);if(c){var d=b==this.Wn()||b==this.aK()?-10:this.Ka,e=!c.Tda();b!=this.Wn()&&b!=this.aK()&&this.Ea&&(e=e&&this.Ea.Oa);this.D2(d,this.H[b],c,e)}else delete this.H[b],delete this.ea[b]}m0f(this);this.gb=!1}};function n0f(a,b,c,d,e){if(a.getId()==d)return!0;d=e||0;return a.Jk()||Math.max(b.top-d,c)<=Math.min(b.bottom+d,c+a.getHeight())}
function m0f(a){var b=o5(a).O.bounds;b&&(a=a.SP(),!l0f&&!a||kb(l0f,a)||(l0f=a,a=(new p4("bounds")).setUserInitiated(!0).build(),b(a)))}w.s$=function(a){if(a&&!(a in this.H))if(o5(this).Ka){var b=this.Dva(a);null!==b&&(this.H[a]=b)}else if(b=this.yi().jc(a))this.H[a]=b.ha().offsetTop;return a in this.H?this.H[a]:null};w.qlb=function(a,b){this.H[a]=b};w.WB=function(a){XUf(this);if(o5(this).Ka)o0f(this);else{var b=[];this.Wn()&&b.push(this.Wn());a&&b.push(a);p0f(this,b)}};
function o0f(a){o5(a).Ka&&(a.H={});var b=a.Wn();p0f(a,b?[b]:[])}function p0f(a,b){a.xa.D||a.Ja?h0f(a.na,b):a.na.layout(b)}w.hC=function(a){var b=Eb(a),c=Bb(this.D),d=b.length!=c;this.Oa=b.length>c;b=ia(b);for(c=b.next();!c.done;c=b.next()){c=c.value;var e=this.D[c];if(!e||a[c].y!==e.y){d=this.Oa=!0;break}}d&&(this.xa.D?this.Wa=a:k0f(this,a))};
function k0f(a,b){a.D=b;q0f(a);XUf(a);a.Oa&&(QUf(a),a.Oa=!1);o0f(a);b=a.qa.getKeys();for(var c=0;c<b.length;c++){var d=a.W[b[c]];d&&a.gJ(d)}a.WB();a.vu();a.Wa=null}function q0f(a){var b=Object.keys(a.D);b.sort(z(a.njb,a));a.qa.clear();for(var c=A4(a.getContext()),d=0;d<b.length;d++){var e=b[d],f=a5(c,parseInt(e,10));f&&c.W(f)&&a.qa.set(e,a.qa.Dd())}}
w.njb=function(a,b){var c=parseInt(a,10),d=parseInt(b,10);b=this.D[c];a=this.D[d];c=a5(A4(this.getContext()),c);d=a5(A4(this.getContext()),d);return b0f(new c0f(c,b),new c0f(d,a))};w.dI=function(a){j0f.Ia.dI.call(this,a);q0f(this)};w.ZY=function(a){a=Y4(A4(this.getContext()),a.getId()).toString();var b=this.qa.get(a);null==b&&(q0f(this),b=this.qa.get(a));return b};
w.D2=function(a,b,c,d){var e=c.ha();if(e){var f=!0;if(this.Ca){var g=this.yi();f=g.wc();g=g.Hb(f-1).getId();f=n0f(c,this.Ca,b,g,500)}f&&c.setVisible(!0);g=c.getId();var k=!1,l=!1;if(d&&this.ea[g]&&(k=1<Math.abs(a-this.ea[g].x),l=1<Math.abs(b-this.ea[g].y),!k&&!l))return;l=this.cb&&l&&this.yi().wc()<r0f(this);k=this.cb&&k;if((d=d&&(l||k)&&c.isVisible()&&f)||this.O.D[g]){f=500;d||(f=(1-this.O.D[g].progress)*this.O.getDuration(g));aOf(this.O,g);var m=new DNf(e,[a,b],f,oN);$Nf(this.O,g,m,f,function(){return He(m)})}else xL(e,
a,b),f||c.setVisible(!1);c.Jb=-10==a;this.ea[g]=new Ed(a,b);this.H[g]=b}};function s0f(a,b){return(a=a.D[b])?a.y:null}w.Dva=function(a){a=Y4(A4(this.getContext()),a);return s0f(this,a)};w.H$=function(a,b){a=s0f(this,a);return null===a?null:new Ed(b?-10:this.Ka,a)};w.SP=function(){var a=this.yi();if(!a||!a.Bb())return null;var b=a.wc();if(!b)return null;var c=a.Hb(0);b=a.Hb(b-1);a=b.ha();c=this.s$(c.getId());b=this.s$(b.getId());return null!=c&&null!=b?[c,210+this.Ka,b+a.offsetHeight,this.Ka]:null};
function r0f(a){a=o5(a);return(a=null!=L(a.D,47)?L(a.D,47):null)?a:100};function t0f(a){this.D=a}A(t0f,qZ);na("docos.api.WriteFeedbackArgs",t0f,void 0);t0f.prototype.getSource=p("D");t0f.prototype.getSource=t0f.prototype.getSource;if(!u0f)var u0f=t("");if(!v0f)var v0f=t("");function H5(a,b){var c=this;B.call(this);this.dc=Ca();this.O={};this.H=new IQf;var d=H5.__default_config;d&&Pb(this.O,d);a&&Pb(this.O,a);this.F=new rPf(this.O,b);this.H.bd("config",this.F);this.ea={};Cj(this.F.D,17)&&(this.Ha=new vQf,this.H.bd("errorReporter",this.Ha),this.Rda=this.Ha.H.F(this.Rda));this.ia=null;this.aa={};this.qa=null;this.Oa=!1;this.Wa=!0;this.W=new vWf(this.H,this.F,this);w0f(this,"s",function(){c.D.Ba=!0;if(0<Bb(c.D.D)){x0f(c);var e=c.F.Mj;e&&e(43082,3E4)}});w0f(this,"fe",z(this.J0,
this));this.Jb=new m_f(this,this.H);TMf();this.Rda()}A(H5,B);na("Docos",H5,void 0);na("docos.api.connect",function(a){return new H5(a)},void 0);w=H5.prototype;w.ACa=!1;w.ZH=null;w.Ha=null;w.BT=null;w.$q=null;w.zk=null;w.eq=null;w.eya=!1;w.via=null;w.Iq=null;w.rH=null;
w.Rda=function(){if(this.Ha)for(var a in H5.prototype)va(this[a])&&(this[a]=this.Ha.H.F(this[a]));this.Ya=new BQf(this.F);this.H.bd("imageManager",this.Ya);a=new $_f(this.H);this.H.bd("subscriptionManager",a);this.ma=new DVf(this.H);this.H.bd("impressionRecorder",this.ma);this.Ea=bE(Jd());this.la(this.Ea);this.hc=new xQf(this.Ea);this.H.bd("relativeDateFormatter",this.hc);this.D=new ZSf(this.F);this.H.bd("stream",this.D);this.Ca=new kWf(this.H);this.la(this.Ca);this.va=new bf(this);this.la(this.va);
this.na=null;this.R=new cQf(this.H);this.H.bd("controller",this.R);this.J=new UVf(this.H,this.R);if(Cj(this.F.D,19)){this.na=new LWf(this.H);this.la(this.na);a=this.na;var b=z(this.Wb,this),c=z(this.Ba,this);a.D?a.D.lna(z(a.RXa,a,b),z(a.QXa,a,c)):c()}else this.Ba();this.rH=y0f(this);this.H.bd("contactStore",this.rH);this.Ka=this.F.mg().getEmail()?new iVf(this.rH,this.F.mg(),this.ma,this.F.Bi):null;a=D4(this.H);this.V=this.cb=null;Md("docs-aria-speakable")&&(this.cb=new n1c(void 0,!0),this.V=new oXc(this.cb,
a),this.V.bind("docos-new-doco",new BWf),this.V.bind("docos-new-reply",new CWf),this.V.bind("docos-delete-doco",new CVf(this.D)),this.V.bind("docos-resolve-doco",new n_f(this.D)),this.V.bind("docos-speak-doco",new o_f(this.H,this.O.quoterenderfn)),this.V.bind("docos-edit-doco",new FVf));this.Ja=new IO(this);this.la(this.Ja);this.Ja.Lc(a.xe("docos-cancel-insert-discussion"),un,this.pfb).Lc(a.xe("docos-delete-doco"),un,this.B8a).Lc(a.xe("docos-reject-doco-with-feedback"),un,this.Cfb).Lc(a.xe("docos-convert-doco"),
un,this.zfb).Lc(a.xe("docos-before-highlight-doco"),un,this.Kfa).Lc(a.xe("docos-highlight-doco"),un,this.Qda).Lc(a.xe("docos-new-doco"),un,this.C8a).Lc(a.xe("docos-resolve-doco"),un,this.D8a).Lc(a.xe("docos-back-to-document"),un,this.gfb).Lc(a.xe("docos-new-reply"),un,this.Rgb).Lc(a.xe("docos-write-feedback"),un,this.Bib).Lc(a.xe("docos-disable-smart-todo-feature"),un,this.Hfb).Lc(a.xe("docos-vote-doco"),un,this.yib).Lc(a.xe("docos-vote-reply"),un,this.zib).Lc(a.xe("mouse-hover-doco-view"),un,this.Mgb);
this.va.ga(this.D,"dd",this.Jgb).ga(this.D,"af",this.Veb).ga(this.D,"bu",this.Igb).ga(this.D,"p",this.Zgb).ga(this.F,"r",this.cQ)};function y0f(a){var b=JVf().then(function(){var c=oa("gapi.config.update");a.F.X8&&c("googleapis.config/sessionIndex",a.F.X8);c("googleapis.config/auth/useFirstPartyAuth",!0);c("googleapis.config/auth/useFirstPartyAuthV2",!0);return oa("gapi.client")});return new BVf(a.F,k_f(a.F,b),a.dc)}function x0f(a){a.rH&&!a.rH.D&&kPf(a.F.J)&&vPf(a.F)&&WRf(a.rH)}
function z0f(a){a.eq||(A0f(a),a.eq=new W_f(a.H,Jd(a.F.V),a.F.Bj,a.F.fd),a.va.ga(a.eq,"dnd",a.wVa),a.va.ga(a.eq,"initial-load-complete",a.I2a),a.va.ga(a.eq,"create-draft",a.vd));return a.eq}w.wVa=function(){this.gb()};w.I2a=function(){var a=z5(this,"initial-pane-render-done");if(a&&this.via){var b=Ca()-this.via;a(new YNf("initial-pane-render-done",b))}};
w.find=function(a){var b=this.D.O;this.D.O=a;var c=this.D,d=this.F,e={},f=c.O;c=Ob(c.D);if(f&&0!=f.length)for(var g in c){var k=c[g];if(!C4(k)&&k.Vu()&&!T4(k)){var l=oTf(k,f,d);k=Ob(k.F);for(var m in k)l+=oTf(k[m],f,d);0<l&&(e[g]=l)}}a!=b&&(a=this.aa,Pb(a,e),this.$q.Gv(a));this.aa=e;e={};for(var n in this.aa)e[Y4(this.D,n)]=this.aa[n];return e};H5.prototype.find=H5.prototype.find;H5.prototype.Mc=function(){this.D.O&&(this.D.O=null,this.$q.Gv(this.aa,!0),this.aa={})};H5.prototype.clearFind=H5.prototype.Mc;
H5.prototype.Cl=function(){var a=this.F;var b=nTf(this.D,a);b?(b=b.getKey(),a=(a=qTf(b,a))?Zd(document,a).textContent:null):a=null;return a};H5.prototype.getSelectedMatchA11yContext=H5.prototype.Cl;H5.prototype.highlightNext=function(a,b,c){this.zk&&this.zk.highlightNext(!!a,b,c)};H5.prototype.highlightNext=H5.prototype.highlightNext;H5.prototype.highlightPrevious=function(a,b,c){this.zk&&this.zk.highlightPrevious(!!a,b,c)};H5.prototype.highlightPrevious=H5.prototype.highlightPrevious;
H5.prototype.select=function(a,b){var c=a5(this.D,a);a=c?c.getId():"";b=c?new AW(a,b):null;c=this.D.ea;if(!(!b&&!c||b&&c&&b.getKey()==c.getKey()&&b.getValue()==c.getValue())){var d=this.D;b&&(b.getKey(),b.getValue());d.ea=b;b=c?this.$q.jc(c.getKey()):null;c=this.$q.jc(a);b&&b!=c&&b.Gv();if(c){c.ZW()&&(b=mTf(A4(this.H),this.F),c.expand(b?b.getKey():void 0));c.Gv();b=lTf(this.D,this.$q);d=D4(this.H);var e=UNf(e4(a));e.D=b?b.start:0;e=e.build();d.Ob("docos-before-highlight-doco").fireAction(e);g5(A4(this.H),
a);d.Ob("docos-highlight-doco").fireAction(e);if(b&&ZQf(c)&&(a=c.hb())){c=Sm(a).height;d=Jn(b)<=c;e=0>b.start;var f=b.end>c;a.scrollTop+=d&&e||!d&&!e?b.start:d&&f||!d&&!f?b.end-c:0}}}};H5.prototype.select=H5.prototype.select;H5.prototype.dW=function(){var a=this.D.ea;if(a){this.D.ea=null;(a=this.$q.jc(a.getKey()))&&a.Gv();a=D4(this.H);var b=UNf(e4(""));b.D=0;b=b.build();a.Ob("docos-before-highlight-doco").fireAction(b);g5(A4(this.H),null);a.Ob("docos-highlight-doco").fireAction(b)}};
H5.prototype.unselect=H5.prototype.dW;H5.prototype.eW=function(){var a=this.D,b=new PSf(a,"c"),c;for(c in a.D)b.D.push(new NSf(c,void 0,void 0,void 0,void 0));a.dispatchEvent(b.build());a.flush(!0)};H5.prototype.updateAll=H5.prototype.eW;H5.prototype.RN=function(){return!!Cj(this.F.D,19)&&!!this.F.Jb&&!this.F.Wb};H5.prototype.isSavingToOfflineStorage=H5.prototype.RN;H5.prototype.pz=function(){return 0<FSf.Dd()};H5.prototype.hasUnpostedDocos=H5.prototype.pz;
H5.prototype.LB=function(){for(var a=Eb(this.D.R),b=0,c;c=a[b];b++){var d=this.D;if((c=gTf(d,c))&&(c.Ji()?rQf(d,c):d.W(c)))return!0}return!1};H5.prototype.hasVisibleAnchoredDocos=H5.prototype.LB;H5.prototype.OV=function(a){var b=this.D,c=b.aa;b.aa=a;if(c!=b.aa&&this.$q&&(a=this.$q,b=A4(a.context),Bb(b.D))){for(c=a.wc()-1;0<=c;--c){var d=a.Hb(c).getId();I_f(a,d)}b=Ob(b.D);for(d in b)G_f(a,d);a.F.iC();F_f(a);a.F.WB()}};
H5.prototype.cQ=function(){B0f(this);0<Bb(this.D.D)&&x0f(this);if(this.eq)if("none"!=this.F.cb){var a=this.eq.F;a.F.iC();F_f(a)}else this.eq.QT()};H5.prototype.setResolvedAnchoredDocosVisible=H5.prototype.OV;H5.prototype.KO=function(a,b,c){return C0f(this,a,b?b:void 0,c)};H5.prototype.newDoco=H5.prototype.KO;
H5.prototype.dF=function(a,b,c){if(null==a||pb(a))throw Error("FJ");switch(b.getNewDocoType()){case "instant-doco":case "draft":case "client-integrated-draft":var d=b.getPosition()?b.getPosition():void 0,e=b.getText()?b.getText():void 0,f=b.getAssigneeEmail()?b.getAssigneeEmail():void 0;a=D0f(this,a,d,b.getNewDocoType(),e,f,b.getWasSmartTodo());Kf(a,c);break;case "smart-todo":d=b.getText();e=b.getAssigneeEmail();f=this.J;b=b.EPa();a=v5(f,z(f.p6a,f,a,d,e,b));Kf(a,c);break;case "discussion":d=b.getText();
e=b.getAssigneeEmail()?b.getAssigneeEmail():void 0;f=this.J;b=b.getWasSmartTodo();a=v5(f,z(f.m6a,f,a,d,e,b));Kf(a,c);break;default:throw Error("GJ");}};H5.prototype.interceptingNewDoco=H5.prototype.dF;function C0f(a,b,c,d,e,f,g){E0f(a,b,c);b=eQf(a.R,b,d||"draft",e,f,g);c&&0<b&&(d={},d[b]=c,I5(a).MJ(d));return b}function D0f(a,b,c,d,e,f,g){E0f(a,b,c);return Kf(VVf(a.J,b,d||"draft",e,f,g),function(k){if(c&&0<k){var l={};l[k]=c;I5(a).MJ(l)}return k})}
function E0f(a,b,c){if(!b)throw Error("FJ");a.lb();c&&(a.ia=c)}
H5.prototype.JP=function(a,b){if(null==a||pb(a))throw Error("FJ");switch(b.getNewDocoType()){case "instant-doco":case "draft":case "client-integrated-draft":var c=b.getPosition()?b.getPosition():void 0,d=b.getText()?b.getText():void 0,e=b.getAssigneeEmail()?b.getAssigneeEmail():void 0;return C0f(this,a,c,b.getNewDocoType(),d,e,b.getWasSmartTodo());case "smart-todo":return c=b.getText(),d=b.getAssigneeEmail(),gQf(this.R,a,c,d,b.EPa());case "discussion":return c=b.getText(),d=b.getAssigneeEmail()?b.getAssigneeEmail():
void 0,hQf(this.R,a,c,d,b.getWasSmartTodo());default:throw Error("GJ");}};H5.prototype.newDoco2=H5.prototype.JP;H5.prototype.rz=function(a,b,c){var d=this;if(!a||!b)throw Error("HJ");Kf(Kf(XVf(this.J,void 0,a,void 0,void 0,b,void 0),function(e){0<e&&d.tb(e);return e}),c)};H5.prototype.interceptingNewSuggestion=H5.prototype.rz;H5.prototype.XE=function(a,b,c){var d=this;Kf(Kf(YVf(this.J,a,!0,b),function(e){F0f(d,a);return e}),c)};H5.prototype.interceptingAcceptSuggestion=H5.prototype.XE;
H5.prototype.qb=function(a){return sQf(this.R,a,!0)};H5.prototype.acceptSuggestions=H5.prototype.qb;H5.prototype.sz=function(a,b,c){var d=this;Kf(Kf(YVf(this.J,a,!1,b),function(e){F0f(d,a);return e}),c)};H5.prototype.interceptingRejectSuggestion=H5.prototype.sz;H5.prototype.YE=function(a,b){var c=this.J;a=v5(c,z(c.Ska,c,a,!0));Kf(a,b)};H5.prototype.interceptingAcceptSuggestions=H5.prototype.YE;H5.prototype.i1=function(a,b){b=oQf(this.R,a,!1,b);F0f(this,a);return b};H5.prototype.rejectSuggestion=H5.prototype.i1;
function F0f(a,b){(b=a5(a.D,b))&&a.zk&&a.zk.dI(b.getId())}H5.prototype.E3=function(a){return sQf(this.R,a,!1)};H5.prototype.rejectSuggestions=H5.prototype.E3;H5.prototype.eF=function(a,b){var c=this.J;a=v5(c,z(c.Ska,c,a,!1));Kf(a,b)};H5.prototype.interceptingRejectSuggestions=H5.prototype.eF;H5.prototype.Rs=function(a,b){var c=this.J;a=v5(c,z(c.hJa,c,a));Kf(a,b)};H5.prototype.interceptingDeleteReply=H5.prototype.Rs;H5.prototype.ZE=function(a,b){var c=this.J;a=v5(c,z(c.gJa,c,a));Kf(a,b)};
H5.prototype.interceptingDeleteReplies=H5.prototype.ZE;H5.prototype.Fe=function(a){return(a=a5(this.D,a))?S4(a):null};H5.prototype.getAnchorData=H5.prototype.Fe;H5.prototype.Pm=function(a){return(a=a5(this.D,a))?a.IA():null};H5.prototype.getSuggestionId=H5.prototype.Pm;H5.prototype.Bi=function(){return this.F.mg().getId()};H5.prototype.getCurrentAuthor=H5.prototype.Bi;H5.prototype.zf=function(a){return(a=a5(this.D,a))?a.Es().getId():null};H5.prototype.getAuthor=H5.prototype.zf;
H5.prototype.Mj=function(a){return(a=a5(this.D,a))?a.Es().getName():null};H5.prototype.getAuthorName=H5.prototype.Mj;H5.prototype.Kh=function(a){"string"===typeof a&&(a=this.xa(a));return G0f(this).F.RX(a)};H5.prototype.getDocoPosition=H5.prototype.Kh;H5.prototype.getDocoMaxHeight=function(a){return I5(this).getDocoMaxHeight(a)};H5.prototype.getDocoMaxHeight=H5.prototype.getDocoMaxHeight;H5.prototype.A5=function(a,b){I5(this).a9(a,b)};H5.prototype.setDocoMaxHeight=H5.prototype.A5;
H5.prototype.Xc=function(a){a=H0f(this,a);I5(this).hC(a)};H5.prototype.flushAnchors=H5.prototype.Xc;H5.prototype.hh=function(a){I5(this).hC(a)};H5.prototype.flushDocoPositions=H5.prototype.hh;H5.prototype.fW=function(a){a=H0f(this,a);I5(this).MJ(a)};H5.prototype.updateAnchors=H5.prototype.fW;H5.prototype.gW=function(a){I5(this).MJ(a)};H5.prototype.updateDocoPositions=H5.prototype.gW;H5.prototype.Bd=function(a){I5(this).QX(Ka(a,this.xa,this))};H5.prototype.deleteAnchors=H5.prototype.Bd;
H5.prototype.Od=function(a){I5(this).QX(a)};H5.prototype.deleteDocoPositions=H5.prototype.Od;H5.prototype.hW=function(a){this.zk?this.zk.TP(a):this.qa=a};H5.prototype.updateViewport=H5.prototype.hW;H5.prototype.we=ba("Oa");H5.prototype.enableAnchoredDocoAnimations=H5.prototype.we;H5.prototype.Pn=function(){var a=this.F.R;return(a=a?this.D.ac(a):void 0)?S4(a):""};H5.prototype.getLinkedAnchor=H5.prototype.Pn;H5.prototype.px=function(){var a=this.F.R;return null===a?0:Y4(this.D,a)};
H5.prototype.getLinkedDoco=H5.prototype.px;H5.prototype.FO=function(){var a=this.F.R;return null===a?!1:!!this.D.H[a]};H5.prototype.isLinkedDocoDeleted=H5.prototype.FO;function H0f(a,b){var c={};wb(b,function(d,e){(e=this.xa(e))&&(c[e]=d)},a);return c}H5.prototype.z5=function(a){this.D.xa=a};H5.prototype.setActiveSuggestions=H5.prototype.z5;H5.prototype.zm=function(){var a=this.D.V;return a&&a.Ji()?a.getId():null};H5.prototype.getHighlightedSuggestionDocoId=H5.prototype.zm;
H5.prototype.xa=function(a){return(a=gTf(this.D,a))?Y4(this.D,a.getId()):0};H5.prototype.x5=function(){if(!this.F.V)throw Error("IJ");this.via=Ca();z0f(this).Bb()&&(He(this.eq),this.eq=null);Q2e(this.F.V,!1);z0f(this).render(this.F.V)};H5.prototype.renderPaneSurface=H5.prototype.x5;H5.prototype.HO=function(){return z0f(this).F.sna()};H5.prototype.isPaneSurfaceRendered=H5.prototype.HO;function I5(a){a.zk||(a.zk=I0f(a),a.qa&&(a.zk.TP(a.qa),a.qa=null));return a.zk}
function G0f(a){if(!a.$q){A0f(a);var b=I5(a);a.$q=new G5(a.H,b,z(a.D.W,a.D),b.oa())}return a.$q}function A0f(a){if(!a.ACa){a.ACa=!0;var b=a.F.V,c=a.F.ma;b&&(a.F.yc||afc(ydc(""),b),a.F.F.install(b));!c||b&&Ld(b)==Ld(c)||(a.F.yc||afc(ydc(""),c),a.F.F.install(c))}}H5.prototype.I3=function(){if(!this.F.ma)throw Error("JJ");G0f(this).Bb()&&(He(this.$q),this.$q=null,I0f(this));Q2e(this.F.ma,!1);G0f(this).render(this.F.ma)};H5.prototype.renderAnchorSurface=H5.prototype.I3;
function I0f(a){var b=a.F.Hg,c=j0f;"absolute"==b&&(c=ZUf);if(a.zk&&(a.zk instanceof c||a.zk.NJ()instanceof c))return a.zk;var d=Jd(a.F.ma);c=new c(a.H,d);d=a.F.W;!d||b&&"vertical"!=b||(c=new nWf(c,d));a.zk&&(a.zk.copyTo(c),He(a.zk));a.zk=c;a.zk.Aha(a);a.la(a.zk);return a.zk}
H5.prototype.T4=function(){if(!this.F.Oa)throw Error("KJ");this.Iq&&this.Iq.Bb()&&(He(this.Iq),this.Iq=null);this.Iq||this.O["enable-gsuite-embedding"]||(this.Iq=new SVf(this.H,Jd(this.F.Oa)),this.va.ga(this.Iq,"create-draft",this.yc),this.Iq.render(this.F.Oa))};H5.prototype.renderInstantDocosButton=H5.prototype.T4;H5.prototype.SV=function(a,b,c){this.Iq&&TVf(this.Iq,a,b,c)};H5.prototype.showInstantDocosButtonAt=H5.prototype.SV;H5.prototype.lb=function(a){this.Iq&&this.Iq.hide(a)};
H5.prototype.hideInstantDocosButton=H5.prototype.lb;H5.prototype.zi=function(){return this.zk?this.zk.SP():null};H5.prototype.getAnchorSurfaceBounds=H5.prototype.zi;H5.prototype.setOption=function(a,b){this.O[a]!==b&&(this.O[a]=b,this.F.QP(this.O))};H5.prototype.setOption=H5.prototype.setOption;H5.prototype.Iv=function(){if(this.eq){var a=this.eq;a.D.na&&a.D.na.focus()}};H5.prototype.grabFocus=H5.prototype.Iv;
H5.prototype.LV=function(a,b,c){this.O.listeners||(this.O.listeners={});this.O.listeners[a]=c?z(b,c):b;this.F.QP(this.O)};H5.prototype.setListener=H5.prototype.LV;function J0f(a,b){return b&&a.D.W(b)?b.getId():null}H5.prototype.Bj=function(a){return(a=a5(this.D,a))?a.Ct()?a.Ct().getTime():null:null};H5.prototype.getDocoCreationTime=H5.prototype.Bj;
H5.prototype.WE=function(a,b){var c=D4(this.H);a=gTf(this.D,a);a=J0f(this,a);var d=UNf(e4(a||""));b&&(b=this.F.Ba?this.eq.F.getId():G0f(this).getId(),f4(d,b));c.Ob("docos-before-highlight-doco").fireAction(d.build());g5(A4(this.H),a);c.Ob("docos-highlight-doco").fireAction(d.build())};H5.prototype.highlightAnchor=H5.prototype.WE;
H5.prototype.tb=function(a,b){var c=D4(this.H);a=a5(this.D,a);a=J0f(this,a);var d=UNf(e4(a||""));b&&(b=this.F.Ba?this.eq.F.getId():G0f(this).getId(),d=f4(d,b));c.Ob("docos-before-highlight-doco").fireAction(d.build());g5(A4(this.H),a);c.Ob("docos-highlight-doco").fireAction(d.build())};H5.prototype.highlightDoco=H5.prototype.tb;H5.prototype.D5=function(a){var b=D4(this.H);a=a5(this.D,a);a=J0f(this,a);if(null!=a){var c=this.D.ac(a);c&&Z4(this.ma,P4(O4(43045),c).build());b.Ob("docos-speak-doco").fireAction(a)}};
H5.prototype.verbalizeDoco=H5.prototype.D5;H5.prototype.oq=function(a){return!!gTf(this.D,a)};H5.prototype.hasDocoForAnchorId=H5.prototype.oq;H5.prototype.Dm=function(a){return!!a5(this.D,a)};H5.prototype.hasDoco=H5.prototype.Dm;H5.prototype.Wt=function(a){return(a=gTf(this.D,a))?a.Ji()?!rQf(this.D,a):C4(a):!1};H5.prototype.getResolvedForAnchorId=H5.prototype.Wt;H5.prototype.XI=function(a){return(a=a5(this.D,a))?C4(a):!1};H5.prototype.isDocoResolved=H5.prototype.XI;
H5.prototype.Mk=function(){var a=iTf(this.D),b={3:{},1:{},2:{}};b.draft=L(a.D,2);b["smart-todo"]=L(a.D,14);b.total=L(a.D,1);var c=b[3];c.open=L(a.D,11);c.resolved=L(a.D,8);c.total=L(a.D,5);c=b[1];c.open=L(a.D,9);c.resolved=L(a.D,6);c.total=L(a.D,3);c=b[2];c.accepted=L(a.D,12);c.open=L(a.D,10);c.rejected=L(a.D,13);c.resolved=L(a.D,7);c.total=L(a.D,4);return b};H5.prototype.getDocoCounts=H5.prototype.Mk;H5.prototype.Tl=function(){return iTf(this.D).D.clone().Ta()};H5.prototype.getDocoCounts2=H5.prototype.Tl;
H5.prototype.Hg=function(){return I5(this).b9().D.clone().Ta()};H5.prototype.getAnchoredDocoCounts=H5.prototype.Hg;H5.prototype.Zi=function(){return Eb(this.D.R)};H5.prototype.getAnchors=H5.prototype.Zi;H5.prototype.getDocoHandles=function(){return this.D.getDocoHandles()};H5.prototype.getDocoHandles=H5.prototype.getDocoHandles;H5.prototype.gb=function(){this.F.gC()&&(this.BT||(this.BT=new EWf(this.H),this.la(this.BT)),this.BT.setVisible(!0))};H5.prototype.displayNotificationControlDialog=H5.prototype.gb;
H5.prototype.Tb=function(a){return a.x};H5.prototype.eb=function(a){return a.y};function B0f(a){if(a.eya&&!UMf(a.H,"netIo")){var b=lWf(a.Ca);b&&(a.H.bd("netIo",b),a.Ha&&(a.Ha.J=b),b=a.W,sPf(b.D)?b.D.Ac?xWf(b.H,"r"):wWf(b)&&yWf(b):b.R(null),UMf(a.H,"subscriptionManager")&&JQf(a.H).H.resolve())}}H5.prototype.fd=function(a){this.W.J.get("netIo").D.qna(a)};H5.prototype.connectBrowserChannel=H5.prototype.fd;
H5.prototype.J0=function(){var a=z5(this,"net-error");a&&a((new p4("net-error")).build());this.F.ux&&(this.setOption("accessLevel","readonly"),a=z0f(this),a.ma||(a.ma=!0,X_f(a)))};H5.prototype.Wb=function(){xWf(this,"r");this.Ba()};H5.prototype.Ba=function(){this.eya=!0;B0f(this)};H5.prototype.G0=function(a){w0f(this,"r",a)};H5.prototype.onReady=H5.prototype.G0;H5.prototype.rQ=function(a){w0f(this,"s",a)};H5.prototype.onInitialSyncSuccess=H5.prototype.rQ;H5.prototype.mQ=function(a){w0f(this,"e",a)};
H5.prototype.onInitialSyncError=H5.prototype.mQ;H5.prototype.vd=function(){var a=this.F.O["create-draft"];if(a){var b=(new p4("create-draft")).setApiEventArgs(new t5(!1)).build();a(b)}else throw Error("LJ");};H5.prototype.yc=function(){var a=this.F.O["create-draft"];if(a){var b=(new p4("create-draft")).setApiEventArgs(new t5(!0,new Ed(0,this.Iq.F.J),this.Iq.F.V)).build();a(b)}};function w0f(a,b,c){if(b in a.ea){var d=a.ea[b];null===d?c():a.ea[b]=Dba(d,c)}else a.ea[b]=c}
function xWf(a,b){var c=a.ea[b];null!=c&&c();a.ea[b]=null}H5.prototype.WV=function(){this.Sa()};H5.prototype.tickle=H5.prototype.WV;H5.prototype.Sa=function(){a:{var a=this.W;if(sPf(a.D)){if(!a.V){if(!a.F&&!wWf(a))break a;yWf(a)}pWf(a.F,a.D.P_?1:void 0)}}};H5.prototype.sync=H5.prototype.Sa;H5.prototype.yd=function(){zWf(this.W)};H5.prototype.fullSync=H5.prototype.yd;H5.prototype.Ac=function(){var a=this.W;sPf(a.D)&&(a.F.J=!0)};H5.prototype.blockFutureSync=H5.prototype.Ac;
H5.prototype.XV=function(){var a=this.W;sPf(a.D)&&(a.F.J=!1)};H5.prototype.unblockFutureSync=H5.prototype.XV;H5.prototype.EO=function(){var a=this.W;return sPf(a.D)?a.F.J:!1};H5.prototype.isFutureSyncBlocked=H5.prototype.EO;H5.prototype.ux=function(){var a=this.F;return null!=a.RP?a.RP:6E4};H5.prototype.getRetryBackoffThreshold=H5.prototype.ux;H5.prototype.WI=function(){return this.F.NX};H5.prototype.isBrowserChannelEnabled=H5.prototype.WI;H5.prototype.DO=function(){return!!Cj(this.F.D,30)};
H5.prototype.isDocsStreamHeaderEnabled=H5.prototype.DO;H5.prototype.GO=function(){return tPf(this.F)};H5.prototype.isNewDocosStreamPaneUiEnabled=H5.prototype.GO;H5.prototype.oz=function(){return cTf(this.D)};H5.prototype.hasPendingContent=H5.prototype.oz;w=H5.prototype;
w.pfb=function(a){var b=this,c=a.data;a=QPf(Q4(43011),c.ii);var d=null!=c.xk;d&&RPf(a,c.xk);X4(dQf(this.H),a.build());Kf(WVf(this.J,c.ii),function(e){if(e){e=(e=b.D.V)&&e.getId()!==c.ii;e||(b.Kfa(new WRb(d?new RNf("",void 0,void 0,void 0,c.xk):d4())),b.Qda(new WRb(d?new RNf("",void 0,void 0,void 0,c.xk):d4())));var f=z5(b,"deleted");if(f&&c.xk&&c.Qm){var g=(new p4("deleted")).addAnchorId(c.xk).addDocoHandle(c.Qm).setUserInitiated(!0).build();f(g);b.ZH=null}e&&(b.ZH=b.D.V)}})};
w.B8a=function(a){a=a.data;K0f(this,a.Qm,a.ii,a.UH)};w.Cfb=function(a){a=a.data;K0f(this,a.Qm,a.ii,a.UH,a.$Oa)};function K0f(a,b,c,d,e){var f=z5(a,"before-doco-deleted");if(f&&b){var g=S4(a5(a.D,b));d=e?new HVf(d,e):new r5(d);b=(new tVf("before-doco-deleted")).addAnchorId(g).addDocoHandle(b).setUserInitiated(!0).setApiEventArgs(d).build();f(b);if(b.D)return}L0f(a,c,!0,e)}
w.zfb=function(a){var b=a.data;if((a=z5(this,"converted"))&&b){var c=S4(a5(this.D,b.Qm)),d=new s5(c,b.Wxa,b.UH);b=(new tVf("converted")).addAnchorId(c).addDocoHandle(b.Qm).setUserInitiated(!0).setApiEventArgs(d).build();a(b)}};w.A8a=function(a){(a=a5(this.D,a))&&L0f(this,a.getId(),!1)};H5.prototype.deleteDoco=H5.prototype.A8a;function L0f(a,b,c,d){var e=a.D.ac(b),f=Y4(a.D,b);e=S4(e);var g=a.J;b=v5(g,z(g.fJa,g,b,d));Kf(b,z(a.N6,a,e,f,c))}
H5.prototype.N6=function(a,b,c,d){if(d){d=z5(this,"before-selected");var e=z5(this,"selected"),f=z5(this,"deleted");if(a&&b){if(d){var g=(new p4("before-selected")).setUserInitiated(c).build();d(g)}e&&(g=(new p4("selected")).setUserInitiated(c).build(),e(g));f&&(g=(new p4("deleted")).addAnchorId(a).addDocoHandle(b).setUserInitiated(c).build(),f(g));this.ZH=null}}};H5.prototype.cW=function(a){return jQf(this.R,a)};H5.prototype.undoDeleteDoco=H5.prototype.cW;
H5.prototype.KV=function(a){this.Wa=a;R(G0f(this).ha(),a)};H5.prototype.setDocosGutterVisibility=H5.prototype.KV;H5.prototype.CO=p("Wa");H5.prototype.isDocosGutterVisible=H5.prototype.CO;H5.prototype.ef=function(){var a=this.Jb;a.D=a.J.J.D;a.H.setOption("accessLevel","readonly")};H5.prototype.enterReanchorMode=H5.prototype.ef;H5.prototype.y5=function(){var a=this.Jb;a.F.aa=!1;null!=a.D&&(a.H.setOption("accessLevel",a.D),a.D=null)};H5.prototype.resetReanchorMode=H5.prototype.y5;
H5.prototype.VI=function(a,b){var c=this.J;a=v5(c,z(c.Inb,c,a));Kf(a,b)};H5.prototype.interceptingUndoDeleteDoco=H5.prototype.VI;H5.prototype.RV=function(a,b){this.R.pna(a,new bNf(b))};H5.prototype.setSuggestionQuote=H5.prototype.RV;H5.prototype.UI=function(a,b){var c=this.J;b=new bNf(b);v5(c,z(c.vlb,c,a,b))};H5.prototype.interceptingSetSuggestionQuote=H5.prototype.UI;H5.prototype.Hv=function(a){a=a5(this.D,a);if(!a)return null;if(!a.Ji())throw Error("MJ");return a.WQ()};
H5.prototype.getSuggestionQuote=H5.prototype.Hv;H5.prototype.Dc=function(a){return this.Ka?jVf(this.Ka,a):new hVf(ue())};H5.prototype.findAssignee=H5.prototype.Dc;H5.prototype.VV=function(){KQf(this.H).D=!0};H5.prototype.startBatchEvent=H5.prototype.VV;H5.prototype.Ie=function(){var a=KQf(this.H);a.D&&(a.D=!1,a.F.dispatchEvent(null))};H5.prototype.endBatchEvent=H5.prototype.Ie;w=H5.prototype;w.D8a=function(a){a=a.data;var b=this.J;b=v5(b,z(b.nkb,b,a.D,a.F,a.H));Kf(b,z(this.pjb,this,a))};
w.pjb=function(a,b){if(b){b=z5(this,"before-selected");var c=z5(this,"selected");if(c){var d=this.D.ac(a.D),e=Y4(this.D,a.D);d&&d.Vu()&&e&&(a.F?(b&&(a=(new p4("before-selected")).setUserInitiated(!0).build(),b(a)),a=(new p4("selected")).setUserInitiated(!0).build(),c(a),this.ZH=null):(b&&(a=(new p4("before-selected")).addAnchorId(S4(d)).addDocoHandle(e).setUserInitiated(!0).build(),b(a)),a=(new p4("selected")).addAnchorId(S4(d)).addDocoHandle(e).setUserInitiated(!0).build(),c(a),this.ZH=d))}}};
w.yib=function(a){a=a.data;var b=this.J;v5(b,z(b.iob,b,a.D,a.F))};w.zib=function(a){a=a.data;var b=this.J;v5(b,z(b.job,b,a.D,a.F,a.H))};w.gfb=function(a){var b=this.F.Od;b&&(a=this.D.ac(a.data.ii))&&b(S4(a),!0)};
function M0f(a,b,c){var d=z5(a,c);if(d){var e=a.D.ac(b.D)||null,f=b.H;if(e!=a.ZH||"number"===typeof f){var g=new p4(c),k=Y4(a.D,b.D);e&&e.Vu()&&k&&g.addAnchorId(S4(e)).addDocoHandle(k);k=new qZ;var l=b.W;null!=l?k=new rVf(l):"number"===typeof f?k=new rZ(f):void 0!==b.J&&(k=new LVf(b.J));f=!!e&&!a.D.W(e);g.setNonAnchored(f).setUserInitiated(b.R).setApiEventArgs(k);d(g.build())}"selected"==c&&(a.ZH=e)}}w.Kfa=function(a){M0f(this,a.data,"before-selected")};
w.Qda=function(a){var b=a.data;M0f(this,b,"selected");if(a=this.D.ac(b.D)){b="number"===typeof b.H?4:b.F==G0f(this).getId()?1:b.F==z0f(this).F.getId()?2:3;var c=this.ma;a=P4(O4(43044),a);a.J=b;Z4(c,a.build())}};w.Rgb=function(a){a=a.data;var b=a.D,c=this.J;v5(c,z(c.RFa,c,a.F,a.H,null,b?b:void 0))};w.Bib=function(a){var b=a.data;if(a=z5(this,"write-feedback"))b=(new p4("write-feedback")).setUserInitiated(!0).setApiEventArgs(new t0f(b.source)).build(),a(b)};
w.Hfb=function(){var a=z5(this,"disable-smart-todo-feature");if(a){var b=(new p4("disable-smart-todo-feature")).setUserInitiated(!0).build();a(b)}};w.C8a=function(a){var b=this,c=a.data;Kf(XVf(this.J,c.nKa,c.xk,c.text,c.quote,c.M4,c.cP),function(d){if(0<d){var e=c.xk,f=c.Qm,g=z5(b,"posted");g&&e&&f&&(e=(new p4("posted")).addAnchorId(e).addDocoHandle(f).setUserInitiated(!0).build(),g(e));b.Kfa(new WRb(d4()));b.Qda(new WRb(d4()))}return d})};
w.Mgb=function(a){var b=z5(this,"hover");if(b){a=a.data;var c=XNf("hover").setNonAnchored(!a.D6a).setUserInitiated(!0);if(a.K6a){var d=this.D.ac(a.ii);c.addAnchorId(d?S4(d):"");c.addDocoHandle(Y4(this.D,a.ii))}b(c.build())}};w.Jgb=function(a){if("dd"==a.type){var b=z5(this,"deleted");if(b&&a.D&&a.F&&(a.yk||this.F.xa)&&a.O&16){var c=(new p4("deleted")).addDocoHandle(a.F);a.yk&&c.addAnchorId(a.yk);a=c.build();b(a)}}};
w.Igb=function(a){if("bu"==a.type){var b=XNf("created");this.ia&&(b.setApiEventArgs(new u5(this.ia,a.D[0].xk)),this.ia=null);var c=XNf("resolved"),d=XNf("unresolved");b=GVf(b,a.D,8);c=GVf(c,a.D,2);d=GVf(d,a.D,4);N0f(this,"created",b);N0f(this,"resolved",c);N0f(this,"unresolved",d)}};w.Zgb=function(a){if("p"==a.type&&(a=z5(this,"pending"))){var b=(new p4("pending")).setUserInitiated(!0).build();a(b)}};
w.Veb=function(){var a=z5(this,"view-updated");if(a){var b=(new p4("view-updated")).setUserInitiated(!0).build();a(b)}};function N0f(a,b,c){a=z5(a,b);!c.isEmpty()&&a&&a(c.build())}function z5(a,b){return a.Yb()?null:a.F.O[b]||null}
w.wa=function(){delete this.zk;delete this.F;delete this.rH;delete this.R;delete this.Ha;delete this.va;delete this.Ya;delete this.Ca;delete this.BT;delete this.na;delete this.D;delete this.Ja;He(this.Iq);delete this.Iq;He(this.$q);delete this.$q;He(this.eq);delete this.eq;H5.Ia.wa.call(this);He(this.H);delete this.H};na("Docos",H5,void 0);na("Docos.Point",Ed,void 0);na("Docos.Point.getX",H5.prototype.Tb,void 0);na("Docos.Point.getY",H5.prototype.eb,void 0);
na("Docos.AbstractAlteredDocoArgs",AUf,void 0);na("Docos.NewDraftArgs",GUf,void 0);na("Docos.LayoutType.ABSOLUTE","absolute",void 0);na("Docos.LayoutType.VERTICAL","vertical",void 0);na("Docos.UiVersion.LEGACY","legacy",void 0);na("Docos.UiVersion.MATERIAL_BLUE","material_blue",void 0);na("Docos.UiVersion.MATERIAL_GREEN","material_green",void 0);na("Docos.UiVersion.MATERIAL_YELLOW","material_yellow",void 0);na("Docos.OptionName.ACCESS_LEVEL","accessLevel",void 0);
na("Docos.OptionName.ACL_CHECK_FN","acl-check-fn",void 0);na("Docos.OptionName.ACL_FIX_FN","acl-fix-fn",void 0);na("Docos.OptionName.ANCHOR_DIV","anchordiv",void 0);na("Docos.OptionName.ANCHOR_IS_ORPHANED_FN","anchor-is-orphaned-fn",void 0);na("Docos.OptionName.ANCHOR_MUTATE_FN","anchor-mutate-fn",void 0);na("Docos.OptionName.ANCHOR_SHADOW","anchor-shadow",void 0);na("Docos.OptionName.AUTO_COMPLETE_FACTORIES","auto-complete-factories",void 0);
na("Docos.OptionName.BROWSER_APP_CLIPBOARD","browser-app-clipboard",void 0);na("Docos.OptionName.DRIVE_ID","drive-id",void 0);na("Docos.OptionName.DOCO_LINK_BASE_URL","doco-link-base-url",void 0);na("Docos.OptionName.DEFER_FIRST_SYNC","defer-first-sync",void 0);na("Docos.OptionName.DELETE_DIALOG_SHOW","delete-dialog-show",void 0);na("Docos.OptionName.DIALOG_CLOSED","dialog-closed",void 0);na("Docos.OptionName.DIALOG_OPENED","dialog-opened",void 0);
na("Docos.OptionName.DISABLE_FOCUS","disable-focus",void 0);na("Docos.OptionName.DISABLE_STREAM_PANE_FOCUS_WRAPPING","disable-spfw",void 0);na("Docos.OptionName.DOC_SCROLLER","docscroller",void 0);na("Docos.OptionName.ENABLE_COMMENT_BUTTON","enable-comment-button",void 0);na("Docos.OptionName.ENABLE_GSUITE_EMBEDDING","enable-gsuite-embedding",void 0);na("Docos.OptionName.ENABLE_INSTANT_MENTIONS","enable-instant-mentions",void 0);na("Docos.OptionName.ENABLE_LAZY_LOADING","enable-lazy-loading",void 0);
na("Docos.OptionName.ENABLE_PRESENCE_MODAL","enable-presence-modal",void 0);na("Docos.OptionName.ENABLE_NEW_DELETE_UI","enable-new-delete-ui",void 0);na("Docos.OptionName.ENABLE_ALL_DOCOS_IN_ANCHORED_STREAM","enable-all-docos-in-anchored-stream",void 0);na("Docos.OptionName.ENABLE_ROVING_TABINDEX","enable-roving-tabindex",void 0);na("Docos.OptionName.ENABLE_TRACK_MOUSE_POSITIONS_IN_DOCO_VIEW","enable-track-mouse-positions-in-doco-view",void 0);
na("Docos.OptionName.ENABLE_DOCOS_PEOPLE_HOVERCARD","enable-docos-people-hovercard",void 0);na("Docos.OptionName.FATAL_READONLY","fatal-readonly",void 0);na("Docos.OptionName.HIDE_NOTIFICATION_SETTINGS","hide-notification",void 0);na("Docos.OptionName.HIDE_PROMO_FN","hidepromofn",void 0);na("Docos.OptionName.IGNORE_POSITIONAL_HISTORY","iph",void 0);na("Docos.OptionName.IMPRESSION_RECORDER_FN","impression-recorder-fn",void 0);na("Docos.OptionName.INACTIVE_DOCO_INDENT","inactive-doco-indent",void 0);
na("Docos.OptionName.INSTANT_DOCOS_DIV","instant-docos-div",void 0);na("Docos.OptionName.INTERCEPT_DOCO_EDIT_FN","intercept-docos-edit-fn",void 0);na("Docos.OptionName.IS_AN_ILLEGAL_WRITE_FUNCTION","is-an-illegal-write-fn",void 0);na("Docos.OptionName.IO","i",void 0);na("Docos.OptionName.IS_UNTRUSTED_IFRAME","untrusted-iframe",void 0);na("Docos.OptionName.KEY_DATA","kd",void 0);na("Docos.OptionName.LATENCY_REPORTER","latency-reporter",void 0);
na("Docos.OptionName.MEMORY_MONITOR_FN","memory-monitor-fn",void 0);na("Docos.OptionName.LAYOUT","layout",void 0);na("Docos.OptionName.LAYOUT_RTL","layoutrtl",void 0);na("Docos.OptionName.LINK_OPENER","link-opener",void 0);na("Docos.OptionName.LISTENERS","listeners",void 0);na("Docos.OptionName.LOAD_ACL_FIXER_FN","load-acl-fixer-fn",void 0);na("Docos.OptionName.LOCAL","l",void 0);na("Docos.OptionName.LOG_LATENCY_EVENT_FN","log-latency-event-fn",void 0);
na("Docos.OptionName.MAX_DOCO_HEIGHT","maxheight",void 0);na("Docos.OptionName.MODAL_DIALOG_Z_INDEX","modal-dialog-z-index",void 0);na("Docos.OptionName.OFFLINE","offline",void 0);na("Docos.OptionName.OVERFLOW_MENU_ITEMS","overflow-menu-items",void 0);na("Docos.OptionName.OVERFLOW_MENU_SHOW_LINK","overflow-menu-show-link",void 0);na("Docos.OptionName.PANE_DIV","panediv",void 0);na("Docos.OptionName.PANE_KB_DIV","panekbdiv",void 0);na("Docos.OptionName.PRESENCE_MODAL_SHOW","presence-modal-show",void 0);
na("Docos.OptionName.SHOW_ERRORS","showerrors",void 0);na("Docos.OptionName.TOOLTIP_MANAGER","tooltip-manager",void 0);na("Docos.OptionName.QUOTE_FN","quotefn",void 0);na("Docos.OptionName.QUOTE_RENDER_FN","quoterenderfn",void 0);na("Docos.OptionName.READONLY","readonly",void 0);na("Docos.OptionName.RESOLVE","resolve",void 0);na("Docos.OptionName.SCROLL_CONTAINER","container",void 0);na("Docos.OptionName.SCROLL_CONTAINER_DIV","containerdiv",void 0);
na("Docos.OptionName.SET_TOTAL_DOCOS_COUNTS_FN","set-total-docos-counts-fn",void 0);na("Docos.OptionName.SHOW_PROMO_FN","showpromofn",void 0);na("Docos.OptionName.SORT_PANE","sortpane",void 0);na("Docos.OptionName.SORT_PANE_BY","sortpaneby",void 0);na("Docos.OptionName.STORAGE","storage",void 0);na("Docos.OptionName.STORAGE_IS_READ_ONLY","storage-ro",void 0);na("Docos.OptionName.STREAM_BUTTON","stream-button",void 0);
na("Docos.OptionName.STREAM_PANE_BANNER_LEARN_MORE_URL","stream-pane-banner-learn-more-url",void 0);na("Docos.OptionName.STREAM_PANE_BANNER_MESSAGE","stream-pane-banner-message",void 0);na("Docos.OptionName.SYNC_ONCE","so",void 0);na("Docos.OptionName.UI_VERSION","ui-version",void 0);na("Docos.OptionName.USER_COLOR_FROM_NAME_PROVIDER_FN","user-color-provider-from-name-fn",void 0);na("Docos.OptionName.USER_COLOR_PROVIDER_FN","user-color-provider-fn",void 0);
na("Docos.OptionName.STATIC_INPUT_PANE_MESSAGE","static-input-pane-message",void 0);na("Docos.EventType.BEFORE_DOCO_DELETED","before-doco-deleted",void 0);na("Docos.EventType.BEFORE_SELECTED","before-selected",void 0);na("Docos.EventType.BEFORE_SUGGESTION_ACCEPTED","before-suggestion-accepted",void 0);na("Docos.EventType.BEFORE_SUGGESTION_REJECTED","before-suggestion-rejected",void 0);na("Docos.EventType.BOUNDS_UPDATED","bounds",void 0);na("Docos.EventType.CONVERTED","converted",void 0);
na("Docos.EventType.CREATE_DRAFT","create-draft",void 0);na("Docos.EventType.CREATED","created",void 0);na("Docos.EventType.DELETED","deleted",void 0);na("Docos.EventType.DISABLE_SMART_TODO_FEATURE","disable-smart-todo-feature",void 0);na("Docos.EventType.DOCO_RENDERED","doco-rendered",void 0);na("Docos.EventType.HIGHLIGHT_INITIAL_DOCO","highlight-initial-doco",void 0);na("Docos.EventType.HOVER","hover",void 0);na("Docos.EventType.INITIAL_ANCHORED_RENDER_DONE","initial-anchored-render-done",void 0);
na("Docos.EventType.INITIAL_PANE_RENDER_DONE","initial-pane-render-done",void 0);na("Docos.EventType.INITIAL_SYNC_ERROR","sync-error",void 0);na("Docos.EventType.INITIAL_SYNC_SUCCESS","sync-success",void 0);na("Docos.EventType.INITIAL_SYNC_AND_RENDER_COMPLETE","initial-sync-and-render-complete",void 0);na("Docos.EventType.LINKED_DOCO_HIGHLIGHTED","linked-doco-highlighted",void 0);na("Docos.EventType.MODEL_LOADED","model-loaded",void 0);na("Docos.EventType.NETWORK_ERROR","net-error",void 0);
na("Docos.EventType.PENDING","pending",void 0);na("Docos.EventType.POSTED","posted",void 0);na("Docos.EventType.REANCHOR","reanchor",void 0);na("Docos.EventType.RESOLVED","resolved",void 0);na("Docos.EventType.SELECTED","selected",void 0);na("Docos.EventType.TOGGLE_SHOW_STREAM_PANE","toggle-show-stream-pane",void 0);na("Docos.EventType.UNRESOLVED","unresolved",void 0);na("Docos.EventType.VIEW_FLUSHED","view-updated",void 0);na("Docos.EventType.WRITE_FEEDBACK","write-feedback",void 0);
na("Docos.AccessLevel.READONLY","readonly",void 0);na("Docos.AccessLevel.SUGGEST","suggest",void 0);na("Docos.AccessLevel.FULL","full",void 0);na("Docos.NewDocoType",ESc,void 0);na("Docos.NewDocoType.CLIENT_INTEGRATED_DRAFT","client-integrated-draft",void 0);na("Docos.NewDocoType.DISCUSSION","discussion",void 0);na("Docos.NewDocoType.DRAFT","draft",void 0);na("Docos.NewDocoType.INSTANT_DOCO","instant-doco",void 0);na("Docos.NewDocoType.SMART_TODO","smart-todo",void 0);
na("Docos.NewDocoType.SUGGESTION","suggestion",void 0);na("Docos.prototype.dispose",H5.prototype.dispose,void 0);na("Docos.CountField.ACCEPTED","accepted",void 0);na("Docos.CountField.DRAFT","draft",void 0);na("Docos.CountField.OPEN","open",void 0);na("Docos.CountField.REJECTED","rejected",void 0);na("Docos.CountField.RESOLVED","resolved",void 0);na("Docos.CountField.TOTAL","total",void 0);na("Docos.FeedbackSource.SMART_TODO","smart-todo",void 0);
window.closure_verification&&(window.closure_verification.dcs_main_js={});fg(ag(),"docos");function O0f(){df.apply(this,arguments)}x(O0f,df);O0f.prototype.D=function(a){return oa("docos.api.connect")(a)};cg("docos").xl(O0f);dg(ag());
